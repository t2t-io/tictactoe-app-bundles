!function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){(function(__filename){(function(){var yapps,ref$,DBG,INFO,ERR,app,system,k,v;yapps=require("yap-require-hook").addReference(require("yapps"),"yapps"),yapps.init(__filename),ref$=global.getLogger(__filename),DBG=ref$.DBG,INFO=ref$.INFO,ERR=ref$.ERR,app=yapps.createApp("web",{}),app.addPlugin(require("yap-require-hook").addReference(require("system-helpers"),"system-helpers")),app.addPlugin(require("yap-require-hook").addReference(require("system-info"),"system-info")),app.addPlugin(require("yap-require-hook").addReference(require("communicator"),"communicator")),app.addPlugin(require("yap-require-hook").addReference(require("./lib/tcp-proxy"),"./lib/tcp-proxy")),app.addPlugin(require("yap-require-hook").addReference(require("./lib/tcp-proxy-webapi"),"./lib/tcp-proxy-webapi")),app.addPlugin(require("yap-require-hook").addReference(require("./lib/ps-manager"),"./lib/ps-manager")),app.addPlugin(require("yap-require-hook").addReference(require("./lib/ps-websocket"),"./lib/ps-websocket")),app.addPlugin(require("yap-require-hook").addReference(require("./lib/ps-webapi"),"./lib/ps-webapi")),app.addPlugin(require("yap-require-hook").addReference(require("./lib/ps-impls/linux-stats"),"./lib/ps-impls/linux-stats")),app.addPlugin(require("yap-require-hook").addReference(require("./lib/ps-impls/linux-wireless"),"./lib/ps-impls/linux-wireless")),app.addPlugin(require("yap-require-hook").addReference(require("./lib/blemo"),"./lib/blemo")),app.addPlugin(require("yap-require-hook").addReference(require("./lib/system-webapi"),"./lib/system-webapi")),app.addPlugin(require("yap-require-hook").addReference(require("./lib/client-websocket"),"./lib/client-websocket")),system=require("module");for(k in ref$=system._extensions)v=ref$[k],console.log("module._extensions["+k+"]");app.init(function(err){return null!=err?ERR(err,"failed to initialize app"):DBG("started")})}).call(this)}).call(this,"/Users/yagamy/Works/workspaces/t2t/yapps-tt/apps/sensor-web3/app.js")},{"./lib/blemo":9,"./lib/client-websocket":14,"./lib/ps-impls/linux-stats":24,"./lib/ps-impls/linux-wireless":25,"./lib/ps-manager":27,"./lib/ps-webapi":28,"./lib/ps-websocket":29,"./lib/system-webapi":30,"./lib/tcp-proxy":32,"./lib/tcp-proxy-webapi":31,communicator:479,module:"module","system-helpers":484,"system-info":488,"yap-require-hook":455,yapps:459}],2:[function(require,module,exports){(function(__filename){(function(){function extend$(sub,sup){function fun(){}return fun.prototype=(sub.superclass=sup).prototype,(sub.prototype=new fun).constructor=sub,"function"==typeof sup.extended&&sup.extended(sub),sub}function import$(obj,src){var own={}.hasOwnProperty;for(var key in src)own.call(src,key)&&(obj[key]=src[key]);return obj}var EE,ref$,async,lodash_merge,lodash_sortBy,lodash_find,lodash_padEnd,yapps_utils,CREATE_BUFFER_WITH_INTS,CREATE_BUFFER_WITH_HEXES_SMARTLY,DBG,ERR,WARN,INFO,LED,EVT_CHANNEL_RESUMED,EVT_CHANNEL_PAUSED,EVT_CHANNEL_READY,EVT_CHANNEL_INCOMING_RAW_PACKET,EVT_CHANNEL_INCOMING_COMMAND_PACKET,EVT_CHANNEL_COMMAND_QUEUE_DEQUEUED,EVT_CHANNEL_RAW_QUEUE_DEQUEUED,EVENTS,CHANNEL_CATEGORY_RESERVED,CHANNEL_CATEGORY_CONTROL,CHANNEL_CATEGORY_HEARTBEAT,CHANNEL_CATEGORY_DIRECT,CHANNEL_CATEGORY_UNKNOWN,CHANNEL_CATEGORIES,QUEUE_PRIORITY_LOW,QUEUE_PRIORITY_MEDIUM_1,QUEUE_PRIORITY_MEDIUM_2,QUEUE_PRIORITY_MEDIUM_3,QUEUE_PRIORITY_MEDIUM_4,QUEUE_PRIORITY_HIGH,QUEUE_PRIORITY_TOP,BLE_PACKET_MAX_BYTES,DIRECT_CHANNEL_BYTE_START,HEARTBEAT_INTERVAL,DEFAULT_QUEUE_OPTS,DEFAULT_CHANNEL_OPTS,INIT_QUEUE,TO_HEX,TO_ALIAS,Packet,PacketQueue,BleChannelManager,exports;EE=require("yap-require-hook").addReference(require("events"),"events"),ref$=global.getBundledModules(),async=ref$.async,lodash_merge=ref$.lodash_merge,lodash_sortBy=ref$.lodash_sortBy,lodash_find=ref$.lodash_find,lodash_padEnd=ref$.lodash_padEnd,yapps_utils=ref$.yapps_utils,ref$=yapps_utils.buffer_utils,CREATE_BUFFER_WITH_INTS=ref$.CREATE_BUFFER_WITH_INTS,CREATE_BUFFER_WITH_HEXES_SMARTLY=ref$.CREATE_BUFFER_WITH_HEXES_SMARTLY,ref$=global.getLogger(__filename),DBG=ref$.DBG,ERR=ref$.ERR,WARN=ref$.WARN,INFO=ref$.INFO,LED=require("yap-require-hook").addReference(require("./trigger"),"./trigger"),EVT_CHANNEL_RESUMED="resumed",EVT_CHANNEL_PAUSED="paused",EVT_CHANNEL_READY="ready",EVT_CHANNEL_INCOMING_RAW_PACKET="incoming-raw-packet",EVT_CHANNEL_INCOMING_COMMAND_PACKET="incoming-command-packet",EVT_CHANNEL_COMMAND_QUEUE_DEQUEUED="cmd-queue-dequeued",EVT_CHANNEL_RAW_QUEUE_DEQUEUED="raw-queue-dequeued",EVENTS={EVT_CHANNEL_RESUMED:EVT_CHANNEL_RESUMED,EVT_CHANNEL_PAUSED:EVT_CHANNEL_PAUSED,EVT_CHANNEL_READY:EVT_CHANNEL_READY,EVT_CHANNEL_INCOMING_RAW_PACKET:EVT_CHANNEL_INCOMING_RAW_PACKET,EVT_CHANNEL_INCOMING_COMMAND_PACKET:EVT_CHANNEL_INCOMING_COMMAND_PACKET,EVT_CHANNEL_COMMAND_QUEUE_DEQUEUED:EVT_CHANNEL_COMMAND_QUEUE_DEQUEUED,EVT_CHANNEL_RAW_QUEUE_DEQUEUED:EVT_CHANNEL_RAW_QUEUE_DEQUEUED},CHANNEL_CATEGORY_RESERVED="reserved",CHANNEL_CATEGORY_CONTROL="control",CHANNEL_CATEGORY_HEARTBEAT="heartbeat",CHANNEL_CATEGORY_DIRECT="direct",CHANNEL_CATEGORY_UNKNOWN="uknown",CHANNEL_CATEGORIES={CHANNEL_CATEGORY_RESERVED:CHANNEL_CATEGORY_RESERVED,CHANNEL_CATEGORY_CONTROL:CHANNEL_CATEGORY_CONTROL,CHANNEL_CATEGORY_HEARTBEAT:CHANNEL_CATEGORY_HEARTBEAT,CHANNEL_CATEGORY_DIRECT:CHANNEL_CATEGORY_DIRECT,CHANNEL_CATEGORY_UNKNOWN:CHANNEL_CATEGORY_UNKNOWN},QUEUE_PRIORITY_LOW=0,QUEUE_PRIORITY_MEDIUM_1=1,QUEUE_PRIORITY_MEDIUM_2=2,QUEUE_PRIORITY_MEDIUM_3=3,QUEUE_PRIORITY_MEDIUM_4=4,QUEUE_PRIORITY_HIGH=5,QUEUE_PRIORITY_TOP=10,BLE_PACKET_MAX_BYTES=20,DIRECT_CHANNEL_BYTE_START="0x80",HEARTBEAT_INTERVAL=1e3,DEFAULT_QUEUE_OPTS={enabled:!0,priority:QUEUE_PRIORITY_MEDIUM_1},DEFAULT_CHANNEL_OPTS={transmission_interval:300,transmission_trigger:null,heartbeat_interval:HEARTBEAT_INTERVAL,characteristic:"FF01",queues:{general:{reserved:{"0x00":{enabled:!1},"0x01":{},"0x02":{},"0x03":{}},control:{"#":{priority:QUEUE_PRIORITY_MEDIUM_2},"!":{priority:QUEUE_PRIORITY_MEDIUM_2},"%":{priority:QUEUE_PRIORITY_MEDIUM_3},"&":{priority:QUEUE_PRIORITY_MEDIUM_4},"*":{priority:QUEUE_PRIORITY_MEDIUM_4}}},heartbeat:"0x20",direct:DIRECT_CHANNEL_BYTE_START}},INIT_QUEUE=function(queue,done){return queue.init(done)},TO_HEX=function(x){var hex;return hex=x.toString(16).toUpperCase(),2===hex.length?"0x"+hex:"0x0"+hex},TO_ALIAS=function(byte){var prefix,visible,alias;return prefix=TO_HEX(byte),visible=byte>=32&&127>byte,alias=visible?String.fromCharCode(byte):prefix,{alias:alias,visible:visible,prefix:prefix}},Packet=function(){function Packet(byte,alias,payload,fullyPayloaded){var xs,res$,i$,len$,p;for(this["byte"]=byte,this.alias=alias,this.payload=null!=payload?payload:[],null==fullyPayloaded&&(fullyPayloaded=!1),res$=[],i$=0,len$=payload.length;len$>i$;++i$)p=payload[i$],res$.push(p);if(xs=res$,fullyPayloaded){for(this["byte"]=xs.shift(),this.payload=xs,res$=[],i$=0,len$=payload.length;len$>i$;++i$)p=payload[i$],res$.push(p);this.data=res$}else this.data=[byte].concat(xs);this.buffer=CREATE_BUFFER_WITH_INTS(this.data)}Packet.displayName="Packet";Packet.prototype;return Packet.prototype.toBuffer=function(){return this.buffer},Packet.prototype.toJson=function(){var byte,alias,buffer;return byte=this["byte"],alias=this.alias,buffer=this.buffer,{alias:alias,"byte":byte,buffer:buffer}},Packet.prototype.toMessage=function(){var self,ref$,alias,buffer,hexes,xs,res$,i$,len$,x,ys;for(ref$=self=this,alias=ref$.alias,buffer=ref$.buffer,hexes=lodash_padEnd(buffer.toString("hex").toUpperCase(),2*BLE_PACKET_MAX_BYTES),res$=[],i$=0,len$=buffer.length;len$>i$;++i$)x=buffer[i$],x>=32&&127>x?res$.push(String.fromCharCode(x)):res$.push(".");return xs=res$,xs=xs.join(""),xs=lodash_padEnd(xs,BLE_PACKET_MAX_BYTES),ys=alias,1===ys.length&&(ys+="   "),"["+ys.green+"]:"+xs.yellow+" ("+hexes.gray+")"},Packet}(),PacketQueue=function(){function PacketQueue(manager,category,prefix,opts,priority){var ref$,alias,visible,enabled;this.manager=manager,this.category=category,null==priority&&(priority=null),this.opts=lodash_merge({},DEFAULT_QUEUE_OPTS,opts),this["byte"]=1===prefix.length?prefix.charCodeAt(0):parseInt(prefix),this.byte_complementary=256-this["byte"],ref$=TO_ALIAS(this["byte"]),alias=ref$.alias,visible=ref$.visible,prefix=ref$.prefix,this.prefix=prefix,this.alias=alias,this.visible=visible,this.packets=[],this.priority=null!=priority?priority:this.opts.priority,enabled=this.opts.enabled,this.enabled=enabled,this.loggingPrefix="mcs4w["+this.manager.name.cyan+"]["+this.alias.yellow+"]"}PacketQueue.displayName="PacketQueue";PacketQueue.prototype;return PacketQueue.prototype.init=function(done){var self,ref$,loggingPrefix,prefix,priority,category;return ref$=self=this,loggingPrefix=ref$.loggingPrefix,prefix=ref$.prefix,priority=ref$.priority,category=ref$.category,INFO(loggingPrefix+": initiated => category:"+category.green+" prefix:"+prefix.green+" priority:"+priority),done()},PacketQueue.prototype.reset=function(){var left,message;return left=this.packets.length,message=0===left?"reset.":"reset and drop "+left+" packets.",INFO(this.loggingPrefix+": "+message),this.packets=[]},PacketQueue.prototype.dequeue=function(){return this.packets.length>0?this.packets.shift():null},PacketQueue.prototype.enqueue=function(payload,fullyPayloaded){var buffer,p;return null==fullyPayloaded&&(fullyPayloaded=!1),buffer=CREATE_BUFFER_WITH_HEXES_SMARTLY(payload),p=new Packet(this["byte"],this.alias,buffer,fullyPayloaded),this.packets.push(p)},PacketQueue.prototype.toJson=function(){var self,ref$,byte,prefix,alias,priority,category;return ref$=self=this,byte=ref$["byte"],prefix=ref$.prefix,alias=ref$.alias,priority=ref$.priority,category=ref$.category,{alias:alias,"byte":byte,prefix:prefix,priority:priority,category:category}},PacketQueue.prototype.getRemainings=function(){return null==this.packets?0:this.packets.length},PacketQueue}(),BleChannelManager=function(superclass){function BleChannelManager(cw,name,opts,cwLoggingPrefix){var self;this.cw=cw,this.name=name,self=this,this.opts=opts=lodash_merge({},DEFAULT_CHANNEL_OPTS,opts),this.transmissionInterval=opts.transmission_interval,this.led=new LED(opts.transmission_trigger),this.characteristic=opts.characteristic,this.timeoutObject=null,this.initiated=!1,this.running=!1,this.loggingPrefix=cwLoggingPrefix+"<"+this.characteristic.magenta+">",this.events=EVENTS,this.directChannelByteStart=parseInt(DIRECT_CHANNEL_BYTE_START)}extend$((import$(BleChannelManager,superclass).displayName="BleChannelManager",BleChannelManager),superclass).prototype;return BleChannelManager.prototype.init=function(done){var self,ref$,opts,led,queueOpts,rq,res$,prefix,cq,heartbeat,direct,xs,i$,len$,x;ref$=self=this,opts=ref$.opts,led=ref$.led,queueOpts=opts.queues,res$=[];for(prefix in ref$=queueOpts.general.reserved)opts=ref$[prefix],res$.push(new PacketQueue(self,CHANNEL_CATEGORY_RESERVED,prefix,opts,QUEUE_PRIORITY_TOP));rq=res$,res$=[];for(prefix in ref$=queueOpts.general.control)opts=ref$[prefix],res$.push(new PacketQueue(self,CHANNEL_CATEGORY_CONTROL,prefix,opts));for(cq=res$,heartbeat=this.heartbeatQueue=new PacketQueue(self,CHANNEL_CATEGORY_HEARTBEAT,queueOpts.heartbeat,{},QUEUE_PRIORITY_LOW),direct=this.directQueue=new PacketQueue(self,CHANNEL_CATEGORY_DIRECT,queueOpts.direct,{},QUEUE_PRIORITY_HIGH),xs=[].concat(rq,cq,[heartbeat,direct]),res$=[],i$=0,len$=xs.length;len$>i$;++i$)x=xs[i$],x.enabled&&res$.push(x);return xs=res$,this.queues=lodash_sortBy(xs,["priority","byte_complementary"]),this.queues.reverse(),async.eachSeries(self.queues,INIT_QUEUE,function(queueInitErr){return null!=queueInitErr?done(queueInitErr):led.init(function(ledInitErr){return null!=ledInitErr?done(ledInitErr):(self.initiated=!0,self.ready=!1,self.metadata={},done())})})},BleChannelManager.prototype.getMetadata=function(){return this.metadata},BleChannelManager.prototype.getRemoteAddress=function(){return this.address},BleChannelManager.prototype.isReady=function(){return this.ready},BleChannelManager.prototype.indicateCharacteristicNotified=function(address,c,notified){return this.address=address,this.initiated?c!==this.characteristic?WARN(this.loggingPrefix+": ignore "+c+" (notified: "+notified+")"):notified?this.resume():this.pause():WARN(this.loggingPrefix+": ignore "+c+" (notified: "+notified+") before initiated")},BleChannelManager.prototype.indicateCharacteristicWritten=function(c,buffer){var self,ref$,loggingPrefix,characteristic,led,p,byte,alias,visible,prefix,q;return ref$=self=this,loggingPrefix=ref$.loggingPrefix,characteristic=ref$.characteristic,led=ref$.led,c!==characteristic?WARN(loggingPrefix+": ignore "+c+"/written => "+JSON.stringify(buffer).green):buffer.length>0?(led.shot(),led.shot(),byte=(p=new Packet(null,null,buffer,!0))["byte"],ref$=TO_ALIAS(byte),alias=ref$.alias,visible=ref$.visible,prefix=ref$.prefix,p.alias=alias,INFO(loggingPrefix+": TAC => "+p.toMessage()),byte>=self.directChannelByteStart?self.emit(EVT_CHANNEL_INCOMING_RAW_PACKET,buffer,!0):(q=self.findQueueByPrefixByte(alias),null!=q?self.emit(EVT_CHANNEL_INCOMING_COMMAND_PACKET,q.category,alias,byte,p.payload):self.emit(EVT_CHANNEL_INCOMING_RAW_PACKET,buffer,!1))):WARN(loggingPrefix+": characteristic/written but no bytes")},BleChannelManager.prototype.indicatePeripheralConnected=function(connected){var self,led;return led=(self=this).led,led.turn(connected)},BleChannelManager.prototype.indicatePipeReady=function(ready,props,pipeMetadata){var uart,xs;return ready?(uart=pipeMetadata,xs=lodash_merge({},props,{uart:uart}),delete xs.bluetooth.peer_address,delete xs.bluetooth.connected,delete xs.bluetooth.ff01_notified,delete xs.bluetooth.ff02_notified,delete xs.bluetooth.tx_available,this.ready=!0,this.metadata=xs):(this.ready=!1,this.metadata={}),INFO(this.loggingPrefix+": pipe-ready-state:"+this.ready+", metadata=>"+JSON.stringify(this.metadata)),this.emit(EVT_CHANNEL_READY,ready,this.metadata)},BleChannelManager.prototype.resume=function(){var self,ref$,transmissionInterval,timeoutObject,running,loggingPrefix,characteristic,f;return ref$=self=this,transmissionInterval=ref$.transmissionInterval,timeoutObject=ref$.timeoutObject,running=ref$.running,loggingPrefix=ref$.loggingPrefix,characteristic=ref$.characteristic,running?WARN(loggingPrefix+": resume but already running"):null!=timeoutObject?WARN(loggingPrefix+": resume but already timeout-object object exists"):(f=function(){return self.atCheck()},self.running=!0,self.timeoutObject=setInterval(f,transmissionInterval),self.emit(EVT_CHANNEL_RESUMED),INFO(loggingPrefix+": resume with characteristic["+characteristic.yellow+"] is notified"))},BleChannelManager.prototype.pause=function(){var self,ref$,timeoutObject,running,loggingPrefix,characteristic,queues,i$,len$,q;if(ref$=self=this,timeoutObject=ref$.timeoutObject,running=ref$.running,loggingPrefix=ref$.loggingPrefix,characteristic=ref$.characteristic,queues=ref$.queues,!running)return WARN(loggingPrefix+": pause but not running");if(null==timeoutObject)return WARN(loggingPrefix+": resume but no timeout-object object");for(clearInterval(timeoutObject),self.timeoutObject=null,self.running=!1,i$=0,len$=queues.length;len$>i$;++i$)q=queues[i$],q.reset();return self.emit(EVT_CHANNEL_PAUSED),INFO(loggingPrefix+": pause with characteristic["+characteristic.yellow+"] is unnotified")},BleChannelManager.prototype.dbg=function(message){return this.verbose?DBG(message):void 0},BleChannelManager.prototype.atCheck=function(){var self,ref$,cw,queues,running,loggingPrefix,led,i$,len$,q,p,category,alias,byte,count;if(ref$=self=this,cw=ref$.cw,queues=ref$.queues,running=ref$.running,loggingPrefix=ref$.loggingPrefix,led=ref$.led,!running)return WARN(this.loggingPrefix+": at-check() but not running");for(self.currentPacket=null,self.currentQueue=null,i$=0,len$=queues.length;len$>i$&&(q=queues[i$],self.currentQueue=q,self.currentPacket=p=q.dequeue(),null==p);++i$);return null==self.currentPacket?self.dbg(loggingPrefix+": nothing to send ..."):(INFO(loggingPrefix+": TAC <= "+p.toMessage()),cw.sendChannelPacketThroughPipe(p.toBuffer()),led.shot(),led.shot(),category=q.category,alias=q.alias,byte=q["byte"],count=q.getRemainings(),category===CHANNEL_CATEGORY_RESERVED||category===CHANNEL_CATEGORY_CONTROL?self.emit(EVT_CHANNEL_COMMAND_QUEUE_DEQUEUED,category,alias,byte,count):category===CHANNEL_CATEGORY_DIRECT?self.emit(EVT_CHANNEL_RAW_QUEUE_DEQUEUED,count):void 0)},BleChannelManager.prototype.findQueueByPrefixByte=function(prefix){return lodash_find(this.queues,function(q){return q.prefix===prefix||q.alias===prefix})},BleChannelManager.prototype.pushDirectQueue=function(buffer){return this.directQueue.enqueue(buffer,!0)},BleChannelManager.prototype.pushCommandQueue=function(prefix,payload){var q;return q=this.findQueueByPrefixByte(prefix),null==q?WARN(this.loggingPrefix+": no such queue["+prefix+"] for payload => "+JSON.stringify(payload)):q.enqueue(payload,!1)},BleChannelManager.prototype.pushReservedQueue=function(prefix,payload){return this.pushCommandQueue(prefix,payload)},BleChannelManager.prototype.getConstants=function(name){return"events"===name?EVENTS:"categories"===name?CHANNEL_CATEGORIES:{}},BleChannelManager}(EE),module.exports=exports={BleChannelManager:BleChannelManager,EVENTS:EVENTS,CHANNEL_CATEGORIES:CHANNEL_CATEGORIES}}).call(this)}).call(this,"/Users/yagamy/Works/workspaces/t2t/yapps-tt/apps/sensor-web3/lib/blemo/channel.js")},{"./trigger":13,events:void 0,"yap-require-hook":455}],3:[function(require,module,exports){(function(){var BaseHandler,exports;BaseHandler=function(){function BaseHandler(controller,opts){this.controller=controller,this.opts=opts,this.verbose=opts.verbose,null==this.verbose&&(this.verbose=!1),this.rAndR=!1}BaseHandler.displayName="BaseHandler";BaseHandler.prototype;return BaseHandler.prototype.processInput=function(pid,tokens,src,context){return{broadcast:!1}},BaseHandler.prototype.processOutput=function(params,done){return done("unsupported")},BaseHandler.prototype.send=function(params,done){return done()},BaseHandler}(),module.exports=exports={BaseHandler:BaseHandler}}).call(this)},{}],4:[function(require,module,exports){(function(__filename){(function(){function extend$(sub,sup){function fun(){}return fun.prototype=(sub.superclass=sup).prototype,(sub.prototype=new fun).constructor=sub,"function"==typeof sup.extended&&sup.extended(sub),sub}function import$(obj,src){var own={}.hasOwnProperty;for(var key in src)own.call(src,key)&&(obj[key]=src[key]);return obj}var colors,ref$,DBG,INFO,ERR,BaseHandler,PREFIX,Handler,exports;colors=require("yap-require-hook").addReference(require("colors"),"colors"),ref$=global.getLogger(__filename),DBG=ref$.DBG,INFO=ref$.INFO,ERR=ref$.ERR,BaseHandler=require("yap-require-hook").addReference(require("./base"),"./base").BaseHandler,PREFIX="?",Handler=function(superclass){function Handler(controller,opts){this.controller=controller,this.opts=opts,Handler.superclass.apply(this,arguments),this.rAndR=!0}extend$((import$(Handler,superclass).displayName="Handler",Handler),superclass).prototype;return Handler.prototype.processOutput=function(params,done){var queryString,tokens;return 1!==params.length?done("expected 1 params but "+params.length+" ("+JSON.stringify(params)+")"):(queryString=params[0],tokens=queryString.split("."),tokens.shift(),done(null,tokens))},Handler}(BaseHandler),module.exports=exports={PREFIX:PREFIX,CLASS:Handler}}).call(this)}).call(this,"/Users/yagamy/Works/workspaces/t2t/yapps-tt/apps/sensor-web3/lib/blemo/handlers/information-query.js")},{"./base":3,colors:115,"yap-require-hook":455}],5:[function(require,module,exports){(function(__filename){(function(){function extend$(sub,sup){function fun(){}return fun.prototype=(sub.superclass=sup).prototype,(sub.prototype=new fun).constructor=sub,"function"==typeof sup.extended&&sup.extended(sub),sub}function import$(obj,src){var own={}.hasOwnProperty;for(var key in src)own.call(src,key)&&(obj[key]=src[key]);return obj}var colors,ref$,DBG,INFO,ERR,yapps_utils,CREATE_BUFFER_WITH_INTS,IS_BUFFER,BaseHandler,PREFIX,HEX_STRING_TO_BINARY_BUFFER,Handler,exports;colors=require("yap-require-hook").addReference(require("colors"),"colors"),ref$=global.getLogger(__filename),DBG=ref$.DBG,INFO=ref$.INFO,ERR=ref$.ERR,yapps_utils=global.getBundledModules().yapps_utils,ref$=yapps_utils.buffer_utils,CREATE_BUFFER_WITH_INTS=ref$.CREATE_BUFFER_WITH_INTS,IS_BUFFER=ref$.IS_BUFFER,BaseHandler=require("yap-require-hook").addReference(require("./base"),"./base").BaseHandler,PREFIX="=",HEX_STRING_TO_BINARY_BUFFER=function(text){function fn$(){var i$,to$,results$=[];for(i$=0,to$=bytes-1;to$>=i$;++i$)results$.push(i$);return results$}function fn1$(i,x){return text[i]+""+text[i+1]}var bytes,xs,res$,i$,ref$,len$,x,error;try{if(bytes=text.length,0!==(1&bytes))return["expect even number of bytes but "+bytes];for(res$=[],i$=0,len$=(ref$=fn$()).length;len$>i$;i$+=2)res$.push(fn1$.call(this,i$,ref$[i$]));for(xs=res$,res$=[],i$=0,len$=xs.length;len$>i$;++i$)x=xs[i$],res$.push(parseInt(x,16));return xs=res$,xs=CREATE_BUFFER_WITH_INTS(xs),[null,xs]}catch(e$){return error=e$,[error]}},Handler=function(superclass){function Handler(controller,opts){this.controller=controller,this.opts=opts,Handler.superclass.apply(this,arguments)}extend$((import$(Handler,superclass).displayName="Handler",Handler),superclass).prototype;return Handler.prototype.processInput=function(pid,tokens,src,context){var verbose,resourceName,channelName,streamChannelId,text,ref$,err,xs;return verbose=this.verbose,resourceName=src.resourceName,channelName=src.channelName,verbose&&INFO(resourceName+" ["+pid+"] "+JSON.stringify(tokens).gray),2===tokens.length?(streamChannelId=tokens[0],text=tokens[1],ref$=HEX_STRING_TO_BINARY_BUFFER(text),err=ref$[0],xs=ref$[1],null!=err?WARN(err,"unexpected error when processing "+text):{broadcast:!0,evts:[streamChannelId],args:[streamChannelId,xs]}):(WARN("expected 2 tokens but "+tokens.length+" ("+JSON.stringify(tokens)+")"),superclass.prototype.processInput.apply(this,arguments))},Handler.prototype.processOutput=function(params,done){var streamChannelId,bytes,xs,hexes;return 2!==params.length?done("expected 2 params but "+params.length+" ("+JSON.stringify(params)+")"):(streamChannelId=params[0],bytes=params[1],null==bytes?done("expects bytes but null"):IS_BUFFER(bytes)||Array.isArray(bytes)?bytes.length>0?Array.isArray(bytes)&&"number"!=typeof bytes[0]?done("expects an integer buffer"):(xs=Array.isArray(bytes)?CREATE_BUFFER_WITH_INTS(bytes):bytes,hexes=xs.toString("hex").toUpperCase(),done(null,[streamChannelId,hexes])):done("expects at least one byte"):done("expects bytes as buffer or array but "+typeof bytes))},Handler}(BaseHandler),module.exports=exports={PREFIX:PREFIX,CLASS:Handler}}).call(this)}).call(this,"/Users/yagamy/Works/workspaces/t2t/yapps-tt/apps/sensor-web3/lib/blemo/handlers/pipe-binary-stream.js")},{"./base":3,colors:115,"yap-require-hook":455}],6:[function(require,module,exports){(function(__filename){(function(){function extend$(sub,sup){function fun(){}return fun.prototype=(sub.superclass=sup).prototype,(sub.prototype=new fun).constructor=sub,"function"==typeof sup.extended&&sup.extended(sub),sub}function import$(obj,src){var own={}.hasOwnProperty;for(var key in src)own.call(src,key)&&(obj[key]=src[key]);return obj}var colors,ref$,DBG,INFO,ERR,BaseHandler,PREFIX,Handler,exports;colors=require("yap-require-hook").addReference(require("colors"),"colors"),ref$=global.getLogger(__filename),DBG=ref$.DBG,INFO=ref$.INFO,ERR=ref$.ERR,BaseHandler=require("yap-require-hook").addReference(require("./base"),"./base").BaseHandler,PREFIX="|",Handler=function(superclass){function Handler(controller,opts){this.controller=controller,this.opts=opts,Handler.superclass.apply(this,arguments)}extend$((import$(Handler,superclass).displayName="Handler",Handler),superclass).prototype;return Handler.prototype.processInput=function(pid,tokens,src,context){var verbose,resourceName,channelName,streamChannelId,text;return verbose=this.verbose,resourceName=src.resourceName,channelName=src.channelName,verbose&&INFO("["+pid+"] "+JSON.stringify(tokens).gray),2===tokens.length?(streamChannelId=tokens[0],text=tokens[1],{broadcast:!0,evts:[streamChannelId],args:[streamChannelId,text]}):(WARN("expected 2 tokens but "+tokens.length+" ("+JSON.stringify(tokens)+")"),superclass.prototype.processInput.apply(this,arguments))},Handler.prototype.processOutput=function(params,done){var streamChannelId,text;return 2!==params.length?done("expected 2 params but "+params.length+" ("+JSON.stringify(params)+")"):(streamChannelId=params[0],text=params[1],done(null,params))},Handler}(BaseHandler),module.exports=exports={PREFIX:PREFIX,CLASS:Handler}}).call(this)}).call(this,"/Users/yagamy/Works/workspaces/t2t/yapps-tt/apps/sensor-web3/lib/blemo/handlers/pipe-text-stream.js")},{"./base":3,colors:115,"yap-require-hook":455}],7:[function(require,module,exports){(function(__filename){(function(){function extend$(sub,sup){function fun(){}return fun.prototype=(sub.superclass=sup).prototype,(sub.prototype=new fun).constructor=sub,"function"==typeof sup.extended&&sup.extended(sub),sub}function import$(obj,src){var own={}.hasOwnProperty;for(var key in src)own.call(src,key)&&(obj[key]=src[key]);return obj}function deepEq$(x,y,type){function eq(a,b,stack){var className,length,size,result,alength,blength,key,sizeB;if(null==a||null==b)return a===b;if(a.__placeholder__||b.__placeholder__)return!0;if(a===b)return 0!==a||1/a==1/b;if(className=toString.call(a),toString.call(b)!=className)return!1;switch(className){case"[object String]":return a==String(b);case"[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;for(length=stack.length;length--;)if(stack[length]==a)return!0;if(stack.push(a),size=0,result=!0,"[object Array]"==className){if(alength=a.length,blength=b.length,first){switch(type){case"===":result=alength===blength;break;case"<==":result=blength>=alength;break;case"<<=":result=blength>alength}size=alength,first=!1}else result=alength===blength,size=alength;if(result)for(;size--&&(result=size in a==size in b&&eq(a[size],b[size],stack)););}else{if("constructor"in a!="constructor"in b||a.constructor!=b.constructor)return!1;for(key in a)if(has(a,key)&&(size++,!(result=has(b,key)&&eq(a[key],b[key],stack))))break;if(result){sizeB=0;for(key in b)has(b,key)&&++sizeB;first?result="<<="===type?sizeB>size:"<=="===type?sizeB>=size:size===sizeB:(first=!1,result=size===sizeB)}}return stack.pop(),result}var toString={}.toString,hasOwnProperty={}.hasOwnProperty,has=function(obj,key){return hasOwnProperty.call(obj,key)},first=!0;return eq(x,y,[])}var colors,ref$,DBG,INFO,WARN,ERR,BaseHandler,PREFIX,Handler,exports;colors=require("yap-require-hook").addReference(require("colors"),"colors"),ref$=global.getLogger(__filename),DBG=ref$.DBG,INFO=ref$.INFO,WARN=ref$.WARN,ERR=ref$.ERR,BaseHandler=require("yap-require-hook").addReference(require("./base"),"./base").BaseHandler,PREFIX="!",Handler=function(superclass){function Handler(controller,opts){this.controller=controller,this.opts=opts,Handler.superclass.apply(this,arguments),this.board_type=opts.board_type,null==this.board_type&&(this.board_type="miscboard"),this.board_id=opts.board_id,null==this.board_id&&(this.board_id="random"),this.string_value_accepted=opts.string_value_accepted,null==this.string_value_accepted&&(this.string_value_accepted=!1)}extend$((import$(Handler,superclass).displayName="Handler",Handler),superclass).prototype;return Handler.prototype.compose=function(board_type,board_id,sensor,data_type,v,unit_length){return{broadcast:!0,evts:[board_type,board_id,sensor,data_type],args:[board_type,board_id,sensor,data_type,v,unit_length]}},Handler.prototype.composeResult=function(board_type,board_id,sensor,data_type,v,unit_length){var string_value_accepted,x,error;if(string_value_accepted=this.string_value_accepted,null==unit_length&&(unit_length=""),"."===unit_length)return this.compose(board_type,board_id,sensor,data_type,v,"");if("boolean"===unit_length)return this.compose(board_type,board_id,sensor,data_type,"true"===v,"");try{return x=parseFloat(v),deepEq$(x,NaN,"===")?string_value_accepted?this.compose(board_type,board_id,sensor,data_type,v,unit_length):(WARN("expected number but "+v.yellow),{broadcast:!1}):this.compose(board_type,board_id,sensor,data_type,x,unit_length)}catch(e$){return error=e$,WARN("unexpected error when parse-float("+v+"), err: "+err),{broadcast:!1}}},Handler.prototype.processInput=function(pid,tokens,src,context){var controller,verbose,resourceName,channelName,name,updateType,board_type,board_id,sensor,data_type,v,unit_length;return controller=this.controller,verbose=this.verbose,resourceName=src.resourceName,channelName=src.channelName,name=controller.name,tokens.length<1?(WARN("less than 1 token"),superclass.prototype.processInput.apply(this,arguments)):(updateType=tokens.shift(),"S"===updateType?(board_type=this.board_type,board_id=this.board_id,tokens.length<3?(WARN("expected at least 3 tokens, but only "+tokens.length+" ("+JSON.stringify(tokens)+")"),superclass.prototype.processInput.apply(this,arguments)):(sensor=tokens[0],data_type=tokens[1],v=tokens[2],unit_length=tokens[3],this.composeResult(board_type,board_id,sensor,data_type,v,unit_length))):"F"===updateType?tokens.length<5?(WARN("expected at least 5 tokens, but only "+tokens.length+" ("+JSON.stringify(tokens)+")"),superclass.prototype.processInput.apply(this,arguments)):(board_type=tokens[0],board_id=tokens[1],sensor=tokens[2],data_type=tokens[3],v=tokens[4],unit_length=tokens[5],this.composeResult(board_type,board_id,sensor,data_type,v,unit_length)):(WARN("unexpected update type: "+updateType.yellow),superclass.prototype.processInput.apply(this,arguments)))},Handler}(BaseHandler),module.exports=exports={PREFIX:PREFIX,CLASS:Handler}}).call(this)}).call(this,"/Users/yagamy/Works/workspaces/t2t/yapps-tt/apps/sensor-web3/lib/blemo/handlers/status-update.js")},{"./base":3,colors:115,"yap-require-hook":455}],8:[function(require,module,exports){(function(__filename){(function(){function extend$(sub,sup){function fun(){}return fun.prototype=(sub.superclass=sup).prototype,(sub.prototype=new fun).constructor=sub,"function"==typeof sup.extended&&sup.extended(sub),sub}function import$(obj,src){var own={}.hasOwnProperty;for(var key in src)own.call(src,key)&&(obj[key]=src[key]);return obj}var colors,ref$,DBG,INFO,ERR,BaseHandler,PREFIX,PADDINGS,x,y,addPadding,Handler,exports;colors=require("yap-require-hook").addReference(require("colors"),"colors"),ref$=global.getLogger(__filename),DBG=ref$.DBG,INFO=ref$.INFO,ERR=ref$.ERR,BaseHandler=require("yap-require-hook").addReference(require("./base"),"./base").BaseHandler,PREFIX="#",PADDINGS=[""].concat(function(){function fn$(){var i$,to$,results$=[];for(i$=1,to$=x;to$>=i$;++i$)y=i$,results$.push(" ");return results$}var i$,results$=[];for(i$=1;32>=i$;++i$)x=i$,results$.push(fn$().join(""));return results$}()),addPadding=function(msg,left,num){var len,idx,padding;return len=msg.length,idx=num>len?num-len:0,padding=PADDINGS[idx],left?padding+""+msg:msg+""+padding},Handler=function(superclass){function Handler(controller,opts){this.controller=controller,this.opts=opts,Handler.superclass.apply(this,arguments)}extend$((import$(Handler,superclass).displayName="Handler",Handler),superclass).prototype;return Handler.prototype.processInput=function(pid,tokens,src,context){
var controller,verbose,resourceName,channelName,name,lv,threadName,fileName,lineNo,functionName,message;return controller=this.controller,verbose=this.verbose,resourceName=src.resourceName,channelName=src.channelName,name=controller.name,name=addPadding(name,12,!1),lv=tokens[0],threadName=addPadding(tokens[1],!0,8),fileName=addPadding(tokens[2],!0,20),lineNo=addPadding(tokens[3],!1,6),functionName=addPadding(tokens[4],!0,12),message=tokens[5],"D"!==lv||verbose?(INFO(name.yellow+" ["+lv.red+"] "+threadName+" "+fileName+"#"+lineNo.blue+" "+functionName.cyan+": "+message.gray),superclass.prototype.processInput.apply(this,arguments)):superclass.prototype.processInput.apply(this,arguments)},Handler}(BaseHandler),module.exports=exports={PREFIX:PREFIX,CLASS:Handler}}).call(this)}).call(this,"/Users/yagamy/Works/workspaces/t2t/yapps-tt/apps/sensor-web3/lib/blemo/handlers/verbose-message.js")},{"./base":3,colors:115,"yap-require-hook":455}],9:[function(require,module,exports){(function(__filename){(function(){function in$(x,xs){for(var i=-1,l=xs.length>>>0;++i<l;)if(x===xs[i])return!0;return!1}var ref$,DBG,ERR,WARN,INFO,Service,DUMMY,Manager,exports;ref$=global.getLogger(__filename),DBG=ref$.DBG,ERR=ref$.ERR,WARN=ref$.WARN,INFO=ref$.INFO,Service=require("yap-require-hook").addReference(require("./ps"),"./ps"),DUMMY=function(){},Manager=function(){function Manager(opts,app){this.opts=opts,this.app=app,this.enabled=!0}Manager.displayName="Manager";Manager.prototype;return Manager.prototype.disable=function(done){return this.enabled=!1,WARN("DISABLED!!!"),done()},Manager.prototype.init=function(systemUptime,psManager,tcpProxy,done){var self,opts,pipes,names,res$,k,v,bs,i$,len$,n,xs,x,s;if(opts=(self=this).opts,pipes=opts.mcs4u.pipes,null==pipes)return self.disable(done);res$=[];for(k in pipes)v=pipes[k],res$.push(k);if(names=res$,!(names.length>0))return self.disable(done);for(res$=[],i$=0,len$=names.length;len$>i$;++i$)n=names[i$],null!=tcpProxy.getBridge(n)&&res$.push(n);for(bs=res$,res$=[],i$=0,len$=names.length;len$>i$;++i$)n=names[i$],in$(n,bs)||res$.push(n);for(xs=res$,i$=0,len$=xs.length;len$>i$;++i$)x=xs[i$],delete opts.mcs4u.pipes[x];for(res$=[],i$=0,len$=xs.length;len$>i$;++i$)x=xs[i$],res$.push(x.cyan);return xs=res$,xs.length>0&&WARN("missing these pipes in tcp-proxy: "+xs.join(", ")),bs.length>0?(s=self.service=new Service(opts,systemUptime),s.init(function(initErr){return null!=initErr?done(initErr):psManager.register(s,done)})):self.disable(done)},Manager.prototype.getController=function(name){return this.enabled?this.service.getController(name):null},Manager}(),module.exports=exports={attach:function(opts,helpers){return module.manager=this.blemo=new Manager(opts,this)},init:function(done){var app,ref$,systemUptime,psManager,tcpProxy,manager;return ref$=app=this,systemUptime=ref$.systemUptime,psManager=ref$.psManager,tcpProxy=ref$.tcpProxy,manager=module.manager,null==systemUptime?done(new Error(NAME.gray+" depends on plugin "+"system-uptime".yellow+" but missing")):null==psManager?done(new Error(NAME.gray+" depends on plugin "+"ps-manager".yellow+" but missing")):null==tcpProxy?done(new Error(NAME.gray+" depends on plugin "+"tcp-proxy".yellow+" but missing")):manager.init(systemUptime,psManager,tcpProxy,done)}}}).call(this)}).call(this,"/Users/yagamy/Works/workspaces/t2t/yapps-tt/apps/sensor-web3/lib/blemo/index.js")},{"./ps":12,"yap-require-hook":455}],10:[function(require,module,exports){(function(__filename){(function(){var path,ref$,PipeController,PACKET_TYPES,BleChannelManager,TYPE_PIPE_BINARY_STREAM,TYPE_PIPE_TEXT_STREAM,TYPE_INFORMATION_QUERY,TYPE_STATUS_UPDATE,DBG,ERR,WARN,INFO,async,lodash_merge,NULL_MAC_ADDRESS,SPA_PROPERTY_DEFAULTS,ControllerWrapper,exports;path=require("path"),ref$=require("yap-require-hook").addReference(require("./mcs4u"),"./mcs4u"),PipeController=ref$.PipeController,PACKET_TYPES=ref$.PACKET_TYPES,BleChannelManager=require("yap-require-hook").addReference(require("./channel"),"./channel").BleChannelManager,TYPE_PIPE_BINARY_STREAM=PACKET_TYPES.TYPE_PIPE_BINARY_STREAM,TYPE_PIPE_TEXT_STREAM=PACKET_TYPES.TYPE_PIPE_TEXT_STREAM,TYPE_INFORMATION_QUERY=PACKET_TYPES.TYPE_INFORMATION_QUERY,TYPE_STATUS_UPDATE=PACKET_TYPES.TYPE_STATUS_UPDATE,ref$=global.getLogger(__filename),DBG=ref$.DBG,ERR=ref$.ERR,WARN=ref$.WARN,INFO=ref$.INFO,ref$=global.getBundledModules(),async=ref$.async,lodash_merge=ref$.lodash_merge,NULL_MAC_ADDRESS="000000000000",SPA_PROPERTY_DEFAULTS=[{name:".bluetooth.local_address",value:NULL_MAC_ADDRESS},{name:".bluetooth.peer_address",value:NULL_MAC_ADDRESS},{name:".bluetooth.connected",value:!1},{name:".bluetooth.ff01_notified",value:!1},{name:".bluetooth.ff02_notified",value:!1},{name:".bluetooth.tx_available",value:!1},{name:".bluetooth.device_name",value:"SPA"},{name:".system.built_at",value:"20150101"},{name:".system.built_by",value:"smith"},{name:".system.firmware_version",value:"0.1.0"}],ControllerWrapper=function(){function ControllerWrapper(name,mcs4uOpts,bleOpts,service){var self,x,y,z,pc,verbose,i$,ref$,len$,s,value,tokens;for(this.name=name,this.mcs4uOpts=mcs4uOpts,this.bleOpts=bleOpts,this.service=service,self=this,x=mcs4uOpts.pipes[name],y=x.work_opts,z=lodash_merge({},mcs4uOpts.common_packet_configs,x.packet_configs),pc=this.pc=new PipeController(name,y,z,self),pc.setConnListener(function(connected){return self.atControllerConnected(connected)}),pc.setDataListener(function(name,characteristic,data){return self.atControllerDataReceived(name,characteristic,data)}),pc.setEvtListener(function(name,tokens){return self.atControllerEvtReceived(name,tokens)}),verbose=y.verbose,null!=verbose&&verbose||(this.verbose=!1),this.prefix="mcs4w["+name.cyan+"]",this.cm=new BleChannelManager(self,name,bleOpts,this.prefix),this.props={},this.constructing=!0,i$=0,len$=(ref$=SPA_PROPERTY_DEFAULTS).length;len$>i$;++i$)s=ref$[i$],name=s.name,value=s.value,tokens=name.split("."),tokens.shift(),self.updateProp(tokens,value);this.initiated=!1,this.synchronizing=!1,this.constructing=!1,this.connected=!1,this.peerAddressPrevious=NULL_MAC_ADDRESS}ControllerWrapper.displayName="ControllerWrapper";ControllerWrapper.prototype;return ControllerWrapper.prototype.setReadyListener=function(readyCb){this.readyCb=readyCb},ControllerWrapper.prototype.setSensorListener=function(dataCb){this.dataCb=dataCb},ControllerWrapper.prototype.getChannelManager=function(){return this.cm},ControllerWrapper.prototype.emitSensorData=function(s_type,s_id,pp){return this.dataCb?this.dataCb(s_type,s_id,pp):void 0},ControllerWrapper.prototype.init=function(done){return this.pc.init(done)},ControllerWrapper.prototype.sendPipePacketThroughPs=function(packet,done){return this.service.emitPipeData(this.name,packet),done()},ControllerWrapper.prototype.sendChannelPacketThroughPipe=function(bytes){return this.pc.send(TYPE_PIPE_BINARY_STREAM,["data",bytes],function(err){return null!=err?WARN(err,"failed to send data: "+JSON.stringify(bytes)):void 0})},ControllerWrapper.prototype.atPipeConnected=function(connected,metadata){return INFO(this.prefix+": connected: "+connected+", metadata => "+JSON.stringify(metadata)),this.pc.atConnected(connected),connected?(this.pipeMetadata=metadata,this.id=path.basename(metadata.device)):void 0},ControllerWrapper.prototype.atControllerConnected=function(connected){return this.connected=connected,connected?(this.initiated=!1,this.readAllProps()):void 0},ControllerWrapper.prototype.atControllerEvtReceived=function(name,tokens){var self,ref$,verbose,props,sensor,dataType,value,unitLength;if(ref$=self=this,verbose=ref$.verbose,props=ref$.props,name!==TYPE_STATUS_UPDATE)return INFO("at-controller-evt-received(): "+name+" => "+JSON.stringify(tokens));if(4!==tokens.length)return WARN("at-controller-evt-received(): "+name+" => "+JSON.stringify(tokens)+", expected 4 tokens but only "+tokens.length);if(sensor=tokens[0],dataType=tokens[1],value=tokens[2],unitLength=tokens[3],"___"!==sensor||"heartbeat"!==dataType){if("bluetooth"!==sensor)return WARN("at-controller-evt-received(): "+name+" => "+JSON.stringify(tokens)+" (UNHANDLED!!)");if("connected"===dataType&&(value="true"===value),/.*_notified$/.test(dataType)&&(value="1"===value),"connected"!==dataType||value||(self.peerAddressPrevious=props.bluetooth.peer_address),self.updateProp([sensor,dataType],value),"peer_address"===dataType)return props.bluetooth.connected?self.emitSensorData("connection",value,{connected:!0}):self.emitSensorData("connection",self.peerAddressPrevious,{connected:!1})}else if(verbose)return DBG("at-controller-evt-received(): heartbeat!!")},ControllerWrapper.prototype.atControllerDataReceived=function(name,characteristic,data){return name===TYPE_PIPE_BINARY_STREAM?this.cm.indicateCharacteristicWritten(characteristic,data):INFO("at-controller-data-received(): "+name.yellow+"/"+characteristic.cyan+" => "+JSON.stringify(data).green)},ControllerWrapper.prototype.setCharNotifiedAndIndicate=function(characteristic,value){var self,ref$,props,cm,p,v,a;return null==value&&(value=null),ref$=self=this,props=ref$.props,cm=ref$.cm,"FF01"!==characteristic&&"FF02"!==characteristic||(INFO("set-char-notified-and-indicate(): props=>"+JSON.stringify(props)),p=characteristic.toLowerCase()+"_notified",null!=value&&(props.bluetooth[p]=value),v=props.bluetooth[p],a=v?props.bluetooth.peer_address:"000000000000",!cm.initiated)?void 0:(INFO("set-char-notified-and-indicate(): address:"+a+", characteristic:"+characteristic+", value:"+v+"/"+value),INFO("set-char-notified-and-indicate(): p:"+p+", props=>"+JSON.stringify(props)),cm.indicateCharacteristicNotified(a,characteristic,v))},ControllerWrapper.prototype.updateProp=function(names,value){var self,ref$,cm,prefix,constructing,a,b,k,name,i$,len$,n;for(ref$=self=this,cm=ref$.cm,prefix=ref$.prefix,constructing=ref$.constructing,constructing||INFO(prefix+": update "+JSON.stringify(names).yellow+" to "+value),a=names[0],b=names[1],k=this.props,name=names.pop(),i$=0,len$=names.length;len$>i$;++i$)n=names[i$],null==k[n]&&(k[n]={}),k=k[n];if(k[name]=value,"bluetooth"===a){if("connected"===b&&cm.indicatePeripheralConnected(value),"connected"===b&&!value)return self.props[a].ff01_notified&&self.setCharNotifiedAndIndicate("FF01",!1),void(self.props[a].ff02_notified&&self.setCharNotifiedAndIndicate("FF02",!1));if(self.props[a].connected)return"ff01_notified"===b?self.setCharNotifiedAndIndicate("FF01"):"ff02_notified"===b?self.setCharNotifiedAndIndicate("FF02"):void 0}},ControllerWrapper.prototype.dumpProps=function(){var name,props,prefix,prettyjson,text,xs,i$,len$,x;if(name=this.name,props=this.props,prefix=this.prefix,prettyjson=require("yap-require-hook").addReference(require("prettyjson"),"prettyjson"),text=JSON.stringify(props),null==prettyjson)return INFO(prefix+": props => "+text.gray);for(text=prettyjson.render(props,{keysColor:"gray",dashColor:"green",stringColor:"yellow",numberColor:"cyan",defaultIndentation:4}),INFO(name.cyan+": props => "),xs=text.split("\n"),i$=0,len$=xs.length;len$>i$;++i$)x=xs[i$],console.error("	"+x);return console.error("")},ControllerWrapper.prototype.readAllProps=function(){var self,ref$,pc,cm,initiated,synchronizing,prefix,f,strings,res$,i$,len$,x;if(ref$=self=this,pc=ref$.pc,cm=ref$.cm,initiated=ref$.initiated,synchronizing=ref$.synchronizing,prefix=ref$.prefix,!initiated&&!synchronizing){for(self.synchronizing=!0,f=function(prop,cb){return pc.reqAndRes(TYPE_INFORMATION_QUERY,[prop],function(err,value){var tokens,error;if(null!=err)return cb(err);tokens=prop.split("."),tokens.shift();try{return self.updateProp(tokens,value),cb()}catch(e$){return error=e$,cb(error)}})},res$=[],i$=0,len$=(ref$=SPA_PROPERTY_DEFAULTS).length;len$>i$;++i$)x=ref$[i$],res$.push(x.name);return strings=res$,async.eachSeries(strings,f,function(readErr){return self.synchronizing=!1,null!=readErr?ERR(readErr,prefix+" read-all-props but unexpected error"):(self.initiated=!0,self.dumpProps(),null!=self.readyCb&&self.readyCb(self.props,self.pipeMetadata),cm.init(function(cmInitErr){return null!=cmInitErr?ERR(cmInitErr,prefix+" read-all-props: failed to initiate channel-manager"):(INFO(prefix+": successfully initiate channel-manager after pipe-controller gets ready"),cm.indicatePipeReady(!0,self.props,self.pipeMetadata),void(self.props.bluetooth.connected&&(self.setCharNotifiedAndIndicate("FF01"),self.setCharNotifiedAndIndicate("FF02"))))}))})}},ControllerWrapper.prototype.fromPeer=function(data){return this.pc.fromPeer(data+"",{},{})},ControllerWrapper}(),module.exports=exports=ControllerWrapper}).call(this)}).call(this,"/Users/yagamy/Works/workspaces/t2t/yapps-tt/apps/sensor-web3/lib/blemo/mcs4u-wrapper.js")},{"./channel":2,"./mcs4u":11,path:void 0,prettyjson:446,"yap-require-hook":455}],11:[function(require,module,exports){(function(__filename){(function(){function repeatArray$(arr,n){for(var r=[];n>0;(n>>=1)&&(arr=arr.concat(arr)))1&n&&r.push.apply(r,arr);return r}var EventEmitter,ref$,DBG,INFO,WARN,ERR,async,lodash_merge,lodash_find,NAME,DELIMITER,EOL,ZEROS,x,y,TYPE_VERBOSE_MESSAGE,TYPE_STATUS_UPDATE,TYPE_PIPE_BINARY_STREAM,TYPE_PIPE_TEXT_STREAM,TYPE_INFORMATION_QUERY,PACKET_TYPES,FIND_HANDLER,FORMAT_TOKENS,SERIALIZE_TOKENS,SERIALIZE_TOKENS_FOR_DBG,ADD_ZEROS,PipeController,exports;EventEmitter=require("yap-require-hook").addReference(require("events"),"events"),ref$=global.getLogger(__filename),DBG=ref$.DBG,INFO=ref$.INFO,WARN=ref$.WARN,ERR=ref$.ERR,ref$=global.getBundledModules(),async=ref$.async,lodash_merge=ref$.lodash_merge,lodash_find=ref$.lodash_find,NAME="mcs4u",DELIMITER="	",EOL="\n",ZEROS=[""].concat(function(){function fn$(){var i$,to$,results$=[];for(i$=1,to$=x;to$>=i$;++i$)y=i$,results$.push("0");return results$}var i$,results$=[];for(i$=1;4>=i$;++i$)x=i$,results$.push(fn$().join(""));return results$}()),TYPE_VERBOSE_MESSAGE="verbose-message",TYPE_STATUS_UPDATE="status-update",TYPE_PIPE_BINARY_STREAM="pipe-binary-stream",TYPE_PIPE_TEXT_STREAM="pipe-text-stream",TYPE_INFORMATION_QUERY="information-query",PACKET_TYPES={TYPE_VERBOSE_MESSAGE:TYPE_VERBOSE_MESSAGE,TYPE_STATUS_UPDATE:TYPE_STATUS_UPDATE,TYPE_PIPE_BINARY_STREAM:TYPE_PIPE_BINARY_STREAM,TYPE_PIPE_TEXT_STREAM:TYPE_PIPE_TEXT_STREAM,TYPE_INFORMATION_QUERY:TYPE_INFORMATION_QUERY},FIND_HANDLER=function(name){return name===TYPE_VERBOSE_MESSAGE?require("yap-require-hook").addReference(require("./handlers/verbose-message"),"./handlers/verbose-message"):name===TYPE_STATUS_UPDATE?require("yap-require-hook").addReference(require("./handlers/status-update"),"./handlers/status-update"):name===TYPE_PIPE_BINARY_STREAM?require("yap-require-hook").addReference(require("./handlers/pipe-binary-stream"),"./handlers/pipe-binary-stream"):name===TYPE_PIPE_TEXT_STREAM?require("yap-require-hook").addReference(require("./handlers/pipe-text-stream"),"./handlers/pipe-text-stream"):name===TYPE_INFORMATION_QUERY?require("yap-require-hook").addReference(require("./handlers/information-query"),"./handlers/information-query"):null},FORMAT_TOKENS=function(tokens){var new_tokens,res$,i$,len$,t;for(res$=[],i$=0,len$=tokens.length;len$>i$;++i$)t=tokens[i$],res$.push(t.gray+"");return new_tokens=res$,new_tokens.join(",")},SERIALIZE_TOKENS=function(tokens){return EOL+""+tokens.join(DELIMITER)+EOL},SERIALIZE_TOKENS_FOR_DBG=function(tokens){return tokens.join(DELIMITER)+""},ADD_ZEROS=function(id,totalDigits,left){var len,idx,zeros;return null==left&&(left=!0),id+="",len=id.length,idx=totalDigits>len?totalDigits-len:0,zeros=ZEROS[idx],left?zeros+""+id:id+""+zeros},PipeController=function(){function PipeController(name,work_opts,packet_opts,parent){this.name=name,this.work_opts=work_opts,this.packet_opts=packet_opts,this.parent=parent,this.verbose=work_opts.verbose,null!=this.verbose&&this.verbose||(this.verbose=!1),this.connected=!1,this.initiated=!1,this.connListener=null,this.dataListener=null,this.evtListener=null,this.packetId=0,this.handlers=[],this.rrTaskMap={},this.initialEmptyPackets=repeatArray$([EOL],work_opts.initial_empties).join(""),this.regularEmptyPackets=repeatArray$([EOL],work_opts.regular_empties).join(""),this.loggingPrefix="mcs4u["+name.cyan+"]"}PipeController.displayName="PipeController";PipeController.prototype;return PipeController.prototype.nextId=function(){var text;return this.packetId=this.packetId+1,this.packetId>65535&&(this.packetId=0),text=this.packetId.toString(16).toUpperCase(),ADD_ZEROS(text,4)},PipeController.prototype.init=function(done){var self,ref$,name,work_opts,packet_opts,handlers,loggingPrefix,regular_check_time,configs,enabled,DEF,handler,h,f,cr,res$,i$,len$;ref$=self=this,name=ref$.name,work_opts=ref$.work_opts,packet_opts=ref$.packet_opts,handlers=ref$.handlers,loggingPrefix=ref$.loggingPrefix,regular_check_time=work_opts.regular_check_time,INFO("packet_opts => "+JSON.stringify(packet_opts));for(name in packet_opts)configs=packet_opts[name],enabled=configs.enabled,enabled&&(DEF=FIND_HANDLER(name),null!=DEF?(handler=new DEF.CLASS(self,configs),h={handler:handler,prefix:DEF.PREFIX,name:name},handlers.push(h),INFO(loggingPrefix+": register handler "+name.green+" for '"+DEF.PREFIX.yellow+"'")):WARN(loggingPrefix+": missing handler["+name+"]"));for(f=function(){return self.check()},setInterval(f,regular_check_time),cr=function(){return self.checkResponse()},setInterval(cr,1e3),self.initiated=!0,res$=[],i$=0,len$=(ref$=self.handlers).length;len$>i$;++i$)h=ref$[i$],res$.push(h.prefix);return self.packetPrefixes=res$,done()},PipeController.prototype.setConnListener=function(l){return this.connListener=l},PipeController.prototype.setDataListener=function(l){return this.dataListener=l},PipeController.prototype.setEvtListener=function(l){return this.evtListener=l},PipeController.prototype.emitConn=function(connected){return null!=this.connListener?this.connListener(connected):void 0},PipeController.prototype.emitData=function(name,characteristic,data){return null!=this.dataListener?this.dataListener(name,characteristic,data):void 0},PipeController.prototype.emitEvt=function(name,tokens){return null!=this.evtListener?this.evtListener(name,tokens):void 0},PipeController.prototype.sendPacket=function(packet,done){return this.parent.sendPipePacketThroughPs(packet,done)},PipeController.prototype.atConnected=function(connected){var self,ref$,initialEmptyPackets,work_opts,name;return this.connected=connected,ref$=self=this,initialEmptyPackets=ref$.initialEmptyPackets,work_opts=ref$.work_opts,name=ref$.name,connected?self.sendPacket(initialEmptyPackets,function(err){return null!=err&&WARN("failed to initially send "+work_opts.initial_empties+" empty packets to "+name.cyan+", err: "+err),null==err&&INFO("successfully send initial "+work_opts.initial_empties+" empty packets to "+name.cyan),self.emitConn(connected)}):self.emitConn(connected)},PipeController.prototype.check=function(){var self,ref$,connected,regularEmptyPackets,work_opts,name,verbose;if(this.initiated&&(ref$=self=this,connected=ref$.connected,regularEmptyPackets=ref$.regularEmptyPackets,work_opts=ref$.work_opts,name=ref$.name,verbose=ref$.verbose,connected))return self.sendPacket(regularEmptyPackets,function(err){return null!=err?WARN("failed to regularly send "+work_opts.regular_empties+" empty packets to "+name.cyan+", err: "+err):verbose?DBG("successfully send regular "+work_opts.regular_empties+" empty packets to "+name.cyan):void 0})},PipeController.prototype.emitTokens=function(prefix,pid,tokens,src,context){INFO("emit-tokens(): "+prefix+"/"+pid+" => "+tokens.join(", "))},PipeController.prototype.fromPeer=function(line,src,context){var self,ref$,name,handlers,verbose,packetPrefixes,pluginName,resourceName,channelName,tokens,prefix,pid,error,prefixes,res$,i$,len$,x,h,handler,rAndR,packetType,requestPid,code,rrTaskMap,task,done,valueType,value,hName,result,broadcast,evts,args;if(this.initiated){if(ref$=self=this,name=ref$.name,handlers=ref$.handlers,verbose=ref$.verbose,packetPrefixes=ref$.packetPrefixes,pluginName=src.pluginName,resourceName=src.resourceName,channelName=src.channelName,this.protocolDebug(!1,line),tokens=line.split(DELIMITER),tokens.length<3)return WARN("["+name+"] less than 3 tokens: "+line.gray);prefix=tokens.shift(),pid=tokens.shift();try{pid=parseInt("0x"+pid)}catch(e$){return error=e$,WARN("["+name+"] pid ("+pid+") is not a hex number")}for(res$=[],i$=0,len$=handlers.length;len$>i$;++i$)x=handlers[i$],res$.push(x.prefix.yellow);if(prefixes=res$,h=lodash_find(handlers,function(handler){return handler.prefix===prefix}),null==h)return WARN("["+name+"] cannot handle prefix: `"+prefix.yellow+"` (bytes: "+prefix.length+"), prefixes => "+packetPrefixes.join(","));if(handler=h.handler,rAndR=handler.rAndR,!rAndR)return hName=h.name,result=handler.processInput(pid,tokens,src,context),null==result?self.emitEvt(hName,tokens):(broadcast=result.broadcast,evts=result.evts,args=result.args,hName===TYPE_PIPE_BINARY_STREAM||hName===TYPE_PIPE_TEXT_STREAM?self.emitData(hName,args[0],args[1]):self.emitEvt(hName,tokens));if(!(tokens.length>=3))return WARN("expected at least 3 tokens for r&r but: "+JSON.stringify(tokens));if(packetType=tokens.shift(),requestPid=tokens.shift(),code=tokens.shift(),"CNF"!==packetType&&"C"!==packetType)return WARN("unexpected packet-type for r&r: "+packetType);if(rrTaskMap=self.rrTaskMap,task=rrTaskMap[requestPid],delete rrTaskMap[requestPid],null==task)return WARN("no such request-pid: "+requestPid+" ("+line+")");if(done=task.done,"0"!==code)return done("error response: "+code);if(!(tokens.length>=2))return WARN("expected at least 2 tokens for value of r&r but "+JSON.stringify(tokens));if(valueType=tokens[0],value=tokens[1],"string"===valueType)return done(null,value);if("boolean"===valueType)return done(null,"true"===value);try{return x=parseInt(value),done(null,x)}catch(e$){return error=e$,done("expected integer value ("+value+") but error: "+error)}}},PipeController.prototype.protocolDebug=function(to_peer,line){var verbose,loggingPrefix,direction;return verbose=this.verbose,loggingPrefix=this.loggingPrefix,direction=to_peer?"<=":"=>",line=to_peer?line.magenta:line.blue,null!=verbose&&verbose?INFO(loggingPrefix+" "+direction+" "+line):void 0},PipeController.prototype.checkResponse=function(){var self,rrTaskMap,pid,task,results$=[];rrTaskMap=(self=this).rrTaskMap;for(pid in rrTaskMap)task=rrTaskMap[pid],task.timeout=task.timeout-1,task.timeout<=0&&(delete rrTaskMap[pid],results$.push(task.done("timeout")));return results$},PipeController.prototype.reqAndRes=function(name,params,done){var self,ref$,handlers,connected,h,prefix,handler;return ref$=self=this,handlers=ref$.handlers,(connected=ref$.connected)?(h=lodash_find(handlers,function(handler){return handler.name===name}),null==h?done("unknown handler: "+name):(prefix=h.prefix,handler=h.handler,handler.processOutput(params,function(processErr,tokens){var pid,packet,task;return null!=processErr?done("["+name+"] params = "+params+", err: "+processErr):null==tokens?done("["+name+"] unexpected tokens as null"):(pid=self.nextId(),tokens=[prefix,pid,"REQ"].concat(tokens),packet=SERIALIZE_TOKENS(tokens),task={pid:pid,prefix:prefix,params:params,timeout:3,done:done},self.rrTaskMap[pid]=task,self.protocolDebug(!0,SERIALIZE_TOKENS_FOR_DBG(tokens)),self.sendPacket(packet,function(sendErr){var task;if(null!=sendErr)return task=self.rrTaskMap[pid],null==task?WARN("missing task: "+pid):(delete self.rrTaskMap[pid],null==task.done?WARN("missing task callback"):task.done(sendErr))}))}))):done("disconnected from peer")},PipeController.prototype.send=function(name,params,done){var self,ref$,handlers,connected,h,prefix,handler;return ref$=self=this,handlers=ref$.handlers,(connected=ref$.connected)?(h=lodash_find(handlers,function(handler){return handler.name===name}),null==h?done("unknown handler: "+name):(prefix=h.prefix,handler=h.handler,handler.processOutput(params,function(err,tokens){var pid,packet;return null!=err?done("["+name+"] params = "+params+", err: "+err):null==tokens?done("["+name+"] unexpected tokens as null"):(pid=self.nextId(),tokens=[prefix,pid].concat(tokens),packet=SERIALIZE_TOKENS(tokens),self.protocolDebug(!0,SERIALIZE_TOKENS_FOR_DBG(tokens)),self.sendPacket(packet,done))}))):done("disconnected from peer")},PipeController}(),module.exports=exports={PipeController:PipeController,PACKET_TYPES:PACKET_TYPES}}).call(this)}).call(this,"/Users/yagamy/Works/workspaces/t2t/yapps-tt/apps/sensor-web3/lib/blemo/mcs4u.js")},{"./handlers/information-query":4,"./handlers/pipe-binary-stream":5,"./handlers/pipe-text-stream":6,"./handlers/status-update":7,"./handlers/verbose-message":8,events:void 0,"yap-require-hook":455}],12:[function(require,module,exports){(function(__filename){(function(){function extend$(sub,sup){function fun(){}return fun.prototype=(sub.superclass=sup).prototype,(sub.prototype=new fun).constructor=sub,"function"==typeof sup.extended&&sup.extended(sub),sub}function import$(obj,src){var own={}.hasOwnProperty;for(var key in src)own.call(src,key)&&(obj[key]=src[key]);return obj}var ControllerWrapper,ref$,DBG,ERR,WARN,INFO,async,express,PeripheralService,lodash_merge,RELATIONSHIP_NONE,RELATIONSHIP_CONFIGURED,RELATIONSHIP_MANAGED,MODE_PIPE,NAME,PERIPHERAL_TYPE,Service,exports;ControllerWrapper=require("yap-require-hook").addReference(require("./mcs4u-wrapper"),"./mcs4u-wrapper"),ref$=global.getLogger(__filename),DBG=ref$.DBG,ERR=ref$.ERR,WARN=ref$.WARN,INFO=ref$.INFO,ref$=global.getBundledModules(),async=ref$.async,express=ref$.express,PeripheralService=ref$.PeripheralService,lodash_merge=ref$.lodash_merge,ref$=PeripheralService.relationships,RELATIONSHIP_NONE=ref$.RELATIONSHIP_NONE,RELATIONSHIP_CONFIGURED=ref$.RELATIONSHIP_CONFIGURED,RELATIONSHIP_MANAGED=ref$.RELATIONSHIP_MANAGED,MODE_PIPE=PeripheralService.modes.MODE_PIPE,NAME="blemo",PERIPHERAL_TYPE="blemoboard",Service=function(superclass){function Service(opts,uptime){var self,pipes,pipe_names,k,v,res$,i$,len$,n,controllers,c;for(this.opts=opts,this.uptime=uptime,Service.superclass.apply(this,arguments),self=this,this.name=NAME,this.types=[PERIPHERAL_TYPE],pipes=opts.mcs4u.pipes,pipe_names=this.pipe_names=function(){var ref$,results$=[];for(k in ref$=pipes)v=ref$[k],results$.push(k);return results$}(),res$=[],i$=0,len$=pipe_names.length;len$>i$;++i$)n=pipe_names[i$],res$.push({name:n,byline:!0});for(pipes=res$,this.mode=MODE_PIPE,this.mode_settings={pipes:pipes},INFO("opts => "+JSON.stringify(opts)),INFO("mode_settings => "+JSON.stringify(this.mode_settings)),this.controllers=controllers=function(){var i$,ref$,len$,results$=[];for(i$=0,len$=(ref$=pipe_names).length;len$>i$;++i$)n=ref$[i$],results$.push(new ControllerWrapper(n,opts.mcs4u,opts.channel,self));return results$}(),res$={},i$=0,len$=controllers.length;len$>i$;++i$)c=controllers[i$],res$[c.name]=c;this.controllerMap=res$}extend$((import$(Service,superclass).displayName="Service",Service),superclass).prototype;return Service.prototype.getController=function(name){return this.controllerMap[name]},Service.prototype.init=function(done){var self,controllers,f;return controllers=(self=this).controllers,f=function(c,cb){return c.setReadyListener(function(props,pipeMetadata){return self.atWrapperReady(c,props,pipeMetadata)}),c.setSensorListener(function(s_type,s_id,pp){return self.atWrapperSensed(c,s_type,s_id,pp)}),c.init(cb)},async.eachSeries(controllers,f,done)},Service.prototype.atPipeEstablished=function(name,metadata){var self,controllerMap,c;return controllerMap=(self=this).controllerMap,c=controllerMap[name],null==c?WARN(name.cyan+": at-pipe-established() => no such pipe controller: "):(INFO(name.cyan+": at-pipe-established() => metadata: "+JSON.stringify(metadata)),c.atPipeConnected(!0,metadata))},Service.prototype.atPipeData=function(name,data,byline){var self,controllerMap,c;return null==byline&&(byline=!0),controllerMap=(self=this).controllerMap,c=controllerMap[name],null==c?WARN(name.cyan+": at-pipe-data() => no such pipe controller: "):c.fromPeer(data)},Service.prototype.performAction=function(p_type,p_id,actuator_type,actuator_id,action,arg1,arg2,arg3,done){return done()},Service.prototype.atWrapperReady=function(c,props,pipeMetadata){var uart,xs;return INFO(c.name+" => "+JSON.stringify(props)),INFO(c.name+" => "+JSON.stringify(pipeMetadata)),uart=pipeMetadata,xs=lodash_merge({},props,{uart:uart}),this.emitPeripheralState(PERIPHERAL_TYPE,c.id,RELATIONSHIP_MANAGED,xs)},Service.prototype.atWrapperSensed=function(c,s_type,s_id,pp){var points,res$,data_type,value;res$=[];for(data_type in pp)value=pp[data_type],res$.push({data_type:data_type,value:value});return points=res$,this.emitData(PERIPHERAL_TYPE,c.id,s_type,s_id,points)},Service}(PeripheralService),module.exports=exports=Service}).call(this)}).call(this,"/Users/yagamy/Works/workspaces/t2t/yapps-tt/apps/sensor-web3/lib/blemo/ps.js")},{"./mcs4u-wrapper":10,"yap-require-hook":455}],13:[function(require,module,exports){(function(__filename){(function(){var path,fs,ref$,DBG,ERR,WARN,INFO,async,lodash_merge,LedTrigger,exports;path=require("path"),fs=require("fs"),ref$=global.getLogger(__filename),DBG=ref$.DBG,ERR=ref$.ERR,WARN=ref$.WARN,INFO=ref$.INFO,ref$=global.getBundledModules(),async=ref$.async,lodash_merge=ref$.lodash_merge,LedTrigger=function(){function LedTrigger(dir){this.dir=null!=dir?dir:null,this.dummy=!1,"darwin"===process.platform&&(this.dummy=!0),null==this.dir&&(this.dummy=!0)}LedTrigger.displayName="LedTrigger";LedTrigger.prototype;return LedTrigger.prototype.initInternally=function(done){var self,dir,configModeNode,configDelayOn,configDelayOff;return dir=(self=this).dir,configModeNode=dir+"/trigger",configDelayOn=dir+"/delay_on",configDelayOff=dir+"/delay_off",fs.writeFile(configModeNode,"oneshot",function(err1){return null!=err1?done(err1):(INFO(configModeNode.cyan+" <= oneshot"),fs.writeFile(configDelayOn,"33",function(err2){return null!=err2?done(err2):(INFO(configDelayOn.cyan+" <= 33"),fs.writeFile(configDelayOff,"33",function(err3){return null!=err3?done(err3):(INFO(configDelayOff.cyan+" <= 33"),done())}))}))})},LedTrigger.prototype.init=function(done){var self,ref$,dir,dummy;return ref$=self=this,dir=ref$.dir,dummy=ref$.dummy,dummy?done():fs.stat(dir,function(statErr,stats){return null==statErr&&stats.isDirectory()?self.initInternally(done):null!=statErr?(self.dummy=!0,WARN(statErr,"failed to get stats of "+dir+", fallback to dummy mode"),done()):(self.dummy=!0,WARN(dir+" is not a directory"),done())})},LedTrigger.prototype.turn=function(turnOn){var self,dir,value,fullpath;return null==turnOn&&(turnOn=!0),this.dummy?void 0:(dir=(self=this).dir,value=turnOn?"1":"0",fullpath=dir+"/invert",fs.writeFile(fullpath,value,function(err){return null!=err?WARN(err,"failed to write "+fullpath+" with "+value):void 0}))},LedTrigger.prototype.shot=function(){var self,dir,value,fullpath;if(!this.dummy)return dir=(self=this).dir,value="1",fullpath=dir+"/shot",fs.writeFile(fullpath,value,function(err){return null!=err?WARN(err,"failed to write "+fullpath+" with "+value):void 0})},LedTrigger}(),module.exports=exports=LedTrigger}).call(this)}).call(this,"/Users/yagamy/Works/workspaces/t2t/yapps-tt/apps/sensor-web3/lib/blemo/trigger.js")},{fs:void 0,path:void 0}],14:[function(require,module,exports){(function(__filename){(function(){function extend$(sub,sup){function fun(){}return fun.prototype=(sub.superclass=sup).prototype,(sub.prototype=new fun).constructor=sub,"function"==typeof sup.extended&&sup.extended(sub),sub}function import$(obj,src){var own={}.hasOwnProperty;for(var key in src)own.call(src,key)&&(obj[key]=src[key]);return obj}var colors,wss,API_CLASS,Client,ref$,DBG,ERR,WARN,INFO,lodash_merge,lodash_sum,lodash_camelCase,NAME,DEFAULT_OPTS,WEBAPI_ENTRY_PERIPHERAL,ClientStub,ClientServiceHandler,exports;colors=require("yap-require-hook").addReference(require("colors"),"colors"),wss=require("yap-require-hook").addReference(require("yapps/lib/classes/web/wss"),"yapps/lib/classes/web/wss"),API_CLASS=require("yap-require-hook").addReference(require("./ps-manager-api"),"./ps-manager-api"),Client=require("yap-require-hook").addReference(require("./helpers/client"),"./helpers/client").Client,
ref$=global.getLogger(__filename),DBG=ref$.DBG,ERR=ref$.ERR,WARN=ref$.WARN,INFO=ref$.INFO,ref$=global.getBundledModules(),lodash_merge=ref$.lodash_merge,lodash_sum=ref$.lodash_sum,lodash_camelCase=ref$.lodash_camelCase,NAME="client-websocket",DEFAULT_OPTS={blemo:{pipe:null}},WEBAPI_ENTRY_PERIPHERAL="/p",ClientStub=function(superclass){function ClientStub(opts,wssHandler){var psm,bcm;this.opts=opts,this.wssHandler=wssHandler,ClientStub.superclass.apply(this,arguments),this.psm=psm=wssHandler.psm,this.bcm=bcm=wssHandler.bcm,this.API=new API_CLASS(psm)}extend$((import$(ClientStub,superclass).displayName="ClientStub",ClientStub),superclass).prototype;return ClientStub.prototype.loadRemoteContext=function(context){this.wssHandler.INFO("load-remote-context: context => "+JSON.stringify(context))},ClientStub.prototype.init=function(done){return done()},ClientStub.prototype.wsrr_perform_action=function(done,p_type,p_id,a_type,a_id,action,arg1,arg2,arg3){return this.API.PERFORM_ACTUATOR_REQUEST(p_type,p_id,a_type,a_id,action,arg1,arg2,arg3,function(err,result){return null!=err?done(err[1]):done(null,result)})},ClientStub.prototype.wsrr_blemo_push_command_channel=function(done,prefix,payload){var self,bcm,i$,len$,p,error;if(bcm=(self=this).bcm,null==bcm)return done("blemo_push_command_channel is unsupported because blemo service is disabled");try{if(Array.isArray(payload)&&"object"==typeof payload[0])for(i$=0,len$=payload.length;len$>i$;++i$)p=payload[i$],bcm.pushCommandQueue(prefix,p);else bcm.pushCommandQueue(prefix,payload)}catch(e$){return error=e$,done(error)}return done()},ClientStub.prototype.wsrr_blemo_push_direct_channel=function(done,buffer){var self,bcm,error;if(bcm=(self=this).bcm,null==bcm)return done("blemo_push_direct_channel is unsupported because blemo service is disabled");try{bcm.pushDirectQueue(buffer)}catch(e$){return error=e$,done(error)}return done()},ClientStub.prototype.wsrr_perform_webapi_get=function(done,name,params){var self,API,func,cb,xs;return API=(self=this).API,func=API[name],null==func?done("missing function "+name+" in API object"):(cb=function(err,results){return null!=err?done(err[1]):done(null,results)},xs=params.concat([cb]),func.apply(API,xs))},ClientStub}(Client),ClientServiceHandler=function(superclass){function ClientServiceHandler(app,manager,index,ws,config,ctx,verbose){var self,psm,blemo;this.app=app,this.manager=manager,this.index=index,this.ws=ws,this.config=config,this.ctx=ctx,this.verbose=verbose,self=this,ClientServiceHandler.superclass.apply(this,arguments),psm=ctx.psm,blemo=ctx.blemo,self.psm=psm,self.blemo=blemo,self.bcw=null,self.bcm=null,self.bcmEvents={}}extend$((import$(ClientServiceHandler,superclass).displayName="ClientServiceHandler",ClientServiceHandler),superclass).prototype;return ClientServiceHandler.prototype.atWsDisconnect=function(){var self,ref$,psm,bcm,bcmEvents,evt,callback,results$=[];if(ref$=self=this,psm=ref$.psm,bcm=ref$.bcm,bcmEvents=ref$.bcmEvents,self.INFO("at-ws-disconnect: nothing to do"),superclass.prototype.atWsDisconnect.apply(this,arguments),null!=bcm){for(evt in bcmEvents)callback=bcmEvents[evt],self.INFO("unregister bcm event: "+evt.yellow),results$.push(bcm.removeListener(evt,callback));return results$}},ClientServiceHandler.prototype.hookBcmEvents=function(done){var self,bcm,ref$,EVT_CHANNEL_RESUMED,EVT_CHANNEL_PAUSED,EVT_CHANNEL_READY,EVT_CHANNEL_INCOMING_RAW_PACKET,EVT_CHANNEL_INCOMING_COMMAND_PACKET,EVT_CHANNEL_COMMAND_QUEUE_DEQUEUED,EVT_CHANNEL_RAW_QUEUE_DEQUEUED,f1,f2,f3,f4,f5,f6,f7,xs,res$,i$,len$,x,evt,callback;if(bcm=(self=this).bcm,null==bcm)return done();for(ref$=bcm.getConstants("events"),EVT_CHANNEL_RESUMED=ref$.EVT_CHANNEL_RESUMED,EVT_CHANNEL_PAUSED=ref$.EVT_CHANNEL_PAUSED,EVT_CHANNEL_READY=ref$.EVT_CHANNEL_READY,EVT_CHANNEL_INCOMING_RAW_PACKET=ref$.EVT_CHANNEL_INCOMING_RAW_PACKET,EVT_CHANNEL_INCOMING_COMMAND_PACKET=ref$.EVT_CHANNEL_INCOMING_COMMAND_PACKET,EVT_CHANNEL_COMMAND_QUEUE_DEQUEUED=ref$.EVT_CHANNEL_COMMAND_QUEUE_DEQUEUED,EVT_CHANNEL_RAW_QUEUE_DEQUEUED=ref$.EVT_CHANNEL_RAW_QUEUE_DEQUEUED,f1=function(){return self.atBcmChannelPaused.apply(self,arguments)},f2=function(){return self.atBcmChannelResumed.apply(self,arguments)},f3=function(){return self.atBcmChannelIncomingRawPacket.apply(self,arguments)},f4=function(){return self.atBcmChannelIncomingCmdPacket.apply(self,arguments)},f5=function(){return self.atBcmReady.apply(self,arguments)},f6=function(){return self.atBlemoCmdQueueDequeued.apply(self,arguments)},f7=function(){return self.atBlemoRawQueueDequeued.apply(self,arguments)},xs=[[EVT_CHANNEL_PAUSED,f1],[EVT_CHANNEL_RESUMED,f2],[EVT_CHANNEL_INCOMING_RAW_PACKET,f3],[EVT_CHANNEL_INCOMING_COMMAND_PACKET,f4],[EVT_CHANNEL_READY,f5],[EVT_CHANNEL_COMMAND_QUEUE_DEQUEUED,f6],[EVT_CHANNEL_RAW_QUEUE_DEQUEUED,f7]],res$={},i$=0,len$=xs.length;len$>i$;++i$)x=xs[i$],res$[x[0]]=x[1];self.bcmEvents=res$;for(evt in ref$=self.bcmEvents)callback=ref$[evt],self.INFO("register bcm event: "+evt.yellow),bcm.on(evt,callback);return done()},ClientServiceHandler.prototype.process_configure=function(opts,done){var self,blemo,rrctx,configs,pipe,bcw,bcm,client;if(this.opts=opts,blemo=(self=this).blemo,rrctx=opts.rrctx,self.INFO("process_configure: opts => "+JSON.stringify(opts).yellow),configs=lodash_merge({},DEFAULT_OPTS,rrctx),null!=configs.blemo.pipe&&!blemo.enabled)return done("sensorweb3/blemo is disabled, but want "+configs.blemo.pipe);if(pipe=configs.blemo.pipe,blemo.enabled&&null!=pipe){if(bcw=self.bcw=blemo.getController(pipe),null==bcw)return done("sensorweb3/blemo has no such pipe: "+pipe);bcm=self.bcm=bcw.getChannelManager()}return client=self.client=new ClientStub({},self),client.loadRemoteContext(rrctx),client.init(function(initErr){return null!=initErr?done(initErr):null==bcm?done(null,client):self.hookBcmEvents(function(hookErr){var f;return null!=hookErr?done(hookErr):(f=function(){return self.INFO("indicates blemo_ready() because bcm is ready before ws-client is connected to SensorWeb3"),self.emitData("blemo_ready",[],!0,bcm.getMetadata())},bcm.isReady()&&setTimeout(f,1e3),done(null,client))})})},ClientServiceHandler.prototype.process_data_sensor_updated=function(items,p_type,p_id,s_type,s_id,timestamp){return this.ps.emitData(p_type,p_id,s_type,s_id,items,this.tc.calibrate(timestamp))},ClientServiceHandler.prototype.atBcmReady=function(ready,metadata){return this.INFO("at-bcm-ready() => blemo_ready, ready:"+ready+", metadata=>"+JSON.stringify(metadata)),this.emitData("blemo_ready",[],ready,metadata)},ClientServiceHandler.prototype.atBcmChannelPaused=function(){return this.INFO("at-bcm-channel-paused()"),this.emitData("blemo_channel_paused",[])},ClientServiceHandler.prototype.atBcmChannelResumed=function(){var address;return this.INFO("at-bcm-channel-resumed()"),address=this.bcm.getRemoteAddress(),this.emitData("blemo_channel_resumed",[],address)},ClientServiceHandler.prototype.atBcmChannelIncomingRawPacket=function(buffer,fromDirectChannel){return null==fromDirectChannel&&(fromDirectChannel=!0),fromDirectChannel?this.emitData("blemo_channel_incoming_raw_packet",[],buffer):void 0},ClientServiceHandler.prototype.atBcmChannelIncomingCmdPacket=function(category,alias,byte,payload){return this.emitData("blemo_channel_incoming_cmd_packet",[],category,alias,byte,payload)},ClientServiceHandler.prototype.atBlemoCmdQueueDequeued=function(category,alias,byte,remainings){return this.emitData("blemo_cmd_queue_dequeued",[],category,alias,byte,remainings)},ClientServiceHandler.prototype.atBlemoRawQueueDequeued=function(remainings){return this.emitData("blemo_raw_queue_dequeued",[],remainings)},ClientServiceHandler}(wss.HandlerClazz),module.exports=exports={name:NAME,attach:function(opts,helpers){module.opts=opts,module.helpers=helpers},init:function(done){var app,ref$,psManager,blemo,opts,psm,services,manager;return ref$=app=this,psManager=ref$.psManager,blemo=ref$.blemo,opts=module.opts,null==psManager?done(new Error(NAME.gray+" depends on plugin "+"ps-manager".yellow+" but missing")):null==blemo?done(new Error(NAME.gray+" depends on plugin "+"blemo".yellow+" but missing")):(psm=psManager,services={blemo:blemo,psm:psm},module.manager=manager=wss.createInstance(app,"client",opts,ClientServiceHandler,services),manager.init(done))}}}).call(this)}).call(this,"/Users/yagamy/Works/workspaces/t2t/yapps-tt/apps/sensor-web3/lib/client-websocket.js")},{"./helpers/client":15,"./ps-manager-api":26,colors:115,"yap-require-hook":455,"yapps/lib/classes/web/wss":468}],15:[function(require,module,exports){(function(){var Client,exports;Client=function(){function Client(opts){this.opts=opts}Client.displayName="Client";Client.prototype;return Client.prototype.performAction=function(p_type,p_id,a_type,a_id,action,arg1,arg2,arg3,done){return done("unimplemented!!")},Client}(),module.exports=exports={Client:Client}}).call(this)},{}],16:[function(require,module,exports){(function(){function in$(x,xs){for(var i=-1,l=xs.length>>>0;++i<l;)if(x===xs[i])return!0;return!1}var EE,EVENT_DATA_UPDATED,EVENT_PERIPHERAL_UPDATED,EVENT_PIPE_UPDATED,EVENT_LIST,EVENTS,RELATIONSHIP_NONE,RELATIONSHIP_CONFIGURED,RELATIONSHIP_MANAGED,RELATIONSHIPS,MODE_STANDALONE,MODE_PIPE,MODE_META,MODES,PeripheralService,exports;EE=require("yap-require-hook").addReference(require("events"),"events"),EVENT_DATA_UPDATED="data-updated",EVENT_PERIPHERAL_UPDATED="peripheral-updated",EVENT_PIPE_UPDATED="pipe-updated",EVENT_LIST=[EVENT_DATA_UPDATED,EVENT_PERIPHERAL_UPDATED,EVENT_PIPE_UPDATED],EVENTS={EVENT_DATA_UPDATED:EVENT_DATA_UPDATED,EVENT_PERIPHERAL_UPDATED:EVENT_PERIPHERAL_UPDATED,EVENT_PIPE_UPDATED:EVENT_PIPE_UPDATED},RELATIONSHIP_NONE=0,RELATIONSHIP_CONFIGURED=1,RELATIONSHIP_MANAGED=2,RELATIONSHIPS={RELATIONSHIP_NONE:RELATIONSHIP_NONE,RELATIONSHIP_CONFIGURED:RELATIONSHIP_CONFIGURED,RELATIONSHIP_MANAGED:RELATIONSHIP_MANAGED},MODE_STANDALONE=0,MODE_PIPE=1,MODE_META=2,MODES={MODE_STANDALONE:MODE_STANDALONE,MODE_PIPE:MODE_PIPE,MODE_META:MODE_META},PeripheralService=function(){function PeripheralService(opts,uptime){this.opts=opts,this.uptime=null!=uptime?uptime:null,this.mode=MODE_STANDALONE,this.mode_settings={},this.name="unknown",this.description="unknown",this.types=[],this.ee=new EE}PeripheralService.displayName="PeripheralService";PeripheralService.prototype;return PeripheralService.events=EVENTS,PeripheralService.relationships=RELATIONSHIPS,PeripheralService.modes=MODES,PeripheralService.prototype.init=function(done){return done()},PeripheralService.prototype.discover=function(){},PeripheralService.prototype.getName=function(){return this.name},PeripheralService.prototype.getSupportedTypes=function(){return this.types},PeripheralService.prototype.getDescription=function(){return this.description},PeripheralService.prototype.toJson=function(){var name,types,description,mode,mode_settings,peripheral_types;return name=this.name,types=this.types,description=this.description,mode=this.mode,mode_settings=this.mode_settings,peripheral_types=types,{name:name,peripheral_types:peripheral_types,description:description,mode:mode,mode_settings:mode_settings}},PeripheralService.prototype.performAction=function(p_type,p_id,a_type,a_id,action,arg1,arg2,arg3,done){return done("unimplemented!!")},PeripheralService.prototype.on=function(event,listener){if(!in$(event,EVENT_LIST))throw new Error("unsupported event "+event);return this.ee.on(event,listener)},PeripheralService.prototype.removeListener=function(event,listener){if(!in$(event,EVENT_LIST))throw new Error("unsupported event "+event);return this.ee.removeListener(event,listener)},PeripheralService.prototype.emitData=function(p_type,p_id,s_type,s_id,points,timestamp){return null==timestamp&&(timestamp=null),null!=timestamp?this.ee.emit(EVENT_DATA_UPDATED,p_type,p_id,s_type,s_id,points,timestamp):this.ee.emit(EVENT_DATA_UPDATED,p_type,p_id,s_type,s_id,points,this.now())},PeripheralService.prototype.emitPeripheralState=function(p_type,p_id,relationship,metadata){return this.ee.emit(EVENT_PERIPHERAL_UPDATED,p_type,p_id,relationship,metadata)},PeripheralService.prototype.emitPipeData=function(name,data){return this.ee.emit(EVENT_PIPE_UPDATED,name,data)},PeripheralService.prototype.atPipeData=function(name,data,byline){throw null==byline&&(byline=!0),Error("unimplemented")},PeripheralService.prototype.atPipeEstablished=function(name,metadata){},PeripheralService.prototype.now=function(){return null!=this.uptime?this.uptime.now():null},PeripheralService.prototype.processWebCommand=function(remote,command,parameters,context,done){return done(null,"please write your implementations here ...")},PeripheralService}(),module.exports=exports=PeripheralService,global.addBundledModule({PeripheralService:PeripheralService})}).call(this)},{events:void 0,"yap-require-hook":455}],17:[function(require,module,exports){(function(){var colors,COLORIZED,PRETTIZE_KVS,POINTS_TO_PP,exports;colors=require("yap-require-hook").addReference(require("colors"),"colors"),COLORIZED=function(v){var t;return t=typeof v,"string"===t?v.yellow:"number"===t?v.toString().green:"boolean"===t&&v?v.toString().magenta:"boolean"!==t||v?"object"===t?JSON.stringify(v).blue:v:v.toString().red},PRETTIZE_KVS=function(kvs){var xs,res$,k,v;res$=[];for(k in kvs)v=kvs[k],res$.push(k.gray+":"+COLORIZED(v));return xs=res$,xs.join(", ")},POINTS_TO_PP=function(points){var xs,res$,i$,len$,p;for(res$={},i$=0,len$=points.length;len$>i$;++i$)p=points[i$],res$[p.data_type]=p.value;return xs=res$},module.exports=exports={COLORIZED:COLORIZED,PRETTIZE_KVS:PRETTIZE_KVS,POINTS_TO_PP:POINTS_TO_PP}}).call(this)},{colors:115,"yap-require-hook":455}],18:[function(require,module,exports){(function(){var iwlist,iwconfig,ifconfig,utf8,GET_WIRELESS_INTERFACE,BYTE_TO_HEX,SSID_TO_UTF8_HEX_BYTES,DETECT_SECURITY,UPDATE_AP_VENDOR,UPDATE_ACCESS_POINT_METADATA,SERIALIZE,WIRELESS_ACCESS_POINT_SCAN,exports;iwlist=require("yap-require-hook").addReference(require("wireless-tools/iwlist"),"wireless-tools/iwlist"),iwconfig=require("yap-require-hook").addReference(require("wireless-tools/iwconfig"),"wireless-tools/iwconfig"),ifconfig=require("yap-require-hook").addReference(require("wireless-tools/ifconfig"),"wireless-tools/ifconfig"),utf8=require("yap-require-hook").addReference(require("utf8"),"utf8"),GET_WIRELESS_INTERFACE=function(adapter,done){return null!=adapter?iwconfig.status(adapter,function(err,status){return done(err,adapter,status)}):iwconfig.status(function(err,status){return null!=err?done(err):status.length>0?done(null,status[0]["interface"],status[0]):done("no wireless adapter")})},BYTE_TO_HEX=function(b){var x;return x=b.toString(16).toUpperCase(),x.length>1?x:"0"+x},SSID_TO_UTF8_HEX_BYTES=function(ssid){var xs;return xs=ssid.split("\\x"),xs=new Buffer(utf8.decode(unescape(xs.join("%")))),xs.toString("hex").toUpperCase()},DETECT_SECURITY=function(security){return"wpa2"===security?1:0},UPDATE_AP_VENDOR=function(network,oui){var address,prefix,text;return address=network.address,address=address.split(":").join("").toUpperCase(),prefix=address.substring(0,6),text=oui[prefix],network.vendor=["Unknown"],null!=text?network.vendor=text.split("\n"):void 0},UPDATE_ACCESS_POINT_METADATA=function(networks,opts){var oui,database,i$,len$,n,error;if(oui=opts.oui,null!=oui)try{for(database=require(oui),i$=0,len$=networks.length;len$>i$;++i$)n=networks[i$],UPDATE_AP_VENDOR(n,database)}catch(e$){error=e$,console.dir(error)}return networks},SERIALIZE=function(network){var address,channel,frequency,quality,signal,ssid,security,tokens;return address=network.address,channel=network.channel,frequency=network.frequency,quality=network.quality,signal=network.signal,ssid=network.ssid,security=network.security,address=address.split(":").join("").toUpperCase(),channel=BYTE_TO_HEX(channel),quality=BYTE_TO_HEX(quality),signal=BYTE_TO_HEX(256+signal),security=DETECT_SECURITY(security).toString(),ssid=SSID_TO_UTF8_HEX_BYTES(ssid),tokens=[address,channel,quality,signal,security,ssid],network.tokens=tokens,network},WIRELESS_ACCESS_POINT_SCAN=function(adapter,opts,done){return GET_WIRELESS_INTERFACE(adapter,function(getErr,adapter,status){return null!=getErr?done(getErr):ifconfig.status(adapter,function(ifcErr,properties){var iface,show_hidden;return null!=ifcErr?done(ifcErr):(iface=adapter,show_hidden=!0,iwlist.scan({iface:iface,show_hidden:show_hidden},function(scanErr,networks){var metadata,res$,i$,len$,n;if(null!=scanErr)return done(scanErr);for(networks=UPDATE_ACCESS_POINT_METADATA(networks,opts),metadata=status,res$=[],i$=0,len$=networks.length;len$>i$;++i$)n=networks[i$],res$.push(SERIALIZE(n));return networks=res$,done(null,{properties:properties,metadata:metadata,networks:networks})}))})})},module.exports=exports=WIRELESS_ACCESS_POINT_SCAN}).call(this)},{utf8:451,"wireless-tools/ifconfig":452,"wireless-tools/iwconfig":453,"wireless-tools/iwlist":454,"yap-require-hook":455}],19:[function(require,module,exports){(function(){var Handler,exports;Handler=function(){function Handler(manager,app,opts){var enabled;this.manager=manager,this.app=app,this.opts=opts,enabled=opts.enabled,this.name="base",this.enabled=enabled,null!=enabled&&enabled||(this.enabled=!1)}Handler.displayName="Handler";Handler.prototype;return Handler.prototype.init=function(done){return done()},Handler.prototype.toJson=function(){var name,enabled;return name=this.name,enabled=this.enabled,{name:name,enabled:enabled}},Handler.prototype.set=function(opts){var err,enabled;return err="invalid_argument",null!=opts.name?{err:err,message:"unexpected field => name"}:(enabled=opts.enabled,null!=enabled&&(this.enabled=enabled),{err:null,message:null,opts:this.toJson()})},Handler.prototype.isEnabled=function(){return this.enabled},Handler.prototype.processUpdatedSensorData=function(service,timestamp,metadata,points){},Handler.prototype.processUpdatedPeripheralState=function(service,timestamp,type,id,relationship,metadata){},Handler}(),module.exports=exports=Handler}).call(this)},{}],20:[function(require,module,exports){(function(__filename){(function(){function extend$(sub,sup){function fun(){}return fun.prototype=(sub.superclass=sup).prototype,(sub.prototype=new fun).constructor=sub,"function"==typeof sup.extended&&sup.extended(sub),sub}function import$(obj,src){var own={}.hasOwnProperty;for(var key in src)own.call(src,key)&&(obj[key]=src[key]);return obj}function in$(x,xs){for(var i=-1,l=xs.length>>>0;++i<l;)if(x===xs[i])return!0;return!1}var Base,COLORIZED,INFO,Handler,exports;Base=require("yap-require-hook").addReference(require("./base"),"./base"),COLORIZED=require("yap-require-hook").addReference(require("../helpers/utils"),"../helpers/utils").COLORIZED,INFO=global.getLogger(__filename).INFO,Handler=function(superclass){function Handler(manager,app,opts){this.manager=manager,this.app=app,this.opts=opts,Handler.superclass.apply(this,arguments),this.name="console",INFO("enabled = "+this.enabled),this.excluded_p_types=opts.excluded_p_types,null==this.excluded_p_types&&(this.excluded_p_types=[])}extend$((import$(Handler,superclass).displayName="Handler",Handler),superclass).prototype;return Handler.prototype.init=function(done){return done()},Handler.prototype.processUpdatedSensorData=function(service,timestamp,metadata,points){var self,excluded_p_types,p_type,p_id,s_type,s_id,m,xs,res$,i$,len$,p,uptime,epoch,boots,prefix;for(excluded_p_types=(self=this).excluded_p_types,p_type=metadata.p_type,p_id=metadata.p_id,s_type=metadata.s_type,s_id=metadata.s_id,m=(p_type+"/"+p_id+"/"+s_type+"/"+s_id).cyan,res$=[],i$=0,len$=points.length;len$>i$;++i$)p=points[i$],res$.push(p.data_type.gray+"="+COLORIZED(p.value));return xs=res$,uptime=timestamp.uptime,epoch=timestamp.epoch,boots=timestamp.boots,prefix="[boot"+boots+"://"+uptime+"ms]",in$(p_type,excluded_p_types)?void 0:INFO(prefix+" "+m+" => "+xs.join(" "))},Handler}(Base),module.exports=exports=Handler}).call(this)}).call(this,"/Users/yagamy/Works/workspaces/t2t/yapps-tt/apps/sensor-web3/lib/ps-evt-handlers/console.js")},{"../helpers/utils":17,"./base":19,"yap-require-hook":455}],21:[function(require,module,exports){(function(__filename){(function(){function extend$(sub,sup){function fun(){}return fun.prototype=(sub.superclass=sup).prototype,(sub.prototype=new fun).constructor=sub,"function"==typeof sup.extended&&sup.extended(sub),sub}function import$(obj,src){var own={}.hasOwnProperty;for(var key in src)own.call(src,key)&&(obj[key]=src[key]);return obj}var Base,COLORIZED,ref$,INFO,WARN,Handler,exports;Base=require("yap-require-hook").addReference(require("./base"),"./base"),COLORIZED=require("yap-require-hook").addReference(require("../helpers/utils"),"../helpers/utils").COLORIZED,ref$=global.getLogger(__filename),INFO=ref$.INFO,WARN=ref$.WARN,Handler=function(superclass){function Handler(manager,app,opts){var server_name;this.manager=manager,this.app=app,this.opts=opts,Handler.superclass.apply(this,arguments),server_name=opts.server_name,this.name="debug",this.server_name=server_name,this.dis=null,INFO("enabled = "+this.enabled),INFO("server_name = "+this.server_name)}extend$((import$(Handler,superclass).displayName="Handler",Handler),superclass).prototype;return Handler.prototype.init=function(done){var self,ref$,app,server_name,sock,ss;return ref$=self=this,app=ref$.app,server_name=ref$.server_name,sock=app.sock,null==sock?done("missing sock plugin"):(ss=self.ss=sock.getServer(server_name),null==ss?done("missing sock.Servers["+server_name+"]"):done())},Handler.prototype.toJson=function(){var server_name,xs;return server_name=this.server_name,xs=superclass.prototype.toJson.apply(this,arguments),xs.server_name=server_name,xs},Handler.prototype.processUpdatedSensorData=function(service,timestamp,metadata,points){var ss,connections,uptime,epoch,boots,prefix,p_type,p_id,s_type,s_id,measurement,xs,res$,i$,len$,p;if(ss=this.ss,null==ss)return WARN("missing ss!!");if(connections=ss.getConnections(),null==connections)return WARN("missing ss.connections!!");if(connections.length>0){for(uptime=timestamp.uptime,epoch=timestamp.epoch,boots=timestamp.boots,prefix="boot"+boots+"://"+uptime+"ms",p_type=metadata.p_type,p_id=metadata.p_id,s_type=metadata.s_type,s_id=metadata.s_id,measurement=(p_type+"/"+p_id+"/"+s_type+"/"+s_id).cyan,res$=[],i$=0,len$=points.length;len$>i$;++i$)p=points[i$],res$.push(p.data_type.gray+"="+COLORIZED(p.value));return xs=res$,xs=["ps-sensor-updated".magenta,prefix,measurement].concat(xs),ss.writeLineTokens(xs,!0)}},Handler}(Base),module.exports=exports=Handler}).call(this)}).call(this,"/Users/yagamy/Works/workspaces/t2t/yapps-tt/apps/sensor-web3/lib/ps-evt-handlers/debug.js")},{"../helpers/utils":17,"./base":19,"yap-require-hook":455}],22:[function(require,module,exports){(function(__filename){(function(){function extend$(sub,sup){function fun(){}return fun.prototype=(sub.superclass=sup).prototype,(sub.prototype=new fun).constructor=sub,"function"==typeof sup.extended&&sup.extended(sub),sub}function import$(obj,src){var own={}.hasOwnProperty;for(var key in src)own.call(src,key)&&(obj[key]=src[key]);return obj}var Base,COLORIZED,ref$,INFO,WARN,Handler,exports;Base=require("yap-require-hook").addReference(require("./base"),"./base"),COLORIZED=require("yap-require-hook").addReference(require("../helpers/utils"),"../helpers/utils").COLORIZED,ref$=global.getLogger(__filename),INFO=ref$.INFO,WARN=ref$.WARN,Handler=function(superclass){function Handler(manager,app,opts){var sensor,peripheral,res$,i$,ref$,len$,pt;for(this.manager=manager,this.app=app,this.opts=opts,Handler.superclass.apply(this,arguments),sensor=opts.sensor,peripheral=opts.peripheral,app=opts.app,this.name="sock",this.s_server_name=sensor.server_name,this.p_server_name=peripheral.server_name,this.a_server_name=app.server_name,res$={},i$=0,len$=(ref$=app.p_types).length;len$>i$;++i$)pt=ref$[i$],res$[pt]="";this.a_p_types=res$,this.dis=null,INFO("enabled = "+this.enabled),INFO("s: "+this.s_server_name+", p: "+this.p_server_name+", app: "+this.a_server_name+":("+app.p_types.join(",")+")")}extend$((import$(Handler,superclass).displayName="Handler",Handler),superclass).prototype;return Handler.prototype.init=function(done){var self,ref$,app,s_server_name,p_server_name,a_server_name,sock,tcpSs,tcpPs,tcpAs;return ref$=self=this,app=ref$.app,s_server_name=ref$.s_server_name,p_server_name=ref$.p_server_name,a_server_name=ref$.a_server_name,sock=app.sock,null==sock?done("missing sock plugin"):(tcpSs=self.tcpSs=sock.getServer(s_server_name),null==tcpSs?done("missing sock.Servers["+s_server_name+"]"):(tcpPs=self.tcpPs=sock.getServer(p_server_name),null==tcpPs?done("missing sock.Servers["+p_server_name+"]"):(tcpAs=self.tcpAs=sock.getServer(a_server_name),null==tcpAs?done("missing sock.Servers["+a_server_name+"]"):done())))},Handler.prototype.toJson=function(){var server_name,xs;return server_name=this.server_name,xs=superclass.prototype.toJson.apply(this,arguments),xs.server_name=server_name,xs},Handler.prototype.processUpdatedSensorDataForApp=function(service,timestamp,metadata,points){var tcpAs,a_p_types,connections,uptime,epoch,boots,p_type,p_id,s_type,s_id,pp,res$,i$,len$,p,xs;if(tcpAs=this.tcpAs,a_p_types=this.a_p_types,connections=tcpAs.getConnections(),null==connections)return WARN("missing tcp-as.connections!!");if(connections.length>0&&(uptime=timestamp.uptime,epoch=timestamp.epoch,boots=timestamp.boots,p_type=metadata.p_type,p_id=metadata.p_id,s_type=metadata.s_type,s_id=metadata.s_id,null!=a_p_types[p_type])){for(res$={},i$=0,len$=points.length;len$>i$;++i$)p=points[i$],res$[p.data_type]=p.value;return pp=res$,xs=[epoch,p_type,p_id,s_type,s_id,pp],xs=["sensor-updated",JSON.stringify(xs)],tcpAs.writeLine(xs.join("	"))}},Handler.prototype.processUpdatedPeripheralStateForApp=function(service,timestamp,type,id,relationship,metadata){var tcpAs,a_p_types,connections,uptime,epoch,boots,xs;return tcpAs=this.tcpAs,a_p_types=this.a_p_types,null==tcpAs?WARN("missing tcp-as!!"):(connections=tcpAs.getConnections(),null==connections?WARN("missing tcp-as.connections!!"):connections.length>0&&null!=a_p_types[type]?(uptime=timestamp.uptime,epoch=timestamp.epoch,boots=timestamp.boots,xs=[epoch,type,id,relationship,metadata],xs=["peripheral-updated",JSON.stringify(xs)],tcpAs.writeLine(xs.join("	"))):void 0)},Handler.prototype.processUpdatedSensorData=function(service,timestamp,metadata,points){var self,tcpSs,connections,uptime,epoch,boots,p_type,p_id,s_type,s_id,pp,res$,i$,len$,p,xs;if(tcpSs=(self=this).tcpSs,self.processUpdatedSensorDataForApp(service,timestamp,metadata,points),null==tcpSs)return WARN("missing tcp-ss!!");if(connections=tcpSs.getConnections(),null==connections)return WARN("missing tcp-ss.connections!!");if(connections.length>0){for(uptime=timestamp.uptime,epoch=timestamp.epoch,boots=timestamp.boots,p_type=metadata.p_type,p_id=metadata.p_id,s_type=metadata.s_type,s_id=metadata.s_id,res$={},i$=0,len$=points.length;len$>i$;++i$)p=points[i$],res$[p.data_type]=p.value;return pp=res$,xs=[boots,uptime,epoch,p_type,p_id,s_type,s_id,pp],tcpSs.writeLine(JSON.stringify(xs))}},Handler.prototype.processUpdatedPeripheralState=function(service,timestamp,type,id,relationship,metadata){var self,tcpPs,connections,xs;return tcpPs=(self=this).tcpPs,self.processUpdatedPeripheralStateForApp(service,timestamp,type,id,relationship,metadata),null==tcpPs?WARN("missing tcp-ps!!"):(connections=tcpPs.getConnections(),null==connections?WARN("missing tcp-ps.connections!!"):connections.length>0?(xs={timestamp:timestamp,type:type,id:id,relationship:relationship,metadata:metadata},tcpPs.writeLine(JSON.stringify(xs))):void 0)},Handler}(Base),module.exports=exports=Handler}).call(this)}).call(this,"/Users/yagamy/Works/workspaces/t2t/yapps-tt/apps/sensor-web3/lib/ps-evt-handlers/sock.js")},{"../helpers/utils":17,"./base":19,"yap-require-hook":455}],23:[function(require,module,exports){(function(__filename){(function(){function extend$(sub,sup){function fun(){}return fun.prototype=(sub.superclass=sup).prototype,(sub.prototype=new fun).constructor=sub,"function"==typeof sup.extended&&sup.extended(sub),sub}function import$(obj,src){var own={}.hasOwnProperty;for(var key in src)own.call(src,key)&&(obj[key]=src[key]);return obj}var path,Base,ref$,COLORIZED,POINTS_TO_PP,INFO,lodash_merge,lodash_sum,Handler,exports;path=require("path"),Base=require("yap-require-hook").addReference(require("./base"),"./base"),ref$=require("yap-require-hook").addReference(require("../helpers/utils"),"../helpers/utils"),COLORIZED=ref$.COLORIZED,POINTS_TO_PP=ref$.POINTS_TO_PP,INFO=global.getLogger(__filename).INFO,ref$=global.getBundledModules(),lodash_merge=ref$.lodash_merge,lodash_sum=ref$.lodash_sum,Handler=function(superclass){function Handler(manager,app,opts){this.manager=manager,this.app=app,this.opts=opts,Handler.superclass.apply(this,arguments),this.name="storage",INFO("enabled = "+this.enabled),this.sensorTree={},this.sensorMap={}}extend$((import$(Handler,superclass).displayName="Handler",Handler),superclass).prototype;return Handler.prototype.init=function(done){return done()},Handler.prototype.processUpdatedSensorData=function(service,timestamp,metadata,points){var self,sensorMap,p_type,p_id,s_type,s_id,xs,id,name,k,i$,len$,x,pp;for(sensorMap=(self=this).sensorMap,p_type=metadata.p_type,p_id=metadata.p_id,s_type=metadata.s_type,s_id=metadata.s_id,xs=[p_type,p_id,s_type,s_id],id=xs.join("/"),sensorMap[id]={p_type:p_type,p_id:p_id,s_type:s_type,s_id:s_id,points:points,timestamp:timestamp},name=xs.pop(),k=self.sensorTree,i$=0,len$=xs.length;len$>i$;++i$)x=xs[i$],null==k[x]&&(k[x]={}),k=k[x];return pp=POINTS_TO_PP(points),k[name]=lodash_merge({},k[name],pp)},Handler.prototype.getSensorTree=function(){return this.sensorTree},Handler.prototype.getSensorMap=function(){return this.sensorMap},Handler}(Base),module.exports=exports=Handler}).call(this)}).call(this,"/Users/yagamy/Works/workspaces/t2t/yapps-tt/apps/sensor-web3/lib/ps-evt-handlers/storage.js")},{"../helpers/utils":17,"./base":19,path:void 0,"yap-require-hook":455}],24:[function(require,module,exports){(function(__filename){(function(){function extend$(sub,sup){function fun(){}return fun.prototype=(sub.superclass=sup).prototype,(sub.prototype=new fun).constructor=sub,"function"==typeof sup.extended&&sup.extended(sub),sub}function import$(obj,src){var own={}.hasOwnProperty;for(var key in src)own.call(src,key)&&(obj[key]=src[key]);return obj}var ref$,DBG,ERR,WARN,INFO,async,express,PeripheralService,RELATIONSHIP_NONE,RELATIONSHIP_CONFIGURED,RELATIONSHIP_MANAGED,MODE_PIPE,NAME,PIPE_NAME,SEPARATOR,Service,exports;ref$=global.getLogger(__filename),DBG=ref$.DBG,ERR=ref$.ERR,WARN=ref$.WARN,INFO=ref$.INFO,ref$=global.getBundledModules(),async=ref$.async,express=ref$.express,PeripheralService=ref$.PeripheralService,ref$=PeripheralService.relationships,RELATIONSHIP_NONE=ref$.RELATIONSHIP_NONE,RELATIONSHIP_CONFIGURED=ref$.RELATIONSHIP_CONFIGURED,RELATIONSHIP_MANAGED=ref$.RELATIONSHIP_MANAGED,MODE_PIPE=PeripheralService.modes.MODE_PIPE,NAME="linux-stats",PIPE_NAME="stats",SEPARATOR="	",Service=function(superclass){function Service(opts){var self;this.opts=opts,Service.superclass.apply(this,arguments),self=this,this.name="linux_stats",this.types=["linux","linux_process","internet"],this.mode=MODE_PIPE,this.mode_settings={pipes:[{name:PIPE_NAME,byline:!0}]}}extend$((import$(Service,superclass).displayName="Service",Service),superclass).prototype;return Service.prototype.atPipeEstablished=function(name,metadata){return INFO(name+" => metadata: "+JSON.stringify(metadata))},Service.prototype.performAction=function(p_type,p_id,actuator_type,actuator_id,action,arg1,arg2,arg3,done){return done()},Service.prototype.atPipeData=function(name,data,byline){var text,tokens,prefix,payload,json,error;if(null==byline&&(byline=!0),text=data.toString(),tokens=text.split(SEPARATOR),tokens.length<2)return WARN("less than 2 tokens: "+text);if(tokens.length>2)return WARN("more than 2 tokens: "+text);if(prefix=tokens[0],payload=tokens[1],"measurements"!==prefix&&"metadata"!==prefix)return WARN("unexpected prefix: "+prefix);
try{json=JSON.parse(payload)}catch(e$){return error=e$,WARN(error,"unexpected error to parse: "+text)}try{return"measurements"===prefix?this.processMeasurementsPayload(json):this.processMetadataPayload(json)}catch(e$){return error=e$,WARN(error,"unexpected error to handle: "+text)}},Service.prototype.processMeasurementsPayload=function(measurements){var self,uptime,now,i$,len$,m,p_type,p_id,s_type,s_id,pp,points,res$,j$,len1$,p,results$=[];for(uptime=(self=this).uptime,now=null!=uptime?uptime.now():null,i$=0,len$=measurements.length;len$>i$;++i$){for(m=measurements[i$],p_type=m[0],p_id=m[1],s_type=m[2],s_id=m[3],pp=m[4],res$=[],j$=0,len1$=pp.length;len1$>j$;++j$)p=pp[j$],res$.push({data_type:p[0],value:p[1]});points=res$,results$.push(self.emitData(p_type,p_id,s_type,s_id,points,now))}return results$},Service.prototype.processMetadataPayload=function(metadata){INFO("metadata => "+JSON.stringify(metadata))},Service}(PeripheralService),module.exports=exports={attach:function(opts,helpers){module.opts=opts,module.helpers=helpers},init:function(done){var app,ref$,systemUptime,psManager,communicator,opts,c,s;return ref$=app=this,systemUptime=ref$.systemUptime,psManager=ref$.psManager,communicator=ref$.communicator,opts=module.opts,null==systemUptime?done(new Error(NAME.gray+" depends on plugin "+"system-uptime".yellow+" but missing")):null==psManager?done(new Error(NAME.gray+" depends on plugin "+"ps-manager".yellow+" but missing")):null==communicator?done(new Error(NAME.gray+" depends on plugin "+"communicator".yellow+" but missing")):(c=communicator.getResource(PIPE_NAME),null==c&&WARN("DISABLED!!!"),null==c?done():(s=new Service(opts,systemUptime),s.init(function(initErr){return null!=initErr?done(initErr):psManager.register(s,function(regErr){return null!=regErr?done(regErr):done()})})))}}}).call(this)}).call(this,"/Users/yagamy/Works/workspaces/t2t/yapps-tt/apps/sensor-web3/lib/ps-impls/linux-stats.js")},{}],25:[function(require,module,exports){(function(__filename){(function(){function extend$(sub,sup){function fun(){}return fun.prototype=(sub.superclass=sup).prototype,(sub.prototype=new fun).constructor=sub,"function"==typeof sup.extended&&sup.extended(sub),sub}function import$(obj,src){var own={}.hasOwnProperty;for(var key in src)own.call(src,key)&&(obj[key]=src[key]);return obj}var fs,async,byline,spawn,iwconfig,ifconfig,WIRELESS_ACCESS_POINT_SCAN,ref$,DBG,ERR,WARN,INFO,express,PeripheralService,RELATIONSHIP_NONE,RELATIONSHIP_CONFIGURED,RELATIONSHIP_MANAGED,MODE_PIPE,DEFAULT_WIRELESS_DISCOVER_PERIOD,DEFAULT_WIRELESS_DEVICE_UPDATE_PERIOD,DEFAULT_WIRELESS_DISCOVER_RESULT_CACHE_INVALIDATION,LINUX_WIRELESS,FIELDS,NETWORK_TO_POINTS,Service,exports;fs=require("fs"),async=require("yap-require-hook").addReference(require("async"),"async"),byline=require("yap-require-hook").addReference(require("byline"),"byline"),spawn=require("yap-require-hook").addReference(require("child_process"),"child_process").spawn,iwconfig=require("yap-require-hook").addReference(require("wireless-tools/iwconfig"),"wireless-tools/iwconfig"),ifconfig=require("yap-require-hook").addReference(require("wireless-tools/ifconfig"),"wireless-tools/ifconfig"),WIRELESS_ACCESS_POINT_SCAN=require("yap-require-hook").addReference(require("../helpers/wireless-ap-scan"),"../helpers/wireless-ap-scan"),ref$=global.getLogger(__filename),DBG=ref$.DBG,ERR=ref$.ERR,WARN=ref$.WARN,INFO=ref$.INFO,ref$=global.getBundledModules(),async=ref$.async,express=ref$.express,PeripheralService=ref$.PeripheralService,ref$=PeripheralService.relationships,RELATIONSHIP_NONE=ref$.RELATIONSHIP_NONE,RELATIONSHIP_CONFIGURED=ref$.RELATIONSHIP_CONFIGURED,RELATIONSHIP_MANAGED=ref$.RELATIONSHIP_MANAGED,MODE_PIPE=PeripheralService.modes.MODE_PIPE,DEFAULT_WIRELESS_DISCOVER_PERIOD=60,DEFAULT_WIRELESS_DEVICE_UPDATE_PERIOD=180,DEFAULT_WIRELESS_DISCOVER_RESULT_CACHE_INVALIDATION=6e4,LINUX_WIRELESS="linux_wireless",FIELDS=["channel","frequency","quality","signal","ssid","security"],NETWORK_TO_POINTS=function(n){var xs,res$,i$,ref$,len$,f;for(res$=[],i$=0,len$=(ref$=FIELDS).length;len$>i$;++i$)f=ref$[i$],res$.push({data_type:f,value:n[f]});return xs=res$,null!=n.vendor&&n.vendor.length>0&&xs.push({data_type:"vendor",value:n.vendor[0]}),xs},Service=function(superclass){function Service(opts,uptime,app,helpers){var self,discover_period,oui_database,toolkit_script;this.opts=opts,this.uptime=uptime,this.app=app,this.helpers=helpers,Service.superclass.apply(this,arguments),self=this,self.name=LINUX_WIRELESS,self.types=[LINUX_WIRELESS],discover_period=opts.discover_period,oui_database=opts.oui_database,toolkit_script=opts.toolkit_script,self.discover_period=null!=discover_period?discover_period:DEFAULT_WIRELESS_DISCOVER_PERIOD,self.oui_database=oui_database,self.discovering=!1,self.discover_callbacks=[],self.discover_result=null,self.discover_result_updatedAt=0,self.toolkit_script=toolkit_script,self.adapters=[],self.default_adapter=null}extend$((import$(Service,superclass).displayName="Service",Service),superclass).prototype;return Service.prototype.atAdapterUpdated=function(){var self,oui_database;return oui_database=(self=this).oui_database,iwconfig.status(function(iwcErr,status){var res$,i$,len$,s,interfaces,k,ref$,v,f;if(null!=iwcErr)return ERR(iwcErr,"failed to discover wireless devices");for(res$={},i$=0,len$=status.length;len$>i$;++i$)s=status[i$],res$[s["interface"]]=s;self.wireless_adapters=res$,res$=[];for(k in ref$=self.wireless_adapters)v=ref$[k],res$.push(k);return interfaces=res$,INFO("detects interfaces: "+interfaces.join(", ")),f=function(adapter,cb){return ifconfig.status(adapter,function(err,status){var ifs,wireless,access_point,database,address,prefix,text,xs,error;if(null!=err)return cb(err);if(ifs=status["interface"],self.adapters[ifs]={},self.adapters[ifs].adapter=status,self.adapters[ifs].wireless=wireless=self.wireless_adapters[ifs],self.adapters[ifs]["default"]=!1,access_point=wireless.access_point,null==access_point)return cb();try{if(database=require(oui_database),address=access_point.split(":").join("").toUpperCase(),prefix=address.substring(0,6),text=database[prefix],null==text)return cb();xs=text.split("\n"),self.adapters[ifs].wireless.access_point_oui=xs}catch(e$){error=e$,ERR(error,"failed to resolve manufacturer information for "+access_point)}return cb()})},async.eachSeries(interfaces,f,function(readErr){var adapter,ref$,data,results$=[];if(null!=readErr)return ERR(readErr,"failed to get properties of wireless devices");self.default_adapter=interfaces[0],self.adapters[interfaces[0]]["default"]=!0;for(adapter in ref$=self.adapters)data=ref$[adapter],INFO("update "+adapter+" => "+JSON.stringify(data)),results$.push(self.emitPeripheralState(LINUX_WIRELESS,adapter,RELATIONSHIP_MANAGED,data));return results$})})},Service.prototype.init=function(done){var self,discover_period,f,g;return discover_period=(self=this).discover_period,f=function(){return self.atDiscover()},g=function(){return self.atAdapterUpdated()},setInterval(f,1e3*discover_period),setInterval(g,1e3*DEFAULT_WIRELESS_DEVICE_UPDATE_PERIOD),INFO("discover wireless access points every "+discover_period+" seconds"),done()},Service.prototype.performAction=function(p_type,p_id,actuator_type,actuator_id,action,arg1,arg2,arg3,done){var self,default_adapter;return default_adapter=(self=this).default_adapter,null==default_adapter?done("missing wireless adapter!!"):p_type!==LINUX_WIRELESS?done("expects p_type/"+LINUX_WIRELESS+" but "+p_type):p_id!==default_adapter?done("expects p_id/"+default_adapter+" but "+p_id):"adapter"===actuator_type&&"discover"===action?self.performDiscoverAction(default_adapter,arg1,arg2,arg3,done):"adapter"===actuator_type&&"connect"===action?self.performConnectAction(default_adapter,arg1,arg2,arg3,done):done("unsupported actuator_type: "+actuator_type)},Service.prototype.performDiscoverAction=function(adapter,arg1,arg2,arg3,done){var self,ref$,discovering,discover_callbacks,discover_result,discover_result_updatedAt,duration;return ref$=self=this,discovering=ref$.discovering,discover_callbacks=ref$.discover_callbacks,discover_result=ref$.discover_result,discover_result_updatedAt=ref$.discover_result_updatedAt,discovering?(discover_callbacks.push(done),INFO("already discovering, push callback to waiting list")):(duration=new Date-discover_result_updatedAt,INFO("last-discover: "+(null!=discover_result)+", lasted for "+duration+"ms"),null!=discover_result&&DEFAULT_WIRELESS_DISCOVER_RESULT_CACHE_INVALIDATION>duration?done(null,discover_result):(discover_callbacks.push(done),self.atDiscover(adapter)))},Service.prototype.performConnectAction=function(adapter,arg1,arg2,arg3,done){var self,toolkit_script,xs,timeout,filename,code,ip;return toolkit_script=(self=this).toolkit_script,xs=new Buffer(arg1),timeout=arg2,null==timeout&&(timeout=20),INFO("args => "+xs.toString("hex")),filename="/tmp/wifi-settings.conf",code=-10,self.ip=ip="",INFO("writing "+filename),fs.writeFile(filename,xs,function(writeErr){var args,cmd,finished,c,berr,bout;return null!=writeErr?done(writeErr+"",{code:code,ip:ip}):(args=["connect_to_ap",filename,timeout+""],cmd=toolkit_script,INFO("perform-connect-action(): "+cmd.blue+" "+args.join(" ").yellow),finished=!1,c=spawn(cmd,args),c.on("close",function(code){return 0!==code?done("connect script exits with non-zero value: "+code,{code:code,ip:ip}):finished?done(null,{code:0,ip:self.ip}):done("unexpected exit in connect script",{code:-12,ip:null})}),berr=byline(c.stderr),berr.on("data",function(line){return INFO("perform-connect-action()[stderr] => "+line)}),bout=byline(c.stdout),bout.on("data",function(line){var tokens,x,xs,token;return line+="",INFO("perform-connect-action() [stdout] => "+line),tokens=line.split("	"),INFO("tokens => "+JSON.stringify(tokens)),tokens.length>0&&"|"===tokens[0]&&(x=tokens.pop(),xs=x.split(":"),token=xs[0],"done"===token)?(ip=xs[1],self.ip=xs[1],finished=!0,INFO("ip => "+self.ip+", finished => "+finished)):void 0}))})},Service.prototype.notifyDiscoverCallbacks=function(err,result,message){var self,discover_callbacks,i$,len$,cb;for(discover_callbacks=(self=this).discover_callbacks,null!=err&&ERR(err,message),i$=0,len$=discover_callbacks.length;len$>i$;++i$)(cb=discover_callbacks[i$])(err,result);return self.discover_callbacks=[]},Service.prototype.atDiscover=function(adapter){var self,ref$,discovering,oui_database,uptime,default_adapter,oui,start;return null==adapter&&(adapter=null),ref$=self=this,discovering=ref$.discovering,oui_database=ref$.oui_database,uptime=ref$.uptime,default_adapter=ref$.default_adapter,discovering?WARN("last discover keeps running"):(null==adapter&&(adapter=default_adapter),self.discovering=!0,oui=oui_database,start=new Date,WIRELESS_ACCESS_POINT_SCAN(adapter,{oui:oui},function(err,result){var duration,properties,metadata,networks,xs,res$,i$,len$,n,now,results$=[];if(self.discovering=!1,duration=new Date-start,null!=err)return self.notifyDiscoverCallbacks(err,result,"failed to perform WIRELESS_ACCESS_POINT_SCAN");for(self.notifyDiscoverCallbacks(null,result),self.discover_result=result,self.discover_result_updatedAt=new Date,properties=result.properties,metadata=result.metadata,networks=result.networks,res$=[],i$=0,len$=networks.length;len$>i$;++i$)n=networks[i$],res$.push("	"+n.tokens.join(" ")+" <= "+n.vendor.join(" "));for(xs=res$,INFO("scanning result ("+duration+"ms): "+JSON.stringify(properties)+" => \n"+xs.join("\n")),now=uptime.now(),i$=0,len$=networks.length;len$>i$;++i$)n=networks[i$],results$.push(self.emitData(LINUX_WIRELESS,properties["interface"],"discovery",n.address.toUpperCase(),NETWORK_TO_POINTS(n),now));return results$}))},Service}(PeripheralService),module.exports=exports={attach:function(opts,helpers){module.opts=opts,module.helpers=helpers},init:function(done){var app,ref$,systemUptime,psManager,opts,helpers,enabled,s;return ref$=app=this,systemUptime=ref$.systemUptime,psManager=ref$.psManager,opts=module.opts,helpers=module.helpers,enabled=opts.enabled,null!=enabled&&enabled||(enabled=!1),enabled||WARN("DISABLED!!!"),enabled?(s=new Service(opts,systemUptime,app,helpers),s.init(function(initErr){return null!=initErr?done(initErr):psManager.register(s,function(regErr){return null!=regErr?done(regErr):(s.atAdapterUpdated(),done())})})):done()}}}).call(this)}).call(this,"/Users/yagamy/Works/workspaces/t2t/yapps-tt/apps/sensor-web3/lib/ps-impls/linux-wireless.js")},{"../helpers/wireless-ap-scan":18,async:33,byline:110,child_process:void 0,fs:void 0,"wireless-tools/ifconfig":452,"wireless-tools/iwconfig":453,"yap-require-hook":455}],26:[function(require,module,exports){(function(){var DUMMY,API_CLASS,exports;DUMMY=function(){},API_CLASS=function(){function API_CLASS(psm){this.psm=psm,this.storage=psm.getHandler("storage")}API_CLASS.displayName="API_CLASS";API_CLASS.prototype;return API_CLASS.prototype.PERFORM_ACTUATOR_REQUEST=function(p_type,p_id,a_type,a_id,action,arg1,arg2,arg3,done){var pc,po;return pc=this.psm.getPeripheralCollection(p_type),null==pc?done(["resource_unavailable","type "+p_type+" does not exist"]):(po=pc.getObject(p_id),null==po?done(["resource_unavailable","type/id "+p_type+"/"+p_id+" does not exist"]):po.perform(a_type,a_id,action,arg1,arg2,arg3,function(err,results){var request;return null!=err?done(["general_server_error",p_type+"/"+p_id+"/"+a_type+"/"+a_id+" perform "+action+" with "+arg1+","+arg2+","+arg3+" but error: "+err]):(request=p_type+"/"+p_id+"/"+a_type+"/"+a_id+", "+action,done(null,{request:request,arg1:arg1,arg2:arg2,arg3:arg3,results:results}))}))},API_CLASS.prototype.LIST_PERIPHERAL_TYPES=function(done){return done(null,this.psm.getPeripheralTypes())},API_CLASS.prototype.LIST_PERIPHERAL_IDS=function(p_type,done){var pc;return pc=this.psm.getPeripheralCollection(p_type),null==pc?done(["resource_unavailable","p_type "+p_type+" does not exist"]):done(null,pc.getObjectIds())},API_CLASS.prototype.GET_PERIPHERAL_OBJECT_INFO=function(p_type,p_id,done){var pc,po;return pc=this.psm.getPeripheralCollection(p_type),null==pc?done(["resource_unavailable","type "+p_type+" does not exist"]):(po=pc.getObject(p_id),null==po?done(["resource_unavailable","type/id "+p_type+"/"+p_id+" does not exist"]):done(null,po.toJson()))},API_CLASS.prototype.GET_SENSOR_SNAPSHOT_DATA=function(format,done){var xs,res$,k,v;if(null==format&&(format="tree"),"tree"!==format&&"array"!==format)return done(["resource_unavailable",format+" is unsupported format"]);if(null==this.storage)return done(["resource_unavailable","storage handler is unavaiable to support snapshot"]);if("tree"===format)return done(null,this.storage.getSensorTree());xs=this.storage.getSensorMap(),res$=[];for(k in xs)v=xs[k],res$.push(v);return xs=res$,done(null,xs)},API_CLASS.prototype.LIST_SENSOR_TREE_P_TYPES=function(done){var d,sm,xs,res$,k,v;if(null==this.storage)return done(["resource_unavailable","storage handler is unavaiable to support snapshot"]);d=sm=this.storage.getSensorTree(),res$=[];for(k in d)v=d[k],res$.push(k);return xs=res$,done(null,xs)},API_CLASS.prototype.LIST_SENSOR_TREE_P_IDS=function(p_type,done){var d,sm,xs,res$,k,v;if(null==this.storage)return done(["resource_unavailable","storage handler is unavaiable to support snapshot"]);if(d=sm=this.storage.getSensorTree(),d=d[p_type],null==d)return done(["resource_unavailable","p_type "+p_type+" does not exist"]);res$=[];for(k in d)v=d[k],res$.push(k);return xs=res$,done(null,xs)},API_CLASS.prototype.LIST_SENSOR_TREE_S_TYPES=function(p_type,p_id,done){var d,sm,xs,res$,k,v;if(null==this.storage)return done(["resource_unavailable","storage handler is unavaiable to support snapshot"]);if(d=sm=this.storage.getSensorTree(),d=d[p_type],null==d)return done(["resource_unavailable","p_type "+p_type+" does not exist"]);if(d=d[p_id],null==d)return done(["resource_unavailable",p_type+"/"+p_id+" does not exist"]);res$=[];for(k in d)v=d[k],res$.push(k);return xs=res$,done(null,xs)},API_CLASS.prototype.LIST_SENSOR_TREE_S_IDS=function(p_type,p_id,s_type,done){var d,sm,xs,res$,k,v;if(null==this.storage)return done(["resource_unavailable","storage handler is unavaiable to support snapshot"]);if(d=sm=this.storage.getSensorTree(),d=d[p_type],null==d)return done(["resource_unavailable","p_type "+p_type+" does not exist"]);if(d=d[p_id],null==d)return done(["resource_unavailable",p_type+"/"+p_id+" does not exist"]);if(d=d[s_type],null==d)return done(["resource_unavailable",p_type+"/"+p_id+"/"+s_type+" does not exist"]);res$=[];for(k in d)v=d[k],res$.push(k);return xs=res$,done(null,xs)},API_CLASS.prototype.GET_SENSOR_TREE_NODE_DATA=function(p_type,p_id,s_type,s_id,done){var d,sm;return null==this.storage?done(["resource_unavailable","storage handler is unavaiable to support snapshot"]):(d=sm=this.storage.getSensorTree(),d=d[p_type],null==d?done(["resource_unavailable","p_type "+p_type+" does not exist"]):(d=d[p_id],null==d?done(["resource_unavailable",p_type+"/"+p_id+" does not exist"]):(d=d[s_type],null==d?done(["resource_unavailable",p_type+"/"+p_id+"/"+s_type+" does not exist"]):(d=d[s_id],null==d?done(["resource_unavailable",p_type+"/"+p_id+"/"+s_type+"/"+s_id+" does not exist"]):done(null,d)))))},API_CLASS}(),module.exports=exports=API_CLASS}).call(this)},{}],27:[function(require,module,exports){(function(__filename){(function(){function curry$(f,bound){var context,_curry=function(args){return f.length>1?function(){var params=args?args.concat():[];return context=bound?context||this:this,params.push.apply(params,arguments)<f.length&&arguments.length?_curry.call(context,params):f.apply(context,params)}:f};return _curry()}var async,ref$,DBG,ERR,WARN,INFO,lodash_merge,lodash_sum,PeripheralService,RELATIONSHIP_NONE,RELATIONSHIP_CONFIGURED,RELATIONSHIP_MANAGED,EVENT_DATA_UPDATED,EVENT_PERIPHERAL_UPDATED,EVENT_PIPE_UPDATED,MODE_STANDALONE,MODE_PIPE,MODE_META,PRETTIZE_KVS,NAME,LOAD_HANDLER_CLASS,AT_PS_DATA_UPDATED_CURRYING,AT_PS_PERIPHERAL_UPDATED_CURRYING,INITIATE_HANDLER_CURRYING,VALIDATE_POINTS,PeripheralObject,PeripheralCollection,Pipe,PeripheralServiceWrapper,ServiceManager,exports;async=require("yap-require-hook").addReference(require("async"),"async"),ref$=global.getLogger(__filename),DBG=ref$.DBG,ERR=ref$.ERR,WARN=ref$.WARN,INFO=ref$.INFO,ref$=global.getBundledModules(),lodash_merge=ref$.lodash_merge,lodash_sum=ref$.lodash_sum,PeripheralService=require("yap-require-hook").addReference(require("./helpers/peripheral-service"),"./helpers/peripheral-service"),ref$=PeripheralService.relationships,RELATIONSHIP_NONE=ref$.RELATIONSHIP_NONE,RELATIONSHIP_CONFIGURED=ref$.RELATIONSHIP_CONFIGURED,RELATIONSHIP_MANAGED=ref$.RELATIONSHIP_MANAGED,ref$=PeripheralService.events,EVENT_DATA_UPDATED=ref$.EVENT_DATA_UPDATED,EVENT_PERIPHERAL_UPDATED=ref$.EVENT_PERIPHERAL_UPDATED,EVENT_PIPE_UPDATED=ref$.EVENT_PIPE_UPDATED,ref$=PeripheralService.modes,MODE_STANDALONE=ref$.MODE_STANDALONE,MODE_PIPE=ref$.MODE_PIPE,MODE_META=ref$.MODE_META,PRETTIZE_KVS=require("yap-require-hook").addReference(require("./helpers/utils"),"./helpers/utils").PRETTIZE_KVS,NAME="ps-manager",LOAD_HANDLER_CLASS=function(name){return function(){switch(name){case"console":return require("yap-require-hook").addReference(require("./ps-evt-handlers/console"),"./ps-evt-handlers/console");case"debug":return require("yap-require-hook").addReference(require("./ps-evt-handlers/debug"),"./ps-evt-handlers/debug");case"sock":return require("yap-require-hook").addReference(require("./ps-evt-handlers/sock"),"./ps-evt-handlers/sock");case"storage":return require("yap-require-hook").addReference(require("./ps-evt-handlers/storage"),"./ps-evt-handlers/storage");default:return null}}()},AT_PS_DATA_UPDATED_CURRYING=curry$(function(psw,p_type,p_id,s_type,s_id,points,timestamp){var manager;return manager=psw.manager,psw.ready?manager.atDataUpdated(psw,p_type,p_id,s_type,s_id,points,timestamp):void 0}),AT_PS_PERIPHERAL_UPDATED_CURRYING=curry$(function(psw,p_type,p_id,relationship,metadata){var manager;return manager=psw.manager,psw.ready?manager.atPeripheralUpdated(psw,p_type,p_id,relationship,metadata):void 0}),INITIATE_HANDLER_CURRYING=curry$(function(manager,name,done){var app,opts,CLASS,handler;return app=manager.app,opts=manager.opts.handlers[name],CLASS=LOAD_HANDLER_CLASS(name),null==CLASS?done("missing handler class for "+name):(handler=manager.handlers[name]=new CLASS(manager,app,opts),handler.init(done))}),VALIDATE_POINTS=function(points){var xs,res$,k,v;if(null==points)return["invalid null points"];if("object"!=typeof points&&!Array.isArray(points))return["unexpected type of points: "+typeof points];if(Array.isArray(points)&&0===points.length)return["no elements in points"];if(Array.isArray(points))return[null,points];res$=[];for(k in points)v=points[k],res$.push({data_type:k,value:v});return xs=res$,[null,xs]},PeripheralObject=function(){function PeripheralObject(manager,systemUptime,service,type,id,state){this.manager=manager,this.systemUptime=systemUptime,this.service=service,this.type=type,this.id=id,this.state=null!=state?state:RELATIONSHIP_CONFIGURED,this.metadata={},this.updateTimestamp()}PeripheralObject.displayName="PeripheralObject";PeripheralObject.prototype;return PeripheralObject.prototype.update=function(state,metadata){return this.state=state,null==metadata&&(metadata=null),null!=metadata?(this.metadata=lodash_merge({},metadata),this.updateTimestamp()):void 0},PeripheralObject.prototype.updateTimestamp=function(){return this.updated_at=this.systemUptime.now()},PeripheralObject.prototype.perform=function(actuator_type,actuator_id,action,arg1,arg2,arg3,done){return this.service.performAction(this.type,this.id,actuator_type,actuator_id,action,arg1,arg2,arg3,done)},PeripheralObject.prototype.toJson=function(lightweight){var state,metadata,updated_at,type,id,service,path;return null==lightweight&&(lightweight=!1),state=this.state,metadata=this.metadata,updated_at=this.updated_at,type=this.type,id=this.id,service=this.service,service=service.getName(),path=service+":/"+type+"/"+id,lightweight?{state:state,metadata:metadata,updated_at:updated_at}:{path:path,service:service,id:id,type:type,state:state,metadata:metadata,updated_at:updated_at}},PeripheralObject}(),PeripheralCollection=function(){function PeripheralCollection(manager,systemUptime,service,type){this.manager=manager,this.systemUptime=systemUptime,this.service=service,this.type=type,this.objects={},this.updateTimestamp()}PeripheralCollection.displayName="PeripheralCollection";PeripheralCollection.prototype;return PeripheralCollection.prototype.updateObject=function(id,state,metadata){},PeripheralCollection.prototype.updateTimestamp=function(){return this.updated_at=this.systemUptime.now()},PeripheralCollection.prototype.atObjectUpdated=function(p_id,relationship,metadata){var self,ref$,manager,service,systemUptime,objects,type,name,po;return ref$=self=this,manager=ref$.manager,service=ref$.service,systemUptime=ref$.systemUptime,objects=ref$.objects,type=ref$.type,name=service.getName(),po=objects[p_id],null==po&&(po=new PeripheralObject(manager,systemUptime,service,type,p_id,relationship)),po.update(relationship,metadata),objects[p_id]=po,INFO("["+name+"] "+type+"/"+p_id+" => state: "+relationship+", metadata: "+PRETTIZE_KVS(metadata))},PeripheralCollection.prototype.getObject=function(p_id){return this.objects[p_id]},PeripheralCollection.prototype.getObjectIds=function(){var objects,xs,res$,k,v;objects=this.objects,res$=[];for(k in objects)v=objects[k],res$.push(k);return xs=res$},PeripheralCollection.prototype.toJson=function(tree,lightweight){var objects,xs,res$,k,v;if(null==tree&&(tree=!0),null==lightweight&&(lightweight=!1),objects=this.objects,tree){res$={};for(k in objects)v=objects[k],res$[k]=v.toJson(lightweight);xs=res$}else{res$=[];for(k in objects)v=objects[k],res$.push(v.toJson(lightweight));xs=res$}return xs},PeripheralCollection}(),Pipe=function(){function Pipe(name,byline,psw,bridge){var self,ref$,EVT_CC_RECV_DATA,EVT_CC_RECV_LINE,EVT_CC_CONNECTED,evt;this.name=name,this.byline=byline,this.psw=psw,this.bridge=bridge,self=this,this.ps=this.psw.ps,null!=this.byline&&"boolean"==typeof this.byline||(this.byline=!1),this.ready=!1,ref$=bridge.getEvents(),EVT_CC_RECV_DATA=ref$.EVT_CC_RECV_DATA,EVT_CC_RECV_LINE=ref$.EVT_CC_RECV_LINE,EVT_CC_CONNECTED=ref$.EVT_CC_CONNECTED,this.dataCallback=function(data,byline,src,context,bridge){return self.atData(data,byline)},this.connCallback=function(connected){return self.atBridgeCcConnected(connected)},this.evt=evt=byline?EVT_CC_RECV_LINE:EVT_CC_RECV_DATA,this.bridge.on(evt,this.dataCallback),this.bridge.on(EVT_CC_CONNECTED,this.connCallback),INFO(psw.prefix+": register data-callback for tcp-proxy["+name.cyan+"]["+evt.magenta+"] event")}Pipe.displayName="Pipe";Pipe.prototype;return Pipe.prototype.atBridgeCcConnected=function(connected){var metadata;return INFO(this.psw.prefix+": at-bridge-cc-connected() => "+connected),metadata=this.bridge.toJson().metadata,this.ready=connected,connected?this.ps.atPipeEstablished(this.name,metadata):void 0},Pipe.prototype.start=function(){var connected;return(connected=this.bridge.get_cc_connected())?(INFO("communicator for bridge is already connected before start pipe!!"),this.atBridgeCcConnected(!0)):INFO(this.psw.prefix+": start but wait for communicator to connect.")},Pipe.prototype.stop=function(){return this.ready=!1},Pipe.prototype.terminate=function(){var self,ref$,bridge,psw,evt,name;return ref$=self=this,bridge=ref$.bridge,psw=ref$.psw,evt=ref$.evt,name=ref$.name,this.ready=!1,bridge.removeListener(evt,this.dataCallback),bridge.removeListener(EVT_CC_CONNECTED,this.connCallback),INFO(psw.prefix+": unregister data-callback for tcp-proxy["+name.cyan+"]["+evt.magenta+"] event")},Pipe.prototype.atData=function(data,byline){return this.ready?this.ps.atPipeData(this.name,data,byline):void 0},Pipe.prototype.send=function(x){return this.ready?this.byline?this.bridge.write_cc_line(x):this.bridge.write_cc_data(x):void 0},Pipe}(),PeripheralServiceWrapper=function(){function PeripheralServiceWrapper(manager,ps,tcpProxy){var name;this.manager=manager,this.ps=ps,this.tcpProxy=tcpProxy,name=(this.psOpts=ps.toJson()).name,this.prefix="psw["+name.cyan+"]",this.psCallbacks={},this.pipes=[],this.pipeMap={},this.ready=!0}PeripheralServiceWrapper.displayName="PeripheralServiceWrapper";PeripheralServiceWrapper.prototype;return PeripheralServiceWrapper.prototype.init=function(done){function fn$(i,b){return pipes[i].name}function fn1$(i,bridge){return new Pipe(pipes[i].name,pipes[i].byline,self,bridge)}var self,ref$,manager,ps,tcpProxy,psOpts,prefix,name,peripheral_types,description,mode,mode_settings,pipes,bridges,res$,i$,len$,p,bs,evt,cb,t;if(ref$=self=this,manager=ref$.manager,ps=ref$.ps,tcpProxy=ref$.tcpProxy,psOpts=ref$.psOpts,prefix=ref$.prefix,name=psOpts.name,peripheral_types=psOpts.peripheral_types,description=psOpts.description,mode=psOpts.mode,mode_settings=psOpts.mode_settings,self.psCallbacks[EVENT_DATA_UPDATED]=AT_PS_DATA_UPDATED_CURRYING(self),self.psCallbacks[EVENT_PERIPHERAL_UPDATED]=AT_PS_PERIPHERAL_UPDATED_CURRYING(self),mode===MODE_PIPE){if(pipes=mode_settings.pipes,null==pipes)return done("service "+name.yellow+" with mode (PIPE) but no pipes in mode_settings");if(!Array.isArray(pipes))return done("service "+name.yellow+" with mode (PIPE) but invalid pipes in mode_settings");for(res$=[],i$=0,len$=pipes.length;len$>i$;++i$)p=pipes[i$],res$.push(tcpProxy.getBridge(p.name));for(bridges=res$,res$=[],i$=0,len$=bridges.length;len$>i$;++i$)"undefined"!=typeof bridges[i$]&&null!==bridges[i$]||res$.push(fn$.call(this,i$,bridges[i$]));if(bs=res$,0!==bs.length)return done("service "+name.yellow+" with mode (PIPE) requests unavailable pipes: "+bs.join(","));for(res$=[],i$=0,len$=bridges.length;len$>i$;++i$)res$.push(fn1$.call(this,i$,bridges[i$]));for(self.pipes=res$,res$={},i$=0,len$=(ref$=self.pipes).length;len$>i$;++i$)p=ref$[i$],res$[p.name]=p;self.pipeMap=res$,self.psCallbacks[EVENT_PIPE_UPDATED]=function(name,data){return self.atPsPipeUpdated(name,data)}}for(evt in ref$=self.psCallbacks)cb=ref$[evt],ps.on(evt,cb),INFO(prefix+": register callback for peripheral-service["+evt.magenta+"] event");for(i$=0,len$=peripheral_types.length;len$>i$;++i$)t=peripheral_types[i$],manager.registerInternally(ps,name,t),INFO(prefix+": register peripheral-type "+t.green);for(i$=0,len$=(ref$=self.pipes).length;len$>i$;++i$)p=ref$[i$],p.start();return self.ready=!0,done()},PeripheralServiceWrapper.prototype.fini=function(done){var self,ref$,pipes,prefix,ps,psCallbacks,i$,len$,p,evt,cb;for(ref$=self=this,pipes=ref$.pipes,prefix=ref$.prefix,ps=ref$.ps,psCallbacks=ref$.psCallbacks,self.ready=!1,i$=0,len$=pipes.length;len$>i$;++i$)p=pipes[i$],p.terminate();for(evt in psCallbacks)cb=psCallbacks[evt],ps.removeListener(evt,cb),INFO(prefix+": unregister callback for peripheral-service["+evt.magenta+"] event");return null!=done?done():void 0},PeripheralServiceWrapper.prototype.atPsPipeUpdated=function(name,data){var self,ref$,pipeMap,prefix,ready,pipe;return ref$=self=this,pipeMap=ref$.pipeMap,prefix=ref$.prefix,(ready=ref$.ready)?(pipe=pipeMap[name],pipe?pipe.send(data):WARN(prefix+": send data "+data+" to unavailable pipe ["+name.magenta+"]")):WARN(prefix+": send data to pipe["+name+"] but already terminated => "+data)},PeripheralServiceWrapper.prototype.processWebCommand=function(remote,command,parameters,context,done){var self,ps;return ps=(self=this).ps,ps.processWebCommand(remote,command,parameters,context,done)},PeripheralServiceWrapper.prototype.getPs=function(){return this.ps},PeripheralServiceWrapper.prototype.toJson=function(){return this.ps.toJson()},PeripheralServiceWrapper}(),ServiceManager=function(){function ServiceManager(app,opts){var verbose;this.app=app,this.opts=opts,INFO("opts => "+JSON.stringify(opts)),verbose=opts.verbose,this.verbose=verbose,null!=this.verbose&&this.verbose||(this.verbose=!1),this.services={},this.collections={},this.handlers={}}ServiceManager.displayName="ServiceManager";ServiceManager.prototype;return ServiceManager.prototype.init=function(systemUptime,tcpProxy,done){var self,opts,names,res$,k,ref$,v,f;this.systemUptime=systemUptime,this.tcpProxy=tcpProxy,opts=(self=this).opts,null==opts.handlers&&(opts.handlers={}),res$=[];for(k in ref$=opts.handlers)v=ref$[k],res$.push(k);return names=res$,INFO("names => "+JSON.stringify(names)),f=INITIATE_HANDLER_CURRYING(self),async.eachSeries(names,f,function(handlerErr){return null!=handlerErr?done(handlerErr):(INFO("successfully initialized."),done())})},ServiceManager.prototype.getServiceNames=function(){var services,xs,res$,k,v;services=this.services,res$=[];for(k in services)v=services[k],res$.push(k);return xs=res$},ServiceManager.prototype.getHandlerNames=function(){var handlers,xs,res$,k,v;handlers=this.handlers,res$=[];for(k in handlers)v=handlers[k],res$.push(k);return xs=res$},ServiceManager.prototype.getService=function(name){return this.services[name]},ServiceManager.prototype.getHandler=function(name){return this.handlers[name]},ServiceManager.prototype.getPeripheralTypes=function(){var collections,xs,res$,k,v;collections=this.collections,res$=[];for(k in collections)v=collections[k],res$.push(k);return xs=res$},ServiceManager.prototype.getPeripheralCollection=function(peripheral_type){return this.collections[peripheral_type]},ServiceManager.prototype.getPeripheralsAsJson=function(name,format){var self,collections,psw,ps,types,xs,res$,i$,len$,pType,x,j$,len1$,y;if(null==format&&(format="tree"),collections=(self=this).collections,psw=self.getService(name),null==psw)return null;if(ps=psw.getPs(),types=ps.getSupportedTypes(),"tree"===format){for(res$={},i$=0,len$=types.length;len$>i$;++i$)pType=types[i$],res$[pType]=collections[pType].toJson(!0,!0);xs=res$}else{for(res$=[],i$=0,len$=types.length;len$>i$;++i$)pType=types[i$],res$.push(collections[pType].toJson(!1,!1));for(xs=res$,res$=[],i$=0,len$=xs.length;len$>i$;++i$)for(x=xs[i$],j$=0,len1$=x.length;len1$>j$;++j$)y=x[j$],res$.push(y);xs=res$}return xs},ServiceManager.prototype.unregister=function(ps){
var self,ref$,services,collections,name,ts,psw,prefix,i$,len$,t,c;if(ref$=self=this,services=ref$.services,collections=ref$.collections,null==ps)return WARN("unregister <null> peripheral-service");for(name=ps.getName(),ts=ps.getSupportedTypes(),prefix=(psw=services[name]).prefix,null==psw&&WARN("service "+name.yellow+" is never registered"),delete services[name],psw.fini(),psw=null,i$=0,len$=ts.length;len$>i$;++i$)t=ts[i$],c=collections[t],null==c&&WARN(prefix+": peripheral_type/"+t.green+" is never registered"),delete collections[t],INFO(prefix+": peripheral_type/"+t.green+" is unregistered successfully");return INFO(prefix+": service unregistration is successfully done.")},ServiceManager.prototype.register=function(ps,done){function fn$(i,x){return ts[i]}var self,ref$,services,collections,tcpProxy,name,ts,psw,xs,res$,i$,len$,t,ys,count;if(ref$=self=this,services=ref$.services,collections=ref$.collections,tcpProxy=ref$.tcpProxy,name=ps.getName(),ts=ps.getSupportedTypes(),psw=services[name],null!=psw)return done("service name "+name+" is already registered by another existed service");for(res$=[],i$=0,len$=ts.length;len$>i$;++i$)t=ts[i$],null!=collections[t]?res$.push(1):res$.push(0);for(xs=res$,res$=[],i$=0,len$=xs.length;len$>i$;++i$)1===xs[i$]&&res$.push(fn$.call(this,i$,xs[i$]));return ys=res$,count=lodash_sum(xs),count>0?done("service "+name.yellow+" registers the existed peripheral-types: "+JSON.stringify(ys)+", cancel registration."):(psw=services[name]=new PeripheralServiceWrapper(self,ps,tcpProxy),psw.init(function(err){var prefix;return null!=err?done(err):(prefix=psw.prefix,INFO(prefix+": service registration is successfully done."),done())}))},ServiceManager.prototype.registerInternally=function(ps,name,t){var self,systemUptime;return systemUptime=(self=this).systemUptime,self.collections[t]=new PeripheralCollection(self,systemUptime,ps,t)},ServiceManager.prototype.atDataUpdated=function(psw,p_type,p_id,s_type,s_id,points,timestamp){var self,ref$,systemUptime,app,handlers,ps,name,err,pp,names,metadata,handler,results$=[];if(null==points&&(points=[]),null==timestamp&&(timestamp=null),ref$=self=this,systemUptime=ref$.systemUptime,app=ref$.app,handlers=ref$.handlers,ps=psw.getPs(),null==timestamp&&(timestamp=systemUptime.now()),name=ps.getName(),ref$=VALIDATE_POINTS(points),err=ref$[0],pp=ref$[1],null!=err)return WARN("["+name+"] "+p_type+"/"+p_id+"/"+s_type+"/"+s_id+" => no points");names=["ps-sensor-updated",name,p_type,p_id,s_type,s_id],metadata={p_type:p_type,p_id:p_id,s_type:s_type,s_id:s_id},app.emit(names,ps,timestamp,metadata,pp);for(name in handlers)handler=handlers[name],handler.isEnabled()&&results$.push(handler.processUpdatedSensorData(ps,timestamp,metadata,pp));return results$},ServiceManager.prototype.atPeripheralUpdated=function(psw,p_type,p_id,relationship,metadata){var self,ref$,collections,systemUptime,handlers,timestamp,ps,name,collection,handler;if(ref$=self=this,collections=ref$.collections,systemUptime=ref$.systemUptime,handlers=ref$.handlers,"undefined"!=typeof timestamp&&null!==timestamp||(timestamp=systemUptime.now()),ps=psw.getPs(),name=ps.getName(),null==name&&(name="unknown"),name=name.yellow,collection=collections[p_type],null==collection)return ERR("["+name+"] "+p_type+"/"+p_id+" => unexpected p_type");for(name in handlers)handler=handlers[name],handler.isEnabled()&&handler.processUpdatedPeripheralState(ps,timestamp,p_type,p_id,relationship,metadata);return collection.atObjectUpdated(p_id,relationship,metadata)},ServiceManager}(),module.exports=exports={attach:function(opts,helpers){var app;return module.app=app=this,module.helpers=helpers,module.manager=app.psManager=new ServiceManager(app,opts)},init:function(done){var manager,app,ref$,systemUptime,tcpProxy;return manager=module.manager,ref$=app=this,systemUptime=ref$.systemUptime,tcpProxy=ref$.tcpProxy,null==systemUptime?done(new Error(NAME.gray+" depends on plugin "+"system-uptime".yellow+" but missing")):null==tcpProxy?done(new Error(NAME.gray+" depends on plugin "+"tcp-proxy".yellow+" but missing")):manager.init(systemUptime,tcpProxy,done)}}}).call(this)}).call(this,"/Users/yagamy/Works/workspaces/t2t/yapps-tt/apps/sensor-web3/lib/ps-manager.js")},{"./helpers/peripheral-service":16,"./helpers/utils":17,"./ps-evt-handlers/console":20,"./ps-evt-handlers/debug":21,"./ps-evt-handlers/sock":22,"./ps-evt-handlers/storage":23,async:33,"yap-require-hook":455}],28:[function(require,module,exports){(function(__filename){(function(){var async,express,ref$,DBG,ERR,WARN,INFO,RELATIONSHIP_NONE,RELATIONSHIP_CONFIGURED,RELATIONSHIP_MANAGED,API_CLASS,NAME,exports;async=require("yap-require-hook").addReference(require("async"),"async"),express=require("yap-require-hook").addReference(require("express"),"express"),ref$=global.getLogger(__filename),DBG=ref$.DBG,ERR=ref$.ERR,WARN=ref$.WARN,INFO=ref$.INFO,ref$=require("yap-require-hook").addReference(require("./helpers/peripheral-service"),"./helpers/peripheral-service").relationships,RELATIONSHIP_NONE=ref$.RELATIONSHIP_NONE,RELATIONSHIP_CONFIGURED=ref$.RELATIONSHIP_CONFIGURED,RELATIONSHIP_MANAGED=ref$.RELATIONSHIP_MANAGED,API_CLASS=require("yap-require-hook").addReference(require("./ps-manager-api"),"./ps-manager-api"),NAME="ps-webapi",module.exports=exports={attach:function(opts,helpers){var app;return module.app=app=this,module.helpers=helpers},init:function(done){var app,ref$,web,psManager,composeError,composeData,trusted_ip_or_user,API,apiPsm,apiPs,apiP,apiA,apiD,apiS;return ref$=app=this,web=ref$.web,psManager=ref$.psManager,null==web?done(new Error(NAME.gray+" depends on plugin "+"web".yellow+" but missing")):null==psManager?done(new Error(NAME.gray+" depends on plugin "+"ps-manager".yellow+" but missing")):(ref$=web.helpers,composeError=ref$.composeError,composeData=ref$.composeData,trusted_ip_or_user=ref$.trusted_ip_or_user,API=new API_CLASS(psManager),apiPsm=new express,apiPsm.get("/handlers",function(req,res){var names;return names=psManager.getHandlerNames(),composeData(req,res,names)}),apiPsm.get("/handlers/:name",function(req,res){var name,h;return name=req.params.name,h=psManager.getHandler(name),null==h?composeError(req,res,"resource_unavailable",name+" does not exist"):composeData(req,res,h.toJson())}),apiPsm.post("/handlers/:name",function(req,res){var name,h,ref$,err,message,opts;return name=req.params.name,h=psManager.getHandler(name),null==h?composeError(req,res,"resource_unavailable",name+" does not exist"):(ref$=h.set(req.body),err=ref$.err,message=ref$.message,opts=ref$.opts,null!=err?composeError(req,res,err,message):composeData(req,res,opts))}),apiPs=new express,apiPs.get("/",function(req,res){return composeData(req,res,psManager.getServiceNames())}),apiPs.get("/:name",function(req,res){var name,ps;return name=req.params.name,ps=psManager.getService(name),null==ps?composeError(req,res,"resource_unavailable",name+" does not exist"):composeData(req,res,ps.toJson())}),apiPs.get("/:name/peripherals",function(req,res){var name,format,peripherals;return name=req.params.name,format=req.query.format,null==format&&(format="tree"),"tree"!==format&&"array"!==format?composeError(req,res,"resource_unavailable",format+" is unsupported format"):(peripherals=psManager.getPeripheralsAsJson(name,format),null==peripherals?composeError(req,res,"resource_unavailable",name+" does not exist"):composeData(req,res,peripherals))}),apiPs.post("/:name/request/:command",function(req,res){var params,query,body,name,command,ps,remote,error;if(params=req.params,query=req.query,body=req.body,name=params.name,command=params.command,INFO("/"+name+"/"+command+" => qs: "+JSON.stringify(query)+", body: "+JSON.stringify(body)+", req.ip => "+req.ip),ps=psManager.getService(name),null==ps)return composeError(req,res,"resource_unavailable",name+" does not exist");try{return remote={type:"unknown",ip:req.ip,port:req.port},ps.processWebCommand(remote,command,query,body,function(err,result){return null!=err?composeError(req,res,err):(null==result&&(result={}),composeData(req,res,result))})}catch(e$){return error=e$,composeError(req,res,error)}}),apiP=new express,apiP.get("/",function(req,res){return API.LIST_PERIPHERAL_TYPES(function(err,results){return null!=err?composeError(req,res,err[0],err[1]):composeData(req,res,results)})}),apiP.get("/:p_type",function(req,res){var p_type;return p_type=req.params.p_type,API.LIST_PERIPHERAL_IDS(p_type,function(err,results){return null!=err?composeError(req,res,err[0],err[1]):composeData(req,res,results)})}),apiP.get("/:p_type/:p_id",function(req,res){var ref$,p_type,p_id;return ref$=req.params,p_type=ref$.p_type,p_id=ref$.p_id,API.GET_PERIPHERAL_OBJECT_INFO(p_type,p_id,function(err,results){return null!=err?composeError(req,res,err[0],err[1]):composeData(req,res,results)})}),apiA=new express,apiA.post("/:p_type/:p_id/:a_type/:a_id/:action",function(req,res){var ref$,p_type,p_id,a_type,a_id,action,arg1,arg2,arg3;return ref$=req.params,p_type=ref$.p_type,p_id=ref$.p_id,a_type=ref$.a_type,a_id=ref$.a_id,action=ref$.action,ref$=req.body,arg1=ref$.arg1,arg2=ref$.arg2,arg3=ref$.arg3,API.PERFORM_ACTUATOR_REQUEST(p_type,p_id,a_type,a_id,action,arg1,arg2,arg3,function(err,result){return null!=err?composeError(req,res,err[0],err[1]):composeData(req,res,result)})}),apiD=new express,apiD.get("/",function(req,res){var format;return format=req.query.format,API.GET_SENSOR_SNAPSHOT_DATA(format,function(err,result){return null!=err?composeError(req,res,err[0],err[1]):composeData(req,res,result)})}),apiS=new express,apiS.get("/",function(req,res){return API.LIST_SENSOR_TREE_P_TYPES(function(err,result){return null!=err?composeError(req,res,err[0],err[1]):composeData(req,res,result)})}),apiS.get("/:p_type",function(req,res){var p_type;return p_type=req.params.p_type,API.LIST_SENSOR_TREE_P_IDS(p_type,function(err,results){return null!=err?composeError(req,res,err[0],err[1]):composeData(req,res,results)})}),apiS.get("/:p_type/:p_id",function(req,res){var ref$,p_type,p_id;return ref$=req.params,p_type=ref$.p_type,p_id=ref$.p_id,API.LIST_SENSOR_TREE_S_TYPES(p_type,p_id,function(err,results){return null!=err?composeError(req,res,err[0],err[1]):composeData(req,res,results)})}),apiS.get("/:p_type/:p_id/:s_type",function(req,res){var ref$,p_type,p_id,s_type;return ref$=req.params,p_type=ref$.p_type,p_id=ref$.p_id,s_type=ref$.s_type,API.LIST_SENSOR_TREE_S_IDS(p_type,p_id,s_type,function(err,results){return null!=err?composeError(req,res,err[0],err[1]):composeData(req,res,results)})}),apiS.get("/:p_type/:p_id/:s_type/:s_id",function(req,res){var ref$,p_type,p_id,s_type,s_id;return ref$=req.params,p_type=ref$.p_type,p_id=ref$.p_id,s_type=ref$.s_type,s_id=ref$.s_id,API.GET_SENSOR_TREE_NODE_DATA(p_type,p_id,s_type,s_id,function(err,results){return null!=err?composeError(req,res,err[0],err[1]):composeData(req,res,results)})}),web.useApi("psm",apiPsm),web.useApi("ps",apiPs),web.useApi("p",apiP),web.useApi("a",apiA),web.useApi("d",apiD),web.useApi("s",apiS),done())}}}).call(this)}).call(this,"/Users/yagamy/Works/workspaces/t2t/yapps-tt/apps/sensor-web3/lib/ps-webapi.js")},{"./helpers/peripheral-service":16,"./ps-manager-api":26,async:33,express:123,"yap-require-hook":455}],29:[function(require,module,exports){(function(__filename){(function(){function extend$(sub,sup){function fun(){}return fun.prototype=(sub.superclass=sup).prototype,(sub.prototype=new fun).constructor=sub,"function"==typeof sup.extended&&sup.extended(sub),sub}function import$(obj,src){var own={}.hasOwnProperty;for(var key in src)own.call(src,key)&&(obj[key]=src[key]);return obj}var colors,ref$,DBG,ERR,WARN,INFO,wss,PeripheralService,RELATIONSHIP_NONE,RELATIONSHIP_CONFIGURED,RELATIONSHIP_MANAGED,MODE_STANDALONE,MODE_PIPE,MODE_META,NAME,PeripheralServiceStub,TimeCalibration,PeripheralServiceHandler,exports;colors=require("yap-require-hook").addReference(require("colors"),"colors"),ref$=global.getLogger(__filename),DBG=ref$.DBG,ERR=ref$.ERR,WARN=ref$.WARN,INFO=ref$.INFO,wss=require("yap-require-hook").addReference(require("yapps/lib/classes/web/wss"),"yapps/lib/classes/web/wss"),PeripheralService=require("yap-require-hook").addReference(require("./helpers/peripheral-service"),"./helpers/peripheral-service"),ref$=PeripheralService.relationships,RELATIONSHIP_NONE=ref$.RELATIONSHIP_NONE,RELATIONSHIP_CONFIGURED=ref$.RELATIONSHIP_CONFIGURED,RELATIONSHIP_MANAGED=ref$.RELATIONSHIP_MANAGED,ref$=PeripheralService.modes,MODE_STANDALONE=ref$.MODE_STANDALONE,MODE_PIPE=ref$.MODE_PIPE,MODE_META=ref$.MODE_META,NAME="ps-websocket",PeripheralServiceStub=function(superclass){function PeripheralServiceStub(opts,wssHandler){this.opts=opts,this.wssHandler=wssHandler,PeripheralServiceStub.superclass.call(this,opts)}extend$((import$(PeripheralServiceStub,superclass).displayName="PeripheralServiceStub",PeripheralServiceStub),superclass).prototype;return PeripheralServiceStub.prototype.loadRemoteContext=function(context){var name,peripheral_types,description,mode,mode_settings;return name=context.name,peripheral_types=context.peripheral_types,description=context.description,mode=context.mode,mode_settings=context.mode_settings,this.name=name,this.description=description,this.types=peripheral_types,this.mode=mode,null==this.mode&&(this.mode=MODE_STANDALONE),this.mode_settings=mode_settings,null==this.mode_settings?this.mode_settings={}:void 0},PeripheralServiceStub.prototype.discover=function(){},PeripheralServiceStub.prototype.performAction=function(p_type,p_id,a_type,a_id,action,arg1,arg2,arg3,done){return this.wssHandler.performReqWithRsp("wsrr_perform_action",Array.from(arguments))},PeripheralServiceStub.prototype.atPipeData=function(name,data,byline){return null==byline&&(byline=!0),this.wssHandler.emitData("pipe_updated",name,data,byline)},PeripheralServiceStub.prototype.atPipeEstablished=function(name,metadata){return this.wssHandler.emitData("pipe_established",name,metadata)},PeripheralServiceStub}(PeripheralService),TimeCalibration=function(){function TimeCalibration(remote){var boots,epoch,uptime,xs;this.remote=remote,INFO("TimeCalibration: remote => "+JSON.stringify(remote)),this.enabled=!1,null!=this.remote&&(this.local=module.uptime.now(),this.enabled=!0,this.bootsDelta=boots=this.local.boots-remote.boots,this.epochDelta=epoch=this.local.epoch-remote.epoch,this.uptimeDelta=uptime=this.local.uptime-remote.uptime,xs={boots:boots,uptime:uptime,epoch:epoch},INFO("TimeCalibration: deltas => "+JSON.stringify(xs)))}TimeCalibration.displayName="TimeCalibration";TimeCalibration.prototype;return TimeCalibration.prototype.calibrate=function(timestamp){var boots,uptime,epoch;return null==timestamp?timestamp:this.enabled?(boots=timestamp.boots,uptime=timestamp.uptime,epoch=timestamp.epoch,boots+=this.bootsDelta,epoch+=this.epochDelta,uptime+=this.uptimeDelta,{boots:boots,uptime:uptime,epoch:epoch}):timestamp},TimeCalibration}(),PeripheralServiceHandler=function(superclass){function PeripheralServiceHandler(app,manager,index,ws,config,ctx,verbose){var self;this.app=app,this.manager=manager,this.index=index,this.ws=ws,this.config=config,this.ctx=ctx,this.verbose=verbose,self=this,PeripheralServiceHandler.superclass.apply(this,arguments),self.psm=ctx,self.registered=!1}extend$((import$(PeripheralServiceHandler,superclass).displayName="PeripheralServiceHandler",PeripheralServiceHandler),superclass).prototype;return PeripheralServiceHandler.prototype.atWsDisconnect=function(){var self,ref$,ps,psm,registered;return ref$=self=this,ps=ref$.ps,psm=ref$.psm,registered=ref$.registered,self.DEBUG("at-ws-disconnect: clean up peripheral-service registration if any"),registered&&psm.unregister(ps),superclass.prototype.atWsDisconnect.apply(this,arguments)},PeripheralServiceHandler.prototype.process_configure=function(opts,done){var self,psm,rrctx,name,peripheral_types,description,mode,mode_settings,ps;return this.opts=opts,psm=(self=this).psm,rrctx=opts.rrctx,self.tc=new TimeCalibration(rrctx.now),self.INFO("process_configure: opts => "+JSON.stringify(opts).yellow),name=rrctx.name,peripheral_types=rrctx.peripheral_types,description=rrctx.description,mode=rrctx.mode,mode_settings=rrctx.mode_settings,ps=self.ps=new PeripheralServiceStub({},self),ps.loadRemoteContext(rrctx),ps.init(function(initErr){return null!=initErr?done(initErr):psm.register(ps,function(regErr){return null!=regErr?done(regErr):(self.registered=!0,done(null,ps))})})},PeripheralServiceHandler.prototype.process_data_sensor_updated=function(items,p_type,p_id,s_type,s_id,timestamp){var points;return points=items[0],this.ps.emitData(p_type,p_id,s_type,s_id,points,this.tc.calibrate(timestamp))},PeripheralServiceHandler.prototype.process_data_peripheral_updated=function(items,p_type,p_id,relationship,metadata){return this.ps.emitPeripheralState(p_type,p_id,relationship,metadata)},PeripheralServiceHandler.prototype.process_data_pipe_updated=function(items,name,data){return this.ps.emitPipeData(name,data)},PeripheralServiceHandler}(wss.HandlerClazz),module.exports=exports={name:NAME,attach:function(opts,helpers){module.opts=opts,module.helpers=helpers},init:function(done){var app,ref$,systemUptime,psManager,opts,manager;return ref$=app=this,systemUptime=ref$.systemUptime,psManager=ref$.psManager,opts=module.opts,null==systemUptime?done(new Error(NAME.gray+" depends on plugin "+"system-uptime".yellow+" but missing")):null==psManager?done(new Error(NAME.gray+" depends on plugin "+"ps-manager".yellow+" but missing")):(module.uptime=systemUptime,module.manager=manager=wss.createInstance(app,"ps",opts,PeripheralServiceHandler,psManager),manager.init(done))}}}).call(this)}).call(this,"/Users/yagamy/Works/workspaces/t2t/yapps-tt/apps/sensor-web3/lib/ps-websocket.js")},{"./helpers/peripheral-service":16,colors:115,"yap-require-hook":455,"yapps/lib/classes/web/wss":468}],30:[function(require,module,exports){(function(__filename){(function(){var async,express,ref$,DBG,ERR,WARN,INFO,NAME,exports;async=require("yap-require-hook").addReference(require("async"),"async"),express=require("yap-require-hook").addReference(require("express"),"express"),ref$=global.getLogger(__filename),DBG=ref$.DBG,ERR=ref$.ERR,WARN=ref$.WARN,INFO=ref$.INFO,NAME="system-webapi",module.exports=exports={attach:function(opts,helpers){var app;return module.app=app=this,module.helpers=helpers},init:function(done){var app,ref$,web,systemInfo,composeError,composeData,apiT;return ref$=app=this,web=ref$.web,systemInfo=ref$.systemInfo,null==web?done(new Error(NAME.gray+" depends on plugin "+"web".yellow+" but missing")):null==systemInfo?done(new Error(NAME.gray+" depends on plugin "+"system-info".yellow+" but missing")):(ref$=web.helpers,composeError=ref$.composeError,composeData=ref$.composeData,apiT=new express,apiT.get("/metadata",function(req,res){return composeData(req,res,systemInfo.toJson())}),web.useApi("system",apiT),done())}}}).call(this)}).call(this,"/Users/yagamy/Works/workspaces/t2t/yapps-tt/apps/sensor-web3/lib/system-webapi.js")},{async:33,express:123,"yap-require-hook":455}],31:[function(require,module,exports){(function(__filename){(function(){var async,express,ref$,DBG,ERR,WARN,INFO,NAME,exports;async=require("yap-require-hook").addReference(require("async"),"async"),express=require("yap-require-hook").addReference(require("express"),"express"),ref$=global.getLogger(__filename),DBG=ref$.DBG,ERR=ref$.ERR,WARN=ref$.WARN,INFO=ref$.INFO,NAME="tcp-proxy-webapi",module.exports=exports={attach:function(opts,helpers){var app;return module.app=app=this,module.helpers=helpers},init:function(done){var app,ref$,web,tcpProxy,composeError,composeData,trusted_ip_or_user,apiT;return ref$=app=this,web=ref$.web,tcpProxy=ref$.tcpProxy,null==web?done(new Error(NAME.gray+" depends on plugin "+"web".yellow+" but missing")):null==tcpProxy?done(new Error(NAME.gray+" depends on plugin "+"tcp-proxy".yellow+" but missing")):(ref$=web.helpers,composeError=ref$.composeError,composeData=ref$.composeData,trusted_ip_or_user=ref$.trusted_ip_or_user,apiT=new express,apiT.get("/",function(req,res){var format,xs;return format=req.query.format,xs=tcpProxy.toJson(format),composeData(req,res,xs)}),apiT.get("/bridges",function(req,res){var bridges,xs,res$,i$,len$,c;for(bridges=tcpProxy.getBridges(),res$=[],i$=0,len$=bridges.length;len$>i$;++i$)c=bridges[i$],res$.push(c.toJson());return xs=res$,composeData(req,res,xs)}),web.useApi("t",apiT),done())}}}).call(this)}).call(this,"/Users/yagamy/Works/workspaces/t2t/yapps-tt/apps/sensor-web3/lib/tcp-proxy-webapi.js")},{async:33,express:123,"yap-require-hook":455}],32:[function(require,module,exports){(function(__filename){(function(){function extend$(sub,sup){function fun(){}return fun.prototype=(sub.superclass=sup).prototype,(sub.prototype=new fun).constructor=sub,"function"==typeof sup.extended&&sup.extended(sub),sub}function import$(obj,src){var own={}.hasOwnProperty;for(var key in src)own.call(src,key)&&(obj[key]=src[key]);return obj}var colors,async,path,moment,fs,EventEmitter,exec,ref$,DBG,ERR,WARN,INFO,lodash_merge,lodash_padStart,lodash_padEnd,yapps_utils,CREATE_BUFFER_WITH_STRING,NAME,EVT_CC_RECV_DATA,EVT_CC_RECV_LINE,EVT_CC_CONNECTED,EVENTS,DATA_FORMAT_BYTE_ALIGNMENTS,SETTINGS,DataFormatter,Bridge,Manager,exports;colors=require("yap-require-hook").addReference(require("colors"),"colors"),async=require("yap-require-hook").addReference(require("async"),"async"),path=require("path"),moment=require("yap-require-hook").addReference(require("moment"),"moment"),fs=require("fs"),EventEmitter=require("yap-require-hook").addReference(require("events"),"events"),exec=require("yap-require-hook").addReference(require("child_process"),"child_process").exec,ref$=global.getLogger(__filename),DBG=ref$.DBG,ERR=ref$.ERR,WARN=ref$.WARN,INFO=ref$.INFO,ref$=getBundledModules(),lodash_merge=ref$.lodash_merge,lodash_padStart=ref$.lodash_padStart,lodash_padEnd=ref$.lodash_padEnd,yapps_utils=ref$.yapps_utils,CREATE_BUFFER_WITH_STRING=yapps_utils.buffer_utils.CREATE_BUFFER_WITH_STRING,NAME="tcp-proxy",EVT_CC_RECV_DATA="communicator-recv-data",EVT_CC_RECV_LINE="communicator-recv-line",EVT_CC_CONNECTED="communicator-connected",EVENTS={EVT_CC_RECV_DATA:EVT_CC_RECV_DATA,EVT_CC_RECV_LINE:EVT_CC_RECV_LINE,EVT_CC_CONNECTED:EVT_CC_CONNECTED},DATA_FORMAT_BYTE_ALIGNMENTS=16,SETTINGS={communicator:{line:"from_cc_line",data:"from_cc_data"},sock:{line:"from_tss_line",data:"from_tss_data"}},DataFormatter=function(){function DataFormatter(alignments,device,host){this.alignments=alignments,this.device=device,this.host=host,this.counter=0,this.output=[],this.now=""}DataFormatter.displayName="DataFormatter";DataFormatter.prototype;return DataFormatter.prototype.flushLine=function(fromRemote){var self,ref$,now,device,host,hexArray,charArray,alignments,counter,direction,prefix,byteAlignments,hexes,text;return null==fromRemote&&(fromRemote=!0),ref$=self=this,now=ref$.now,device=ref$.device,host=ref$.host,hexArray=ref$.hexArray,charArray=ref$.charArray,alignments=ref$.alignments,self.hexArray=[],self.charArray=[],counter=self.counter+"",counter=lodash_padStart(counter,10,"0"),direction=fromRemote?"->".black.bgWhite:"<-".black.bgRed,prefix=now.cyan+" "+device.green+"("+host.underline.blue+") "+counter+" ["+direction+"]",byteAlignments=3*alignments,hexes=hexArray.join(" "),hexes=lodash_padEnd(hexes,byteAlignments),text=charArray.join(""),self.output.push(prefix+" "+hexes.yellow+" | "+text)},DataFormatter.prototype.preFormat=function(data,fromRemote){return null==fromRemote&&(fromRemote=!0),this.counter=this.counter+1,this.pack={data:data,fromRemote:fromRemote}},DataFormatter.prototype.format=function(){function fn$(i,b){var t,c;t=16>b?"0"+b.toString(16):b.toString(16),c=b>=32&&127>b?String.fromCharCode(b):" ".bgWhite,b==="	".charCodeAt()&&(c="t".bgMagenta.cyan.underline),b==="\n".charCodeAt()&&(c="n".bgMagenta.cyan.underline),b==="\r".charCodeAt()&&(c="r".bgMagenta.cyan.underline),self.hexArray.push(t.toUpperCase()),self.charArray.push(c),0===(i+1)%self.alignments&&self.flushLine(fromRemote)}var self,ref$,alignments,pack,data,fromRemote,i$,len$;for(ref$=self=this,alignments=ref$.alignments,pack=ref$.pack,data=pack.data,fromRemote=pack.fromRemote,self.now=moment().format("hh:mm:ss.SSS"),self.output=[],self.hexArray=[],self.charArray=[],i$=0,len$=data.length;len$>i$;++i$)fn$.call(this,i$,data[i$]);return 0!==self.hexArray.length&&self.flushLine(fromRemote),self.output.push(""),self.output},DataFormatter}(),Bridge=function(superclass){function Bridge(app,manager,name,config,verbose){this.app=app,this.manager=manager,this.name=name,this.config=config,this.verbose=null!=verbose?verbose:!1,this.cc=null,this.tss=null,this.mss=null,this.prefix="bridge["+name.cyan+"]",this.ccConnected=!1}extend$((import$(Bridge,superclass).displayName="Bridge",Bridge),superclass).prototype;return Bridge.prototype.hook=function(pluginName,dataType,functionName){var self,ref$,name,app,prefix,cc,func,tokens,evt;return ref$=self=this,name=ref$.name,app=ref$.app,prefix=ref$.prefix,cc=ref$.cc,cc.setConnectionListener(function(connected){return self.at_cc_connected(connected)}),func=self[functionName],null==func?WARN(prefix+": missing listener function => bridge."+functionName):"communicator"!==pluginName||cc.broadcast?(tokens=[pluginName,name,"from-peer",dataType],evt=tokens.join("::"),INFO(prefix+": add listener for "+evt.magenta),app.on(evt,function(x,src,context){return func.apply(self,arguments)})):"line"===dataType?(INFO(prefix+": set line listener for communicator["+cc.name.magenta+"] => bridge["+functionName.green+"]"),cc.setLineListener(function(x,src,context){return func.apply(self,arguments)})):(INFO(prefix+": set data listener for communicator["+cc.name.magenta+"] => bridge["+functionName.green+"]"),cc.setDataListener(function(x,src,context){return func.apply(self,arguments)}))},Bridge.prototype.guessMetadata=function(done){var self,ref$,name,config,manager,cc,prefix,metadata,guess,urlTokens,hostname,port,script,command;return ref$=self=this,name=ref$.name,config=ref$.config,manager=ref$.manager,cc=ref$.cc,prefix=ref$.prefix,metadata=config.metadata,guess=metadata.guess,null!=guess&&guess?(urlTokens=cc.urlTokens,INFO(prefix+": communicator.url-tokens => "+JSON.stringify(urlTokens).green),hostname=urlTokens.hostname,port=urlTokens.port,"127.0.0.1"!==hostname?done(null,{},"using default metadata because hostname "+hostname+" is not 127.0.0.1"):(script=manager.opts.scripts.guess_metadata,null==script?done("missing guess_metadata script"):(command=script+" "+port,INFO(prefix+": running "+command.green+" to guess metadata"),exec(command,function(execErr,stdout,stderr){var xs,device,baudrate;return null!=execErr?done(null,{},"using default metadata because of err: "+execErr):(INFO(prefix+" stdout => \n"+stdout),xs=stdout+"",""===xs?done(null,{},"using default metadata because of empty stdout"):(xs=xs.split("\n"),device=xs[0],baudrate=xs[1].substring(1),baudrate=parseInt(baudrate),fs.readlink(device,function(readlinkErr,p){var device;return null!=readlinkErr&&WARN("unexpected readlink-error: "+readlinkErr),null!=p&&(device=p),done(null,{device:device,baudrate:baudrate},"using system metadata")})))})))):done(null,{},"using default metadata because guess is false")},Bridge.prototype.init=function(sock,communicator,done){var self,ref$,app,manager,name,prefix,config,verbose,metadata,defaults,device,cc,tss,monitorName,mss;return ref$=self=this,app=ref$.app,manager=ref$.manager,name=ref$.name,prefix=ref$.prefix,config=ref$.config,verbose=ref$.verbose,metadata=config.metadata,null==metadata?done(prefix+" => missing metadata in config"):(defaults=metadata.defaults,null==defaults?done(prefix+" => missing metadata[defaults] in config"):(device=defaults.device,null==device?done(prefix+" => missing metadata[defaults][device] in config"):(verbose&&INFO(prefix+": looking for communicator.connections["+name.magenta+"] ..."),cc=self.cc=communicator.getResource(name),null==cc?done(prefix+" no such communicator.connections["+name+"]"):(verbose&&INFO(prefix+": looking for sock.servers["+name.magenta+"] as tunnel ..."),tss=self.tss=sock.getServer(name),null==tss?done(prefix+" no such sock.servers["+name+"]"):(monitorName=name+"_monitor",verbose&&INFO(prefix+": looking for sock.servers["+monitorName.magenta+"] as monitor ..."),mss=self.mss=sock.getServer(monitorName),null==mss&&WARN(prefix+": missing monitor socket server => "+monitorName.magenta+", ignore it"),self.guessMetadata(function(err,system,message){var ref$,hostname,port,device,s,plugin,dataType,functionName;if(null!=err)return done(err);self.metadata=lodash_merge({},defaults,system),message=null!=message?"("+message+")":"",INFO(prefix+": metadata => "+JSON.stringify(self.metadata).green+". "+message),ref$=cc.urlTokens,hostname=ref$.hostname,port=ref$.port,device=self.metadata.device,self.formatter=new DataFormatter(DATA_FORMAT_BYTE_ALIGNMENTS,path.basename(device),hostname+":"+port);for(s in ref$=SETTINGS){plugin=ref$[s];for(dataType in plugin)functionName=plugin[dataType],self.hook(s,dataType,functionName)}return INFO(prefix+": initialized."),done()}))))))},Bridge.prototype.get_cc_connected=function(){return this.ccConnected},Bridge.prototype.at_cc_connected=function(ccConnected){this.ccConnected=ccConnected,this.emit(EVT_CC_CONNECTED,ccConnected)},Bridge.prototype.write_cc_line=function(line){var data;return data=CREATE_BUFFER_WITH_STRING(line+"\n"),this.log(data,!1),this.cc.sendLine(line)},Bridge.prototype.write_cc_data=function(data){return this.log(data,!1),this.cc.sendData(data)},Bridge.prototype.from_cc_line=function(line,src,context){return this.emit(EVT_CC_RECV_LINE,line,!0,src,context,this)},Bridge.prototype.from_cc_data=function(data,src,context){return this.tss.write(data),this.log(data,!0),this.emit(EVT_CC_RECV_DATA,data,!1,src,context,this)},Bridge.prototype.from_tss_line=function(line,src,context){},Bridge.prototype.from_tss_data=function(data,src,context){return this.log(data,!1),this.cc.sendData(data)},Bridge.prototype.log=function(data,fromRemote){var self,ref$,mss,formatter,connections,xs;return null==fromRemote&&(fromRemote=!0),ref$=self=this,mss=ref$.mss,formatter=ref$.formatter,formatter.preFormat(data,fromRemote),null!=mss&&(connections=mss.getConnections(),connections.length>0)?(xs=formatter.format(),xs=xs.join("\r\n"),mss.write(xs)):void 0},Bridge.prototype.toJson=function(ignoreName){var name,metadata,mss,tss,cc,verbose,monitor,result;return null==ignoreName&&(ignoreName=!1),name=this.name,metadata=this.metadata,mss=this.mss,tss=this.tss,cc=this.cc,verbose=this.verbose,tss=tss.toJson(),cc=cc.toJson(),monitor=null!=mss,result={cc:cc,tss:tss,metadata:metadata,monitor:monitor,verbose:verbose},ignoreName?result:(result.name=name,result)},Bridge.prototype.getEvents=function(){return EVENTS},Bridge}(EventEmitter),Manager=function(){function Manager(app,opts){var verbose;this.app=app,this.opts=opts,this.bridges=[],this.bridgeMap={},verbose=opts.verbose,this.verbose=verbose,null!=this.verbose&&this.verbose||(this.verbose=!1)}Manager.displayName="Manager";Manager.prototype;return Manager.prototype.createBridge=function(name,config){var self,ref$,app,verbose,communicator,c;return ref$=self=this,app=ref$.app,verbose=ref$.verbose,communicator=ref$.communicator,c=communicator.getResource(name),null!=c?new Bridge(app,self,name,config,verbose):(WARN("bridge["+name.cyan+"] "+"DISABLED".red+" because of missing communicator"),null)},Manager.prototype.init=function(sock,communicator,done){var self,ref$,opts,app,verbose,bridges,res$,name,config,b,i$,len$,setupBridge;this.sock=sock,this.communicator=communicator,ref$=self=this,opts=ref$.opts,app=ref$.app,verbose=ref$.verbose,res$=[];for(name in ref$=opts.bridges)config=ref$[name],res$.push(self.createBridge(name,config));for(bridges=res$,self.bridges=bridges=function(){var i$,ref$,len$,results$=[];for(i$=0,len$=(ref$=bridges).length;len$>i$;++i$)b=ref$[i$],null!=b&&results$.push(b);return results$}(),res$={},i$=0,len$=bridges.length;len$>i$;++i$)b=bridges[i$],res$[b.name]=b;return self.bridgeMap=res$,
setupBridge=function(b,cb){return b.init(sock,communicator,cb)},async.each(bridges,setupBridge,done)},Manager.prototype.getBridges=function(){return this.bridges},Manager.prototype.getBridge=function(name){return this.bridgeMap[name]},Manager.prototype.getEvents=function(){return EVENTS},Manager.prototype.toJson=function(format){var self,bridges,res$,i$,ref$,len$,c;if(null==format&&(format="array"),self=this,"tree"===format){for(res$={},i$=0,len$=(ref$=self.bridges).length;len$>i$;++i$)c=ref$[i$],res$[c.name]=c.toJson(!0);bridges=res$}else{for(res$=[],i$=0,len$=(ref$=self.bridges).length;len$>i$;++i$)c=ref$[i$],res$.push(c.toJson());bridges=res$}return{bridges:bridges}},Manager}(),module.exports=exports={attach:function(opts,helpers){var app;app=this,module.manager=app.tcpProxy=new Manager(app,opts,helpers)},init:function(done){var manager,app,ref$,sock,communicator;return manager=module.manager,ref$=app=this,sock=ref$.sock,communicator=ref$.communicator,null==sock?done(new Error(NAME.gray+" depends on plugin "+"sock".yellow+" but missing")):null==communicator?done(new Error(NAME.gray+" depends on plugin "+"communicator".yellow+" but missing")):manager.init(sock,communicator,done)}}}).call(this)}).call(this,"/Users/yagamy/Works/workspaces/t2t/yapps-tt/apps/sensor-web3/lib/tcp-proxy.js")},{async:33,child_process:void 0,colors:115,events:void 0,fs:void 0,moment:442,path:void 0,"yap-require-hook":455}],33:[function(require,module,exports){!function(){function noop(){}function identity(v){return v}function toBool(v){return!!v}function notId(v){return!v}function only_once(fn){return function(){if(null===fn)throw new Error("Callback was already called.");fn.apply(this,arguments),fn=null}}function _once(fn){return function(){null!==fn&&(fn.apply(this,arguments),fn=null)}}function _isArrayLike(arr){return _isArray(arr)||"number"==typeof arr.length&&arr.length>=0&&arr.length%1===0}function _each(coll,iterator){return _isArrayLike(coll)?_arrayEach(coll,iterator):_forEachOf(coll,iterator)}function _arrayEach(arr,iterator){for(var index=-1,length=arr.length;++index<length;)iterator(arr[index],index,arr)}function _map(arr,iterator){for(var index=-1,length=arr.length,result=Array(length);++index<length;)result[index]=iterator(arr[index],index,arr);return result}function _range(count){return _map(Array(count),function(v,i){return i})}function _reduce(arr,iterator,memo){return _arrayEach(arr,function(x,i,a){memo=iterator(memo,x,i,a)}),memo}function _forEachOf(object,iterator){_arrayEach(_keys(object),function(key){iterator(object[key],key)})}function _indexOf(arr,item){for(var i=0;i<arr.length;i++)if(arr[i]===item)return i;return-1}function _keyIterator(coll){var len,keys,i=-1;return _isArrayLike(coll)?(len=coll.length,function(){return i++,len>i?i:null}):(keys=_keys(coll),len=keys.length,function(){return i++,len>i?keys[i]:null})}function _restParam(func,startIndex){return startIndex=null==startIndex?func.length-1:+startIndex,function(){for(var length=Math.max(arguments.length-startIndex,0),rest=Array(length),index=0;length>index;index++)rest[index]=arguments[index+startIndex];switch(startIndex){case 0:return func.call(this,rest);case 1:return func.call(this,arguments[0],rest)}}}function _withoutIndex(iterator){return function(value,index,callback){return iterator(value,callback)}}function _eachOfLimit(limit){return function(obj,iterator,callback){callback=_once(callback||noop),obj=obj||[];var nextKey=_keyIterator(obj);if(0>=limit)return callback(null);var done=!1,running=0,errored=!1;!function replenish(){if(done&&0>=running)return callback(null);for(;limit>running&&!errored;){var key=nextKey();if(null===key)return done=!0,void(0>=running&&callback(null));running+=1,iterator(obj[key],key,only_once(function(err){running-=1,err?(callback(err),errored=!0):replenish()}))}}()}}function doParallel(fn){return function(obj,iterator,callback){return fn(async.eachOf,obj,iterator,callback)}}function doParallelLimit(fn){return function(obj,limit,iterator,callback){return fn(_eachOfLimit(limit),obj,iterator,callback)}}function doSeries(fn){return function(obj,iterator,callback){return fn(async.eachOfSeries,obj,iterator,callback)}}function _asyncMap(eachfn,arr,iterator,callback){callback=_once(callback||noop);var results=[];eachfn(arr,function(value,index,callback){iterator(value,function(err,v){results[index]=v,callback(err)})},function(err){callback(err,results)})}function _filter(eachfn,arr,iterator,callback){var results=[];eachfn(arr,function(x,index,callback){iterator(x,function(v){v&&results.push({index:index,value:x}),callback()})},function(){callback(_map(results.sort(function(a,b){return a.index-b.index}),function(x){return x.value}))})}function _reject(eachfn,arr,iterator,callback){_filter(eachfn,arr,function(value,cb){iterator(value,function(v){cb(!v)})},callback)}function _createTester(eachfn,check,getResult){return function(arr,limit,iterator,cb){function done(){cb&&cb(getResult(!1,void 0))}function iteratee(x,_,callback){return cb?void iterator(x,function(v){cb&&check(v)&&(cb(getResult(!0,x)),cb=iterator=!1),callback()}):callback()}arguments.length>3?eachfn(arr,limit,iteratee,done):(cb=iterator,iterator=limit,eachfn(arr,iteratee,done))}}function _findGetResult(v,x){return x}function _parallel(eachfn,tasks,callback){callback=callback||noop;var results=_isArrayLike(tasks)?[]:{};eachfn(tasks,function(task,key,callback){task(_restParam(function(err,args){args.length<=1&&(args=args[0]),results[key]=args,callback(err)}))},function(err){callback(err,results)})}function _concat(eachfn,arr,fn,callback){var result=[];eachfn(arr,function(x,index,cb){fn(x,function(err,y){result=result.concat(y||[]),cb(err)})},function(err){callback(err,result)})}function _queue(worker,concurrency,payload){function _insert(q,data,pos,callback){if(null!=callback&&"function"!=typeof callback)throw new Error("task callback must be a function");return q.started=!0,_isArray(data)||(data=[data]),0===data.length&&q.idle()?async.setImmediate(function(){q.drain()}):(_arrayEach(data,function(task){var item={data:task,callback:callback||noop};pos?q.tasks.unshift(item):q.tasks.push(item),q.tasks.length===q.concurrency&&q.saturated()}),void async.setImmediate(q.process))}function _next(q,tasks){return function(){workers-=1;var args=arguments;_arrayEach(tasks,function(task){task.callback.apply(task,args)}),q.tasks.length+workers===0&&q.drain(),q.process()}}if(null==concurrency)concurrency=1;else if(0===concurrency)throw new Error("Concurrency must not be zero");var workers=0,q={tasks:[],concurrency:concurrency,payload:payload,saturated:noop,empty:noop,drain:noop,started:!1,paused:!1,push:function(data,callback){_insert(q,data,!1,callback)},kill:function(){q.drain=noop,q.tasks=[]},unshift:function(data,callback){_insert(q,data,!0,callback)},process:function(){if(!q.paused&&workers<q.concurrency&&q.tasks.length)for(;workers<q.concurrency&&q.tasks.length;){var tasks=q.payload?q.tasks.splice(0,q.payload):q.tasks.splice(0,q.tasks.length),data=_map(tasks,function(task){return task.data});0===q.tasks.length&&q.empty(),workers+=1;var cb=only_once(_next(q,tasks));worker(data,cb)}},length:function(){return q.tasks.length},running:function(){return workers},idle:function(){return q.tasks.length+workers===0},pause:function(){q.paused=!0},resume:function(){if(q.paused!==!1){q.paused=!1;for(var resumeCount=Math.min(q.concurrency,q.tasks.length),w=1;resumeCount>=w;w++)async.setImmediate(q.process)}}};return q}function _console_fn(name){return _restParam(function(fn,args){fn.apply(null,args.concat([_restParam(function(err,args){"object"==typeof console&&(err?console.error&&console.error(err):console[name]&&_arrayEach(args,function(x){console[name](x)}))})]))})}function _times(mapper){return function(count,iterator,callback){mapper(_range(count),iterator,callback)}}function _applyEach(eachfn){return _restParam(function(fns,args){var go=_restParam(function(args){var that=this,callback=args.pop();return eachfn(fns,function(fn,_,cb){fn.apply(that,args.concat([cb]))},callback)});return args.length?go.apply(this,args):go})}function ensureAsync(fn){return _restParam(function(args){var callback=args.pop();args.push(function(){var innerArgs=arguments;sync?async.setImmediate(function(){callback.apply(null,innerArgs)}):callback.apply(null,innerArgs)});var sync=!0;fn.apply(this,args),sync=!1})}var previous_async,async={},root="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||this;null!=root&&(previous_async=root.async),async.noConflict=function(){return root.async=previous_async,async};var _toString=Object.prototype.toString,_isArray=Array.isArray||function(obj){return"[object Array]"===_toString.call(obj)},_isObject=function(obj){var type=typeof obj;return"function"===type||"object"===type&&!!obj},_keys=Object.keys||function(obj){var keys=[];for(var k in obj)obj.hasOwnProperty(k)&&keys.push(k);return keys},_setImmediate="function"==typeof setImmediate&&setImmediate,_delay=_setImmediate?function(fn){_setImmediate(fn)}:function(fn){setTimeout(fn,0)};"object"==typeof process&&"function"==typeof process.nextTick?async.nextTick=process.nextTick:async.nextTick=_delay,async.setImmediate=_setImmediate?_delay:async.nextTick,async.forEach=async.each=function(arr,iterator,callback){return async.eachOf(arr,_withoutIndex(iterator),callback)},async.forEachSeries=async.eachSeries=function(arr,iterator,callback){return async.eachOfSeries(arr,_withoutIndex(iterator),callback)},async.forEachLimit=async.eachLimit=function(arr,limit,iterator,callback){return _eachOfLimit(limit)(arr,_withoutIndex(iterator),callback)},async.forEachOf=async.eachOf=function(object,iterator,callback){function done(err){err?callback(err):(completed+=1,completed>=size&&callback(null))}callback=_once(callback||noop),object=object||[];var size=_isArrayLike(object)?object.length:_keys(object).length,completed=0;return size?void _each(object,function(value,key){iterator(object[key],key,only_once(done))}):callback(null)},async.forEachOfSeries=async.eachOfSeries=function(obj,iterator,callback){function iterate(){var sync=!0;return null===key?callback(null):(iterator(obj[key],key,only_once(function(err){if(err)callback(err);else{if(key=nextKey(),null===key)return callback(null);sync?async.nextTick(iterate):iterate()}})),void(sync=!1))}callback=_once(callback||noop),obj=obj||[];var nextKey=_keyIterator(obj),key=nextKey();iterate()},async.forEachOfLimit=async.eachOfLimit=function(obj,limit,iterator,callback){_eachOfLimit(limit)(obj,iterator,callback)},async.map=doParallel(_asyncMap),async.mapSeries=doSeries(_asyncMap),async.mapLimit=doParallelLimit(_asyncMap),async.inject=async.foldl=async.reduce=function(arr,memo,iterator,callback){async.eachOfSeries(arr,function(x,i,callback){iterator(memo,x,function(err,v){memo=v,callback(err)})},function(err){callback(err||null,memo)})},async.foldr=async.reduceRight=function(arr,memo,iterator,callback){var reversed=_map(arr,identity).reverse();async.reduce(reversed,memo,iterator,callback)},async.select=async.filter=doParallel(_filter),async.selectLimit=async.filterLimit=doParallelLimit(_filter),async.selectSeries=async.filterSeries=doSeries(_filter),async.reject=doParallel(_reject),async.rejectLimit=doParallelLimit(_reject),async.rejectSeries=doSeries(_reject),async.any=async.some=_createTester(async.eachOf,toBool,identity),async.someLimit=_createTester(async.eachOfLimit,toBool,identity),async.all=async.every=_createTester(async.eachOf,notId,notId),async.everyLimit=_createTester(async.eachOfLimit,notId,notId),async.detect=_createTester(async.eachOf,identity,_findGetResult),async.detectSeries=_createTester(async.eachOfSeries,identity,_findGetResult),async.detectLimit=_createTester(async.eachOfLimit,identity,_findGetResult),async.sortBy=function(arr,iterator,callback){function comparator(left,right){var a=left.criteria,b=right.criteria;return b>a?-1:a>b?1:0}async.map(arr,function(x,callback){iterator(x,function(err,criteria){err?callback(err):callback(null,{value:x,criteria:criteria})})},function(err,results){return err?callback(err):void callback(null,_map(results.sort(comparator),function(x){return x.value}))})},async.auto=function(tasks,callback){function addListener(fn){listeners.unshift(fn)}function removeListener(fn){var idx=_indexOf(listeners,fn);idx>=0&&listeners.splice(idx,1)}function taskComplete(){remainingTasks--,_arrayEach(listeners.slice(0),function(fn){fn()})}callback=_once(callback||noop);var keys=_keys(tasks),remainingTasks=keys.length;if(!remainingTasks)return callback(null);var results={},listeners=[];addListener(function(){remainingTasks||callback(null,results)}),_arrayEach(keys,function(k){function ready(){return _reduce(requires,function(a,x){return a&&results.hasOwnProperty(x)},!0)&&!results.hasOwnProperty(k)}function listener(){ready()&&(removeListener(listener),task[task.length-1](taskCallback,results))}for(var dep,task=_isArray(tasks[k])?tasks[k]:[tasks[k]],taskCallback=_restParam(function(err,args){if(args.length<=1&&(args=args[0]),err){var safeResults={};_forEachOf(results,function(val,rkey){safeResults[rkey]=val}),safeResults[k]=args,callback(err,safeResults)}else results[k]=args,async.setImmediate(taskComplete)}),requires=task.slice(0,task.length-1),len=requires.length;len--;){if(!(dep=tasks[requires[len]]))throw new Error("Has inexistant dependency");if(_isArray(dep)&&_indexOf(dep,k)>=0)throw new Error("Has cyclic dependencies")}ready()?task[task.length-1](taskCallback,results):addListener(listener)})},async.retry=function(times,task,callback){function parseTimes(acc,t){if("number"==typeof t)acc.times=parseInt(t,10)||DEFAULT_TIMES;else{if("object"!=typeof t)throw new Error("Unsupported argument type for 'times': "+typeof t);acc.times=parseInt(t.times,10)||DEFAULT_TIMES,acc.interval=parseInt(t.interval,10)||DEFAULT_INTERVAL}}function wrappedTask(wrappedCallback,wrappedResults){function retryAttempt(task,finalAttempt){return function(seriesCallback){task(function(err,result){seriesCallback(!err||finalAttempt,{err:err,result:result})},wrappedResults)}}function retryInterval(interval){return function(seriesCallback){setTimeout(function(){seriesCallback(null)},interval)}}for(;opts.times;){var finalAttempt=!(opts.times-=1);attempts.push(retryAttempt(opts.task,finalAttempt)),!finalAttempt&&opts.interval>0&&attempts.push(retryInterval(opts.interval))}async.series(attempts,function(done,data){data=data[data.length-1],(wrappedCallback||opts.callback)(data.err,data.result)})}var DEFAULT_TIMES=5,DEFAULT_INTERVAL=0,attempts=[],opts={times:DEFAULT_TIMES,interval:DEFAULT_INTERVAL},length=arguments.length;if(1>length||length>3)throw new Error("Invalid arguments - must be either (task), (task, callback), (times, task) or (times, task, callback)");return 2>=length&&"function"==typeof times&&(callback=task,task=times),"function"!=typeof times&&parseTimes(opts,times),opts.callback=callback,opts.task=task,opts.callback?wrappedTask():wrappedTask},async.waterfall=function(tasks,callback){function wrapIterator(iterator){return _restParam(function(err,args){if(err)callback.apply(null,[err].concat(args));else{var next=iterator.next();next?args.push(wrapIterator(next)):args.push(callback),ensureAsync(iterator).apply(null,args)}})}if(callback=_once(callback||noop),!_isArray(tasks)){var err=new Error("First argument to waterfall must be an array of functions");return callback(err)}return tasks.length?void wrapIterator(async.iterator(tasks))():callback()},async.parallel=function(tasks,callback){_parallel(async.eachOf,tasks,callback)},async.parallelLimit=function(tasks,limit,callback){_parallel(_eachOfLimit(limit),tasks,callback)},async.series=function(tasks,callback){_parallel(async.eachOfSeries,tasks,callback)},async.iterator=function(tasks){function makeCallback(index){function fn(){return tasks.length&&tasks[index].apply(null,arguments),fn.next()}return fn.next=function(){return index<tasks.length-1?makeCallback(index+1):null},fn}return makeCallback(0)},async.apply=_restParam(function(fn,args){return _restParam(function(callArgs){return fn.apply(null,args.concat(callArgs))})}),async.concat=doParallel(_concat),async.concatSeries=doSeries(_concat),async.whilst=function(test,iterator,callback){if(callback=callback||noop,test()){var next=_restParam(function(err,args){err?callback(err):test.apply(this,args)?iterator(next):callback(null)});iterator(next)}else callback(null)},async.doWhilst=function(iterator,test,callback){var calls=0;return async.whilst(function(){return++calls<=1||test.apply(this,arguments)},iterator,callback)},async.until=function(test,iterator,callback){return async.whilst(function(){return!test.apply(this,arguments)},iterator,callback)},async.doUntil=function(iterator,test,callback){return async.doWhilst(iterator,function(){return!test.apply(this,arguments)},callback)},async.during=function(test,iterator,callback){callback=callback||noop;var next=_restParam(function(err,args){err?callback(err):(args.push(check),test.apply(this,args))}),check=function(err,truth){err?callback(err):truth?iterator(next):callback(null)};test(check)},async.doDuring=function(iterator,test,callback){var calls=0;async.during(function(next){calls++<1?next(null,!0):test.apply(this,arguments)},iterator,callback)},async.queue=function(worker,concurrency){var q=_queue(function(items,cb){worker(items[0],cb)},concurrency,1);return q},async.priorityQueue=function(worker,concurrency){function _compareTasks(a,b){return a.priority-b.priority}function _binarySearch(sequence,item,compare){for(var beg=-1,end=sequence.length-1;end>beg;){var mid=beg+(end-beg+1>>>1);compare(item,sequence[mid])>=0?beg=mid:end=mid-1}return beg}function _insert(q,data,priority,callback){if(null!=callback&&"function"!=typeof callback)throw new Error("task callback must be a function");return q.started=!0,_isArray(data)||(data=[data]),0===data.length?async.setImmediate(function(){q.drain()}):void _arrayEach(data,function(task){var item={data:task,priority:priority,callback:"function"==typeof callback?callback:noop};q.tasks.splice(_binarySearch(q.tasks,item,_compareTasks)+1,0,item),q.tasks.length===q.concurrency&&q.saturated(),async.setImmediate(q.process)})}var q=async.queue(worker,concurrency);return q.push=function(data,priority,callback){_insert(q,data,priority,callback)},delete q.unshift,q},async.cargo=function(worker,payload){return _queue(worker,1,payload)},async.log=_console_fn("log"),async.dir=_console_fn("dir"),async.memoize=function(fn,hasher){var memo={},queues={};hasher=hasher||identity;var memoized=_restParam(function(args){var callback=args.pop(),key=hasher.apply(null,args);key in memo?async.nextTick(function(){callback.apply(null,memo[key])}):key in queues?queues[key].push(callback):(queues[key]=[callback],fn.apply(null,args.concat([_restParam(function(args){memo[key]=args;var q=queues[key];delete queues[key];for(var i=0,l=q.length;l>i;i++)q[i].apply(null,args)})])))});return memoized.memo=memo,memoized.unmemoized=fn,memoized},async.unmemoize=function(fn){return function(){return(fn.unmemoized||fn).apply(null,arguments)}},async.times=_times(async.map),async.timesSeries=_times(async.mapSeries),async.timesLimit=function(count,limit,iterator,callback){return async.mapLimit(_range(count),limit,iterator,callback)},async.seq=function(){var fns=arguments;return _restParam(function(args){var that=this,callback=args[args.length-1];"function"==typeof callback?args.pop():callback=noop,async.reduce(fns,args,function(newargs,fn,cb){fn.apply(that,newargs.concat([_restParam(function(err,nextargs){cb(err,nextargs)})]))},function(err,results){callback.apply(that,[err].concat(results))})})},async.compose=function(){return async.seq.apply(null,Array.prototype.reverse.call(arguments))},async.applyEach=_applyEach(async.eachOf),async.applyEachSeries=_applyEach(async.eachOfSeries),async.forever=function(fn,callback){function next(err){return err?done(err):void task(next)}var done=only_once(callback||noop),task=ensureAsync(fn);next()},async.ensureAsync=ensureAsync,async.constant=_restParam(function(values){var args=[null].concat(values);return function(callback){return callback.apply(this,args)}}),async.wrapSync=async.asyncify=function(func){return _restParam(function(args){var result,callback=args.pop();try{result=func.apply(this,args)}catch(e){return callback(e)}_isObject(result)&&"function"==typeof result.then?result.then(function(value){callback(null,value)})["catch"](function(err){callback(err.message?err:new Error(err))}):callback(null,result)})},"object"==typeof module&&module.exports?module.exports=async:"function"==typeof define&&define.amd?define([],function(){return async}):root.async=async}()},{}],34:[function(require,module,exports){"use strict";function bodyParser(options){var opts={};if(options)for(var prop in options)"type"!==prop&&(opts[prop]=options[prop]);var _urlencoded=exports.urlencoded(opts),_json=exports.json(opts);return function(req,res,next){_json(req,res,function(err){return err?next(err):void _urlencoded(req,res,next)})}}function createParserGetter(name){return function(){return loadParser(name)}}function loadParser(parserName){var parser=parsers[parserName];if(void 0!==parser)return parser;switch(parserName){case"json":parser=require("./lib/types/json");break;case"raw":parser=require("./lib/types/raw");break;case"text":parser=require("./lib/types/text");break;case"urlencoded":parser=require("./lib/types/urlencoded")}return parsers[parserName]=parser}var deprecate=require("depd")("body-parser"),parsers=Object.create(null);exports=module.exports=deprecate["function"](bodyParser,"bodyParser: use individual json/urlencoded middlewares"),Object.defineProperty(exports,"json",{configurable:!0,enumerable:!0,get:createParserGetter("json")}),Object.defineProperty(exports,"raw",{configurable:!0,enumerable:!0,get:createParserGetter("raw")}),Object.defineProperty(exports,"text",{configurable:!0,enumerable:!0,get:createParserGetter("text")}),Object.defineProperty(exports,"urlencoded",{configurable:!0,enumerable:!0,get:createParserGetter("urlencoded")})},{"./lib/types/json":36,"./lib/types/raw":37,"./lib/types/text":38,"./lib/types/urlencoded":39,depd:45}],35:[function(require,module,exports){"use strict";function read(req,res,next,parse,debug,options){var length,stream,opts=options||{};req._body=!0;var encoding=null!==opts.encoding?opts.encoding||"utf-8":null,verify=opts.verify;try{stream=contentstream(req,debug,opts.inflate),length=stream.length,stream.length=void 0}catch(err){return next(err)}return opts.length=length,opts.encoding=verify?null:encoding,null!==opts.encoding||null===encoding||iconv.encodingExists(encoding)?(debug("read body"),void getBody(stream,opts,function(err,body){if(err)return setErrorStatus(err,400),"encoding.unsupported"===err.type&&(err=createError(415,'unsupported charset "'+encoding.toUpperCase()+'"',{charset:encoding.toLowerCase()})),stream.resume(),void onFinished(req,function(){next(err)});if(verify)try{debug("verify body"),verify(req,res,body,encoding)}catch(err){return setErrorStatus(err,403),void next(err)}var str;try{debug("parse body"),str="string"!=typeof body&&null!==encoding?iconv.decode(body,encoding):body,req.body=parse(str)}catch(err){return err.body=void 0===str?body:str,setErrorStatus(err,400),void next(err)}next()})):next(createError(415,'unsupported charset "'+encoding.toUpperCase()+'"',{charset:encoding.toLowerCase()}))}function contentstream(req,debug,inflate){var stream,encoding=(req.headers["content-encoding"]||"identity").toLowerCase(),length=req.headers["content-length"];if(debug('content-encoding "%s"',encoding),inflate===!1&&"identity"!==encoding)throw createError(415,"content encoding unsupported");switch(encoding){case"deflate":stream=zlib.createInflate(),debug("inflate body"),req.pipe(stream);break;case"gzip":stream=zlib.createGunzip(),debug("gunzip body"),req.pipe(stream);break;case"identity":stream=req,stream.length=length;break;default:throw createError(415,'unsupported content encoding "'+encoding+'"',{encoding:encoding})}return stream}function setErrorStatus(error,status){error.status||error.statusCode||(error.status=status,error.statusCode=status)}var createError=require("http-errors"),getBody=require("raw-body"),iconv=require("iconv-lite"),onFinished=require("on-finished"),zlib=require("zlib");module.exports=read},{"http-errors":50,"iconv-lite":73,"on-finished":75,"raw-body":81,zlib:void 0}],36:[function(require,module,exports){"use strict";function json(options){function parse(body){if(0===body.length)return{};if(strict){var first=firstchar(body);if("{"!==first&&"["!==first)throw debug("strict violation"),new SyntaxError("Unexpected token "+first)}return debug("parse json"),JSON.parse(body,reviver)}var opts=options||{},limit="number"!=typeof opts.limit?bytes.parse(opts.limit||"100kb"):opts.limit,inflate=opts.inflate!==!1,reviver=opts.reviver,strict=opts.strict!==!1,type=opts.type||"application/json",verify=opts.verify||!1;if(verify!==!1&&"function"!=typeof verify)throw new TypeError("option verify must be function");var shouldParse="function"!=typeof type?typeChecker(type):type;return function(req,res,next){if(req._body)return debug("body already parsed"),next();if(req.body=req.body||{},!typeis.hasBody(req))return debug("skip empty body"),next();if(debug("content-type %j",req.headers["content-type"]),!shouldParse(req))return debug("skip parsing"),next();var charset=getCharset(req)||"utf-8";return"utf-"!==charset.substr(0,4)?(debug("invalid charset"),void next(createError(415,'unsupported charset "'+charset.toUpperCase()+'"',{charset:charset}))):void read(req,res,next,parse,debug,{encoding:charset,inflate:inflate,limit:limit,verify:verify})}}function firstchar(str){var match=firstcharRegExp.exec(str);return match?match[1]:""}function getCharset(req){try{return contentType.parse(req).parameters.charset.toLowerCase()}catch(e){return}}function typeChecker(type){return function(req){return Boolean(typeis(req,type))}}var bytes=require("bytes"),contentType=require("content-type"),createError=require("http-errors"),debug=require("debug")("body-parser:json"),read=require("../read"),typeis=require("type-is");module.exports=json;var firstcharRegExp=/^[\x20\x09\x0a\x0d]*(.)/},{"../read":35,bytes:40,"content-type":41,debug:43,"http-errors":50,"type-is":105}],37:[function(require,module,exports){"use strict";function raw(options){function parse(buf){return buf}var opts=options||{},inflate=opts.inflate!==!1,limit="number"!=typeof opts.limit?bytes.parse(opts.limit||"100kb"):opts.limit,type=opts.type||"application/octet-stream",verify=opts.verify||!1;if(verify!==!1&&"function"!=typeof verify)throw new TypeError("option verify must be function");var shouldParse="function"!=typeof type?typeChecker(type):type;return function(req,res,next){return req._body?(debug("body already parsed"),next()):(req.body=req.body||{},typeis.hasBody(req)?(debug("content-type %j",req.headers["content-type"]),shouldParse(req)?void read(req,res,next,parse,debug,{encoding:null,inflate:inflate,limit:limit,verify:verify}):(debug("skip parsing"),next())):(debug("skip empty body"),next()))}}function typeChecker(type){return function(req){return Boolean(typeis(req,type))}}var bytes=require("bytes"),debug=require("debug")("body-parser:raw"),read=require("../read"),typeis=require("type-is");module.exports=raw},{"../read":35,bytes:40,debug:43,"type-is":105}],38:[function(require,module,exports){"use strict";function text(options){function parse(buf){return buf}var opts=options||{},defaultCharset=opts.defaultCharset||"utf-8",inflate=opts.inflate!==!1,limit="number"!=typeof opts.limit?bytes.parse(opts.limit||"100kb"):opts.limit,type=opts.type||"text/plain",verify=opts.verify||!1;if(verify!==!1&&"function"!=typeof verify)throw new TypeError("option verify must be function");var shouldParse="function"!=typeof type?typeChecker(type):type;return function(req,res,next){if(req._body)return debug("body already parsed"),next();if(req.body=req.body||{},!typeis.hasBody(req))return debug("skip empty body"),next();if(debug("content-type %j",req.headers["content-type"]),!shouldParse(req))return debug("skip parsing"),next();var charset=getCharset(req)||defaultCharset;read(req,res,next,parse,debug,{encoding:charset,inflate:inflate,limit:limit,verify:verify})}}function getCharset(req){try{return contentType.parse(req).parameters.charset.toLowerCase()}catch(e){return}}function typeChecker(type){return function(req){return Boolean(typeis(req,type))}}var bytes=require("bytes"),contentType=require("content-type"),debug=require("debug")("body-parser:text"),read=require("../read"),typeis=require("type-is");module.exports=text},{"../read":35,bytes:40,"content-type":41,debug:43,"type-is":105}],39:[function(require,module,exports){"use strict";function urlencoded(options){function parse(body){return body.length?queryparse(body):{}}var opts=options||{};void 0===opts.extended&&deprecate("undefined extended: provide extended option");var extended=opts.extended!==!1,inflate=opts.inflate!==!1,limit="number"!=typeof opts.limit?bytes.parse(opts.limit||"100kb"):opts.limit,type=opts.type||"application/x-www-form-urlencoded",verify=opts.verify||!1;if(verify!==!1&&"function"!=typeof verify)throw new TypeError("option verify must be function");var queryparse=extended?extendedparser(opts):simpleparser(opts),shouldParse="function"!=typeof type?typeChecker(type):type;return function(req,res,next){if(req._body)return debug("body already parsed"),next();if(req.body=req.body||{},!typeis.hasBody(req))return debug("skip empty body"),next();if(debug("content-type %j",req.headers["content-type"]),!shouldParse(req))return debug("skip parsing"),next();var charset=getCharset(req)||"utf-8";return"utf-8"!==charset?(debug("invalid charset"),void next(createError(415,'unsupported charset "'+charset.toUpperCase()+'"',{charset:charset}))):void read(req,res,next,parse,debug,{debug:debug,encoding:charset,inflate:inflate,limit:limit,verify:verify})}}function extendedparser(options){var parameterLimit=void 0!==options.parameterLimit?options.parameterLimit:1e3,parse=parser("qs");if(isNaN(parameterLimit)||1>parameterLimit)throw new TypeError("option parameterLimit must be a positive number");return isFinite(parameterLimit)&&(parameterLimit=0|parameterLimit),function(body){var paramCount=parameterCount(body,parameterLimit);if(void 0===paramCount)throw debug("too many parameters"),createError(413,"too many parameters");var arrayLimit=Math.max(100,paramCount);return debug("parse extended urlencoding"),parse(body,{allowPrototypes:!0,arrayLimit:arrayLimit,depth:1/0,parameterLimit:parameterLimit})}}function getCharset(req){try{return contentType.parse(req).parameters.charset.toLowerCase()}catch(e){return}}function parameterCount(body,limit){for(var count=0,index=0;-1!==(index=body.indexOf("&",index));)if(count++,index++,count===limit)return;return count}function parser(name){var mod=parsers[name];if(void 0!==mod)return mod.parse;switch(name){case"qs":mod=require("qs");break;case"querystring":mod=require("querystring")}return parsers[name]=mod,mod.parse}function simpleparser(options){var parameterLimit=void 0!==options.parameterLimit?options.parameterLimit:1e3,parse=parser("querystring");if(isNaN(parameterLimit)||1>parameterLimit)throw new TypeError("option parameterLimit must be a positive number");return isFinite(parameterLimit)&&(parameterLimit=0|parameterLimit),function(body){var paramCount=parameterCount(body,parameterLimit);if(void 0===paramCount)throw debug("too many parameters"),createError(413,"too many parameters");return debug("parse urlencoding"),parse(body,void 0,void 0,{maxKeys:parameterLimit})}}function typeChecker(type){return function(req){return Boolean(typeis(req,type))}}var bytes=require("bytes"),contentType=require("content-type"),createError=require("http-errors"),debug=require("debug")("body-parser:urlencoded"),deprecate=require("depd")("body-parser"),read=require("../read"),typeis=require("type-is");
module.exports=urlencoded;var parsers=Object.create(null)},{"../read":35,bytes:40,"content-type":41,debug:43,depd:45,"http-errors":50,qs:77,querystring:void 0,"type-is":105}],40:[function(require,module,exports){"use strict";function bytes(value,options){return"string"==typeof value?parse(value):"number"==typeof value?format(value,options):null}function format(val,options){if("number"!=typeof val)return null;var mag=Math.abs(val),thousandsSeparator=options&&options.thousandsSeparator||"",unit="B",value=val;return mag>=map.tb?(value=Math.round(value/map.tb*100)/100,unit="TB"):mag>=map.gb?(value=Math.round(value/map.gb*100)/100,unit="GB"):mag>=map.mb?(value=Math.round(value/map.mb*100)/100,unit="MB"):mag>=map.kb&&(value=Math.round(value/map.kb*100)/100,unit="kB"),thousandsSeparator&&(value=value.toString().replace(/\B(?=(\d{3})+(?!\d))/g,thousandsSeparator)),value+unit}function parse(val){if("number"==typeof val&&!isNaN(val))return val;if("string"!=typeof val)return null;var floatValue,results=val.match(/^((-|\+)?(\d+(?:\.\d+)?)) *(kb|mb|gb|tb)$/i),unit="b";return results?(floatValue=parseFloat(results[1]),unit=results[4].toLowerCase()):(floatValue=parseInt(val),unit="b"),map[unit]*floatValue}module.exports=bytes,module.exports.format=format,module.exports.parse=parse;var map={b:1,kb:1024,mb:1<<20,gb:1<<30,tb:1024*(1<<30)}},{}],41:[function(require,module,exports){function format(obj){if(!obj||"object"!=typeof obj)throw new TypeError("argument obj is required");var parameters=obj.parameters,type=obj.type;if(!type||!typeRegExp.test(type))throw new TypeError("invalid type");var string=type;if(parameters&&"object"==typeof parameters)for(var param,params=Object.keys(parameters).sort(),i=0;i<params.length;i++){if(param=params[i],!tokenRegExp.test(param))throw new TypeError("invalid parameter name");string+="; "+param+"="+qstring(parameters[param])}return string}function parse(string){if(!string)throw new TypeError("argument string is required");if("object"==typeof string&&(string=getcontenttype(string),"string"!=typeof string))throw new TypeError("content-type header is missing from object");if("string"!=typeof string)throw new TypeError("argument string is required to be a string");var index=string.indexOf(";"),type=-1!==index?string.substr(0,index).trim():string.trim();if(!typeRegExp.test(type))throw new TypeError("invalid media type");var key,match,value,obj=new ContentType(type.toLowerCase());for(paramRegExp.lastIndex=index;match=paramRegExp.exec(string);){if(match.index!==index)throw new TypeError("invalid parameter format");index+=match[0].length,key=match[1].toLowerCase(),value=match[2],'"'===value[0]&&(value=value.substr(1,value.length-2).replace(qescRegExp,"$1")),obj.parameters[key]=value}if(-1!==index&&index!==string.length)throw new TypeError("invalid parameter format");return obj}function getcontenttype(obj){return"function"==typeof obj.getHeader?obj.getHeader("content-type"):"object"==typeof obj.headers?obj.headers&&obj.headers["content-type"]:void 0}function qstring(val){var str=String(val);if(tokenRegExp.test(str))return str;if(str.length>0&&!textRegExp.test(str))throw new TypeError("invalid parameter value");return'"'+str.replace(quoteRegExp,"\\$1")+'"'}function ContentType(type){this.parameters=Object.create(null),this.type=type}var paramRegExp=/; *([!#$%&'\*\+\-\.\^_`\|~0-9A-Za-z]+) *= *("(?:[\u000b\u0020\u0021\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\u000b\u0020-\u00ff])*"|[!#$%&'\*\+\-\.\^_`\|~0-9A-Za-z]+) */g,textRegExp=/^[\u000b\u0020-\u007e\u0080-\u00ff]+$/,tokenRegExp=/^[!#$%&'\*\+\-\.\^_`\|~0-9A-Za-z]+$/,qescRegExp=/\\([\u000b\u0020-\u00ff])/g,quoteRegExp=/([\\"])/g,typeRegExp=/^[!#$%&'\*\+\-\.\^_`\|~0-9A-Za-z]+\/[!#$%&'\*\+\-\.\^_`\|~0-9A-Za-z]+$/;exports.format=format,exports.parse=parse},{}],42:[function(require,module,exports){function selectColor(){return exports.colors[prevColor++%exports.colors.length]}function debug(namespace){function disabled(){}function enabled(){var self=enabled,curr=+new Date,ms=curr-(prevTime||curr);self.diff=ms,self.prev=prevTime,self.curr=curr,prevTime=curr,null==self.useColors&&(self.useColors=exports.useColors()),null==self.color&&self.useColors&&(self.color=selectColor());var args=Array.prototype.slice.call(arguments);args[0]=exports.coerce(args[0]),"string"!=typeof args[0]&&(args=["%o"].concat(args));var index=0;args[0]=args[0].replace(/%([a-z%])/g,function(match,format){if("%%"===match)return match;index++;var formatter=exports.formatters[format];if("function"==typeof formatter){var val=args[index];match=formatter.call(self,val),args.splice(index,1),index--}return match}),"function"==typeof exports.formatArgs&&(args=exports.formatArgs.apply(self,args));var logFn=enabled.log||exports.log||console.log.bind(console);logFn.apply(self,args)}disabled.enabled=!1,enabled.enabled=!0;var fn=exports.enabled(namespace)?enabled:disabled;return fn.namespace=namespace,fn}function enable(namespaces){exports.save(namespaces);for(var split=(namespaces||"").split(/[\s,]+/),len=split.length,i=0;len>i;i++)split[i]&&(namespaces=split[i].replace(/\*/g,".*?"),"-"===namespaces[0]?exports.skips.push(new RegExp("^"+namespaces.substr(1)+"$")):exports.names.push(new RegExp("^"+namespaces+"$")))}function disable(){exports.enable("")}function enabled(name){var i,len;for(i=0,len=exports.skips.length;len>i;i++)if(exports.skips[i].test(name))return!1;for(i=0,len=exports.names.length;len>i;i++)if(exports.names[i].test(name))return!0;return!1}function coerce(val){return val instanceof Error?val.stack||val.message:val}exports=module.exports=debug,exports.coerce=coerce,exports.disable=disable,exports.enable=enable,exports.enabled=enabled,exports.humanize=require("ms"),exports.names=[],exports.skips=[],exports.formatters={};var prevTime,prevColor=0},{ms:44}],43:[function(require,module,exports){function useColors(){var debugColors=(process.env.DEBUG_COLORS||"").trim().toLowerCase();return 0===debugColors.length?tty.isatty(fd):"0"!==debugColors&&"no"!==debugColors&&"false"!==debugColors&&"disabled"!==debugColors}function formatArgs(){var args=arguments,useColors=this.useColors,name=this.namespace;if(useColors){var c=this.color;args[0]="  [3"+c+";1m"+name+" [0m"+args[0]+"[3"+c+"m +"+exports.humanize(this.diff)+"[0m"}else args[0]=(new Date).toUTCString()+" "+name+" "+args[0];return args}function log(){return stream.write(util.format.apply(this,arguments)+"\n")}function save(namespaces){null==namespaces?delete process.env.DEBUG:process.env.DEBUG=namespaces}function load(){return process.env.DEBUG}function createWritableStdioStream(fd){var stream,tty_wrap=process.binding("tty_wrap");switch(tty_wrap.guessHandleType(fd)){case"TTY":stream=new tty.WriteStream(fd),stream._type="tty",stream._handle&&stream._handle.unref&&stream._handle.unref();break;case"FILE":var fs=require("fs");stream=new fs.SyncWriteStream(fd,{autoClose:!1}),stream._type="fs";break;case"PIPE":case"TCP":var net=require("net");stream=new net.Socket({fd:fd,readable:!1,writable:!0}),stream.readable=!1,stream.read=null,stream._type="pipe",stream._handle&&stream._handle.unref&&stream._handle.unref();break;default:throw new Error("Implement me. Unknown stream file type!")}return stream.fd=fd,stream._isStdio=!0,stream}var tty=require("tty"),util=require("util");exports=module.exports=require("./debug"),exports.log=log,exports.formatArgs=formatArgs,exports.save=save,exports.load=load,exports.useColors=useColors,exports.colors=[6,2,3,4,5,1];var fd=parseInt(process.env.DEBUG_FD,10)||2,stream=1===fd?process.stdout:2===fd?process.stderr:createWritableStdioStream(fd),inspect=4===util.inspect.length?function(v,colors){return util.inspect(v,void 0,void 0,colors)}:function(v,colors){return util.inspect(v,{colors:colors})};exports.formatters.o=function(v){return inspect(v,this.useColors).replace(/\s*\n\s*/g," ")},exports.enable(load())},{"./debug":42,fs:void 0,net:void 0,tty:void 0,util:void 0}],44:[function(require,module,exports){function parse(str){if(str=""+str,!(str.length>1e4)){var match=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(str);if(match){var n=parseFloat(match[1]),type=(match[2]||"ms").toLowerCase();switch(type){case"years":case"year":case"yrs":case"yr":case"y":return n*y;case"days":case"day":case"d":return n*d;case"hours":case"hour":case"hrs":case"hr":case"h":return n*h;case"minutes":case"minute":case"mins":case"min":case"m":return n*m;case"seconds":case"second":case"secs":case"sec":case"s":return n*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n}}}}function short(ms){return ms>=d?Math.round(ms/d)+"d":ms>=h?Math.round(ms/h)+"h":ms>=m?Math.round(ms/m)+"m":ms>=s?Math.round(ms/s)+"s":ms+"ms"}function long(ms){return plural(ms,d,"day")||plural(ms,h,"hour")||plural(ms,m,"minute")||plural(ms,s,"second")||ms+" ms"}function plural(ms,n,name){return n>ms?void 0:1.5*n>ms?Math.floor(ms/n)+" "+name:Math.ceil(ms/n)+" "+name+"s"}var s=1e3,m=60*s,h=60*m,d=24*h,y=365.25*d;module.exports=function(val,options){return options=options||{},"string"==typeof val?parse(val):options["long"]?long(val):short(val)}},{}],45:[function(require,module,exports){function containsNamespace(str,namespace){var val=str.split(/[ ,]+/);namespace=String(namespace).toLowerCase();for(var i=0;i<val.length;i++)if((str=val[i])&&("*"===str||str.toLowerCase()===namespace))return!0;return!1}function convertDataDescriptorToAccessor(obj,prop,message){var descriptor=Object.getOwnPropertyDescriptor(obj,prop),value=descriptor.value;return descriptor.get=function(){return value},descriptor.writable&&(descriptor.set=function(val){return value=val}),delete descriptor.value,delete descriptor.writable,Object.defineProperty(obj,prop,descriptor),descriptor}function createArgumentsString(arity){for(var str="",i=0;arity>i;i++)str+=", arg"+i;return str.substr(2)}function createStackString(stack){var str=this.name+": "+this.namespace;this.message&&(str+=" deprecated "+this.message);for(var i=0;i<stack.length;i++)str+="\n    at "+callSiteToString(stack[i]);return str}function depd(namespace){function deprecate(message){log.call(deprecate,message)}if(!namespace)throw new TypeError("argument namespace is required");var stack=getStack(),site=callSiteLocation(stack[1]),file=site[0];return deprecate._file=file,deprecate._ignored=isignored(namespace),deprecate._namespace=namespace,deprecate._traced=istraced(namespace),deprecate._warned=Object.create(null),deprecate["function"]=wrapfunction,deprecate.property=wrapproperty,deprecate}function isignored(namespace){if(process.noDeprecation)return!0;var str=process.env.NO_DEPRECATION||"";return containsNamespace(str,namespace)}function istraced(namespace){if(process.traceDeprecation)return!0;var str=process.env.TRACE_DEPRECATION||"";return containsNamespace(str,namespace)}function log(message,site){var haslisteners=0!==eventListenerCount(process,"deprecation");if(haslisteners||!this._ignored){var caller,callFile,callSite,i=0,seen=!1,stack=getStack(),file=this._file;for(site?(callSite=callSiteLocation(stack[1]),callSite.name=site.name,file=callSite[0]):(i=2,site=callSiteLocation(stack[i]),callSite=site);i<stack.length;i++)if(caller=callSiteLocation(stack[i]),callFile=caller[0],callFile===file)seen=!0;else if(callFile===this._file)file=this._file;else if(seen)break;var key=caller?site.join(":")+"__"+caller.join(":"):void 0;if(!(void 0!==key&&key in this._warned)){if(this._warned[key]=!0,message||(message=defaultMessage(callSite!==site&&callSite.name?callSite:site)),haslisteners){var err=DeprecationError(this._namespace,message,stack.slice(i));return void process.emit("deprecation",err)}var format=process.stderr.isTTY?formatColor:formatPlain,msg=format.call(this,message,caller,stack.slice(i));process.stderr.write(msg+"\n","utf8")}}}function callSiteLocation(callSite){var file=callSite.getFileName()||"<anonymous>",line=callSite.getLineNumber(),colm=callSite.getColumnNumber();callSite.isEval()&&(file=callSite.getEvalOrigin()+", "+file);var site=[file,line,colm];return site.callSite=callSite,site.name=callSite.getFunctionName(),site}function defaultMessage(site){var callSite=site.callSite,funcName=site.name;funcName||(funcName="<anonymous@"+formatLocation(site)+">");var context=callSite.getThis(),typeName=context&&callSite.getTypeName();return"Object"===typeName&&(typeName=void 0),"Function"===typeName&&(typeName=context.name||typeName),typeName&&callSite.getMethodName()?typeName+"."+funcName:funcName}function formatPlain(msg,caller,stack){var timestamp=(new Date).toUTCString(),formatted=timestamp+" "+this._namespace+" deprecated "+msg;if(this._traced){for(var i=0;i<stack.length;i++)formatted+="\n    at "+callSiteToString(stack[i]);return formatted}return caller&&(formatted+=" at "+formatLocation(caller)),formatted}function formatColor(msg,caller,stack){var formatted="[36;1m"+this._namespace+"[22;39m [33;1mdeprecated[22;39m [0m"+msg+"[39m";if(this._traced){for(var i=0;i<stack.length;i++)formatted+="\n    [36mat "+callSiteToString(stack[i])+"[39m";return formatted}return caller&&(formatted+=" [36m"+formatLocation(caller)+"[39m"),formatted}function formatLocation(callSite){return relative(basePath,callSite[0])+":"+callSite[1]+":"+callSite[2]}function getStack(){var limit=Error.stackTraceLimit,obj={},prep=Error.prepareStackTrace;Error.prepareStackTrace=prepareObjectStackTrace,Error.stackTraceLimit=Math.max(10,limit),Error.captureStackTrace(obj);var stack=obj.stack.slice(1);return Error.prepareStackTrace=prep,Error.stackTraceLimit=limit,stack}function prepareObjectStackTrace(obj,stack){return stack}function wrapfunction(fn,message){if("function"!=typeof fn)throw new TypeError("argument fn must be a function");var args=createArgumentsString(fn.length),deprecate=this,stack=getStack(),site=callSiteLocation(stack[1]);site.name=fn.name;var deprecatedfn=eval("(function ("+args+') {\n"use strict"\nlog.call(deprecate, message, site)\nreturn fn.apply(this, arguments)\n})');return deprecatedfn}function wrapproperty(obj,prop,message){if(!obj||"object"!=typeof obj&&"function"!=typeof obj)throw new TypeError("argument obj must be object");var descriptor=Object.getOwnPropertyDescriptor(obj,prop);if(!descriptor)throw new TypeError("must call property on owner object");if(!descriptor.configurable)throw new TypeError("property must be configurable");var deprecate=this,stack=getStack(),site=callSiteLocation(stack[1]);site.name=prop,"value"in descriptor&&(descriptor=convertDataDescriptorToAccessor(obj,prop,message));var get=descriptor.get,set=descriptor.set;"function"==typeof get&&(descriptor.get=function(){return log.call(deprecate,message,site),get.apply(this,arguments)}),"function"==typeof set&&(descriptor.set=function(){return log.call(deprecate,message,site),set.apply(this,arguments)}),Object.defineProperty(obj,prop,descriptor)}function DeprecationError(namespace,message,stack){var stackString,error=new Error;return Object.defineProperty(error,"constructor",{value:DeprecationError}),Object.defineProperty(error,"message",{configurable:!0,enumerable:!1,value:message,writable:!0}),Object.defineProperty(error,"name",{enumerable:!1,configurable:!0,value:"DeprecationError",writable:!0}),Object.defineProperty(error,"namespace",{configurable:!0,enumerable:!1,value:namespace,writable:!0}),Object.defineProperty(error,"stack",{configurable:!0,enumerable:!1,get:function(){return void 0!==stackString?stackString:stackString=createStackString.call(this,stack)},set:function(val){stackString=val}}),error}var callSiteToString=require("./lib/compat").callSiteToString,eventListenerCount=require("./lib/compat").eventListenerCount,relative=require("path").relative;module.exports=depd;var basePath=process.cwd()},{"./lib/compat":49,path:void 0}],46:[function(require,module,exports){"use strict";function bufferConcat(bufs){for(var length=0,i=0,len=bufs.length;len>i;i++)length+=bufs[i].length;for(var buf=new Buffer(length),pos=0,i=0,len=bufs.length;len>i;i++)bufs[i].copy(buf,pos),pos+=bufs[i].length;return buf}module.exports=bufferConcat},{}],47:[function(require,module,exports){"use strict";function callSiteFileLocation(callSite){var fileName,fileLocation="";if(callSite.isNative()?fileLocation="native":callSite.isEval()?(fileName=callSite.getScriptNameOrSourceURL(),fileName||(fileLocation=callSite.getEvalOrigin())):fileName=callSite.getFileName(),fileName){fileLocation+=fileName;var lineNumber=callSite.getLineNumber();if(null!=lineNumber){fileLocation+=":"+lineNumber;var columnNumber=callSite.getColumnNumber();columnNumber&&(fileLocation+=":"+columnNumber)}}return fileLocation||"unknown source"}function callSiteToString(callSite){var addSuffix=!0,fileLocation=callSiteFileLocation(callSite),functionName=callSite.getFunctionName(),isConstructor=callSite.isConstructor(),isMethodCall=!(callSite.isToplevel()||isConstructor),line="";if(isMethodCall){var methodName=callSite.getMethodName(),typeName=getConstructorName(callSite);functionName?(typeName&&0!==functionName.indexOf(typeName)&&(line+=typeName+"."),line+=functionName,methodName&&functionName.lastIndexOf("."+methodName)!==functionName.length-methodName.length-1&&(line+=" [as "+methodName+"]")):line+=typeName+"."+(methodName||"<anonymous>")}else isConstructor?line+="new "+(functionName||"<anonymous>"):functionName?line+=functionName:(addSuffix=!1,line+=fileLocation);return addSuffix&&(line+=" ("+fileLocation+")"),line}function getConstructorName(obj){var receiver=obj.receiver;return receiver.constructor&&receiver.constructor.name||null}module.exports=callSiteToString},{}],48:[function(require,module,exports){"use strict";function eventListenerCount(emitter,type){return emitter.listeners(type).length}module.exports=eventListenerCount},{}],49:[function(require,module,exports){"use strict";function lazyProperty(obj,prop,getter){function get(){var val=getter();return Object.defineProperty(obj,prop,{configurable:!0,enumerable:!0,value:val}),val}Object.defineProperty(obj,prop,{configurable:!0,enumerable:!0,get:get})}function toString(obj){return obj.toString()}var Buffer=require("buffer"),EventEmitter=require("events").EventEmitter;lazyProperty(module.exports,"bufferConcat",function(){return Buffer.concat||require("./buffer-concat")}),lazyProperty(module.exports,"callSiteToString",function(){function prepareObjectStackTrace(obj,stack){return stack}var limit=Error.stackTraceLimit,obj={},prep=Error.prepareStackTrace;Error.prepareStackTrace=prepareObjectStackTrace,Error.stackTraceLimit=2,Error.captureStackTrace(obj);var stack=obj.stack.slice();return Error.prepareStackTrace=prep,Error.stackTraceLimit=limit,stack[0].toString?toString:require("./callsite-tostring")}),lazyProperty(module.exports,"eventListenerCount",function(){return EventEmitter.listenerCount||require("./event-listener-count")})},{"./buffer-concat":46,"./callsite-tostring":47,"./event-listener-count":48,buffer:void 0,events:void 0}],50:[function(require,module,exports){function toIdentifier(str){return str.split(" ").map(function(token){return token.slice(0,1).toUpperCase()+token.slice(1)}).join("").replace(/[^ _0-9a-z]/gi,"")}var statuses=require("statuses"),inherits=require("inherits");exports=module.exports=function httpError(){for(var err,msg,status=500,props={},i=0;i<arguments.length;i++){var arg=arguments[i];if(arg instanceof Error)err=arg,status=err.status||err.statusCode||status;else switch(typeof arg){case"string":msg=arg;break;case"number":status=arg;break;case"object":props=arg}}"number"==typeof status&&statuses[status]||(status=500);var HttpError=exports[status];err||(err=HttpError?new HttpError(msg):new Error(msg||statuses[status]),Error.captureStackTrace(err,httpError)),HttpError&&err instanceof HttpError||(err.expose=500>status,err.status=err.statusCode=status);for(var key in props)"status"!==key&&"statusCode"!==key&&(err[key]=props[key]);return err};var codes=statuses.codes.filter(function(num){return num>=400});codes.forEach(function(code){var name=toIdentifier(statuses[code]),className=name.match(/Error$/)?name:name+"Error";if(code>=500){var ServerError=function ServerError(msg){var self=new Error(null!=msg?msg:statuses[code]);return Error.captureStackTrace(self,ServerError),self.__proto__=ServerError.prototype,Object.defineProperty(self,"name",{enumerable:!1,configurable:!0,value:className,writable:!0}),self};return inherits(ServerError,Error),ServerError.prototype.status=ServerError.prototype.statusCode=code,ServerError.prototype.expose=!1,void(exports[code]=exports[name]=ServerError)}var ClientError=function ClientError(msg){var self=new Error(null!=msg?msg:statuses[code]);return Error.captureStackTrace(self,ClientError),self.__proto__=ClientError.prototype,Object.defineProperty(self,"name",{enumerable:!1,configurable:!0,value:className,writable:!0}),self};inherits(ClientError,Error),ClientError.prototype.status=ClientError.prototype.statusCode=code,ClientError.prototype.expose=!0,exports[code]=exports[name]=ClientError}),exports["I'mateapot"]=exports.ImATeapot},{inherits:51,statuses:53}],51:[function(require,module,exports){module.exports=require("util").inherits},{util:void 0}],52:[function(require,module,exports){module.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",306:"(Unused)",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},{}],53:[function(require,module,exports){function status(code){if("number"==typeof code){if(!status[code])throw new Error("invalid status code: "+code);return code}if("string"!=typeof code)throw new TypeError("code must be a number or string");var n=parseInt(code,10);if(!isNaN(n)){if(!status[n])throw new Error("invalid status code: "+n);return n}if(n=status[code.toLowerCase()],!n)throw new Error('invalid status message: "'+code+'"');return n}var codes=require("./codes.json");module.exports=status,status.codes=Object.keys(codes).map(function(code){code=~~code;var msg=codes[code];return status[code]=msg,status[msg]=status[msg.toLowerCase()]=code,code}),status.redirect={300:!0,301:!0,302:!0,303:!0,305:!0,307:!0,308:!0},status.empty={204:!0,205:!0,304:!0},status.retry={502:!0,503:!0,504:!0}},{"./codes.json":52}],54:[function(require,module,exports){"use strict";function DBCSCodec(codecOptions,iconv){if(this.encodingName=codecOptions.encodingName,!codecOptions)throw new Error("DBCS codec is called without the data.");if(!codecOptions.table)throw new Error("Encoding '"+this.encodingName+"' has no data.");var mappingTable=codecOptions.table();this.decodeTables=[],this.decodeTables[0]=UNASSIGNED_NODE.slice(0),this.decodeTableSeq=[];for(var i=0;i<mappingTable.length;i++)this._addDecodeChunk(mappingTable[i]);this.defaultCharUnicode=iconv.defaultCharUnicode,this.encodeTable=[],this.encodeTableSeq=[];var skipEncodeChars={};if(codecOptions.encodeSkipVals)for(var i=0;i<codecOptions.encodeSkipVals.length;i++){var val=codecOptions.encodeSkipVals[i];if("number"==typeof val)skipEncodeChars[val]=!0;else for(var j=val.from;j<=val.to;j++)skipEncodeChars[j]=!0}if(this._fillEncodeTable(0,0,skipEncodeChars),codecOptions.encodeAdd)for(var uChar in codecOptions.encodeAdd)Object.prototype.hasOwnProperty.call(codecOptions.encodeAdd,uChar)&&this._setEncodeChar(uChar.charCodeAt(0),codecOptions.encodeAdd[uChar]);if(this.defCharSB=this.encodeTable[0][iconv.defaultCharSingleByte.charCodeAt(0)],this.defCharSB===UNASSIGNED&&(this.defCharSB=this.encodeTable[0]["?"]),this.defCharSB===UNASSIGNED&&(this.defCharSB="?".charCodeAt(0)),"function"==typeof codecOptions.gb18030){this.gb18030=codecOptions.gb18030();for(var thirdByteNodeIdx=this.decodeTables.length,thirdByteNode=this.decodeTables[thirdByteNodeIdx]=UNASSIGNED_NODE.slice(0),fourthByteNodeIdx=this.decodeTables.length,fourthByteNode=this.decodeTables[fourthByteNodeIdx]=UNASSIGNED_NODE.slice(0),i=129;254>=i;i++)for(var secondByteNodeIdx=NODE_START-this.decodeTables[0][i],secondByteNode=this.decodeTables[secondByteNodeIdx],j=48;57>=j;j++)secondByteNode[j]=NODE_START-thirdByteNodeIdx;for(var i=129;254>=i;i++)thirdByteNode[i]=NODE_START-fourthByteNodeIdx;for(var i=48;57>=i;i++)fourthByteNode[i]=GB18030_CODE}}function DBCSEncoder(options,codec){this.leadSurrogate=-1,this.seqObj=void 0,this.encodeTable=codec.encodeTable,this.encodeTableSeq=codec.encodeTableSeq,this.defaultCharSingleByte=codec.defCharSB,this.gb18030=codec.gb18030}function DBCSDecoder(options,codec){this.nodeIdx=0,this.prevBuf=new Buffer(0),this.decodeTables=codec.decodeTables,this.decodeTableSeq=codec.decodeTableSeq,this.defaultCharUnicode=codec.defaultCharUnicode,this.gb18030=codec.gb18030}function findIdx(table,val){if(table[0]>val)return-1;for(var l=0,r=table.length;r-1>l;){var mid=l+Math.floor((r-l+1)/2);table[mid]<=val?l=mid:r=mid}return l}exports._dbcs=DBCSCodec;for(var UNASSIGNED=-1,GB18030_CODE=-2,SEQ_START=-10,NODE_START=-1e3,UNASSIGNED_NODE=new Array(256),DEF_CHAR=-1,i=0;256>i;i++)UNASSIGNED_NODE[i]=UNASSIGNED;DBCSCodec.prototype.encoder=DBCSEncoder,DBCSCodec.prototype.decoder=DBCSDecoder,DBCSCodec.prototype._getDecodeTrieNode=function(addr){for(var bytes=[];addr>0;addr>>=8)bytes.push(255&addr);0==bytes.length&&bytes.push(0);for(var node=this.decodeTables[0],i=bytes.length-1;i>0;i--){var val=node[bytes[i]];if(val==UNASSIGNED)node[bytes[i]]=NODE_START-this.decodeTables.length,this.decodeTables.push(node=UNASSIGNED_NODE.slice(0));else{if(!(NODE_START>=val))throw new Error("Overwrite byte in "+this.encodingName+", addr: "+addr.toString(16));node=this.decodeTables[NODE_START-val]}}return node},DBCSCodec.prototype._addDecodeChunk=function(chunk){var curAddr=parseInt(chunk[0],16),writeTable=this._getDecodeTrieNode(curAddr);curAddr=255&curAddr;for(var k=1;k<chunk.length;k++){var part=chunk[k];if("string"==typeof part)for(var l=0;l<part.length;){var code=part.charCodeAt(l++);if(code>=55296&&56320>code){var codeTrail=part.charCodeAt(l++);if(!(codeTrail>=56320&&57344>codeTrail))throw new Error("Incorrect surrogate pair in "+this.encodingName+" at chunk "+chunk[0]);writeTable[curAddr++]=65536+1024*(code-55296)+(codeTrail-56320)}else if(code>4080&&4095>=code){for(var len=4095-code+2,seq=[],m=0;len>m;m++)seq.push(part.charCodeAt(l++));writeTable[curAddr++]=SEQ_START-this.decodeTableSeq.length,this.decodeTableSeq.push(seq)}else writeTable[curAddr++]=code}else{if("number"!=typeof part)throw new Error("Incorrect type '"+typeof part+"' given in "+this.encodingName+" at chunk "+chunk[0]);for(var charCode=writeTable[curAddr-1]+1,l=0;part>l;l++)writeTable[curAddr++]=charCode++}}if(curAddr>255)throw new Error("Incorrect chunk in "+this.encodingName+" at addr "+chunk[0]+": too long"+curAddr)},DBCSCodec.prototype._getEncodeBucket=function(uCode){var high=uCode>>8;return void 0===this.encodeTable[high]&&(this.encodeTable[high]=UNASSIGNED_NODE.slice(0)),this.encodeTable[high]},DBCSCodec.prototype._setEncodeChar=function(uCode,dbcsCode){var bucket=this._getEncodeBucket(uCode),low=255&uCode;bucket[low]<=SEQ_START?this.encodeTableSeq[SEQ_START-bucket[low]][DEF_CHAR]=dbcsCode:bucket[low]==UNASSIGNED&&(bucket[low]=dbcsCode)},DBCSCodec.prototype._setEncodeSequence=function(seq,dbcsCode){var node,uCode=seq[0],bucket=this._getEncodeBucket(uCode),low=255&uCode;bucket[low]<=SEQ_START?node=this.encodeTableSeq[SEQ_START-bucket[low]]:(node={},bucket[low]!==UNASSIGNED&&(node[DEF_CHAR]=bucket[low]),bucket[low]=SEQ_START-this.encodeTableSeq.length,this.encodeTableSeq.push(node));for(var j=1;j<seq.length-1;j++){var oldVal=node[uCode];"object"==typeof oldVal?node=oldVal:(node=node[uCode]={},void 0!==oldVal&&(node[DEF_CHAR]=oldVal))}uCode=seq[seq.length-1],node[uCode]=dbcsCode},DBCSCodec.prototype._fillEncodeTable=function(nodeIdx,prefix,skipEncodeChars){for(var node=this.decodeTables[nodeIdx],i=0;256>i;i++){var uCode=node[i],mbCode=prefix+i;skipEncodeChars[mbCode]||(uCode>=0?this._setEncodeChar(uCode,mbCode):NODE_START>=uCode?this._fillEncodeTable(NODE_START-uCode,mbCode<<8,skipEncodeChars):SEQ_START>=uCode&&this._setEncodeSequence(this.decodeTableSeq[SEQ_START-uCode],mbCode))}},DBCSEncoder.prototype.write=function(str){for(var newBuf=new Buffer(str.length*(this.gb18030?4:3)),leadSurrogate=this.leadSurrogate,seqObj=this.seqObj,nextChar=-1,i=0,j=0;;){if(-1===nextChar){if(i==str.length)break;var uCode=str.charCodeAt(i++)}else{var uCode=nextChar;nextChar=-1}if(uCode>=55296&&57344>uCode)if(56320>uCode){if(-1===leadSurrogate){leadSurrogate=uCode;continue}leadSurrogate=uCode,uCode=UNASSIGNED}else-1!==leadSurrogate?(uCode=65536+1024*(leadSurrogate-55296)+(uCode-56320),leadSurrogate=-1):uCode=UNASSIGNED;else-1!==leadSurrogate&&(nextChar=uCode,uCode=UNASSIGNED,leadSurrogate=-1);var dbcsCode=UNASSIGNED;if(void 0!==seqObj&&uCode!=UNASSIGNED){var resCode=seqObj[uCode];if("object"==typeof resCode){seqObj=resCode;continue}"number"==typeof resCode?dbcsCode=resCode:void 0==resCode&&(resCode=seqObj[DEF_CHAR],void 0!==resCode&&(dbcsCode=resCode,nextChar=uCode)),seqObj=void 0}else if(uCode>=0){var subtable=this.encodeTable[uCode>>8];if(void 0!==subtable&&(dbcsCode=subtable[255&uCode]),SEQ_START>=dbcsCode){seqObj=this.encodeTableSeq[SEQ_START-dbcsCode];continue}if(dbcsCode==UNASSIGNED&&this.gb18030){var idx=findIdx(this.gb18030.uChars,uCode);if(-1!=idx){var dbcsCode=this.gb18030.gbChars[idx]+(uCode-this.gb18030.uChars[idx]);newBuf[j++]=129+Math.floor(dbcsCode/12600),dbcsCode%=12600,newBuf[j++]=48+Math.floor(dbcsCode/1260),dbcsCode%=1260,newBuf[j++]=129+Math.floor(dbcsCode/10),dbcsCode%=10,newBuf[j++]=48+dbcsCode;continue}}}dbcsCode===UNASSIGNED&&(dbcsCode=this.defaultCharSingleByte),256>dbcsCode?newBuf[j++]=dbcsCode:65536>dbcsCode?(newBuf[j++]=dbcsCode>>8,newBuf[j++]=255&dbcsCode):(newBuf[j++]=dbcsCode>>16,newBuf[j++]=dbcsCode>>8&255,newBuf[j++]=255&dbcsCode)}return this.seqObj=seqObj,this.leadSurrogate=leadSurrogate,newBuf.slice(0,j)},DBCSEncoder.prototype.end=function(){if(-1!==this.leadSurrogate||void 0!==this.seqObj){var newBuf=new Buffer(10),j=0;if(this.seqObj){var dbcsCode=this.seqObj[DEF_CHAR];void 0!==dbcsCode&&(256>dbcsCode?newBuf[j++]=dbcsCode:(newBuf[j++]=dbcsCode>>8,newBuf[j++]=255&dbcsCode)),this.seqObj=void 0}return-1!==this.leadSurrogate&&(newBuf[j++]=this.defaultCharSingleByte,this.leadSurrogate=-1),newBuf.slice(0,j)}},DBCSEncoder.prototype.findIdx=findIdx,DBCSDecoder.prototype.write=function(buf){var uCode,newBuf=new Buffer(2*buf.length),nodeIdx=this.nodeIdx,prevBuf=this.prevBuf,prevBufOffset=this.prevBuf.length,seqStart=-this.prevBuf.length;prevBufOffset>0&&(prevBuf=Buffer.concat([prevBuf,buf.slice(0,10)]));for(var i=0,j=0;i<buf.length;i++){var curByte=i>=0?buf[i]:prevBuf[i+prevBufOffset],uCode=this.decodeTables[nodeIdx][curByte];if(uCode>=0);else if(uCode===UNASSIGNED)i=seqStart,uCode=this.defaultCharUnicode.charCodeAt(0);else if(uCode===GB18030_CODE){var curSeq=seqStart>=0?buf.slice(seqStart,i+1):prevBuf.slice(seqStart+prevBufOffset,i+1+prevBufOffset),ptr=12600*(curSeq[0]-129)+1260*(curSeq[1]-48)+10*(curSeq[2]-129)+(curSeq[3]-48),idx=findIdx(this.gb18030.gbChars,ptr);
uCode=this.gb18030.uChars[idx]+ptr-this.gb18030.gbChars[idx]}else{if(NODE_START>=uCode){nodeIdx=NODE_START-uCode;continue}if(!(SEQ_START>=uCode))throw new Error("iconv-lite internal error: invalid decoding table value "+uCode+" at "+nodeIdx+"/"+curByte);for(var seq=this.decodeTableSeq[SEQ_START-uCode],k=0;k<seq.length-1;k++)uCode=seq[k],newBuf[j++]=255&uCode,newBuf[j++]=uCode>>8;uCode=seq[seq.length-1]}if(uCode>65535){uCode-=65536;var uCodeLead=55296+Math.floor(uCode/1024);newBuf[j++]=255&uCodeLead,newBuf[j++]=uCodeLead>>8,uCode=56320+uCode%1024}newBuf[j++]=255&uCode,newBuf[j++]=uCode>>8,nodeIdx=0,seqStart=i+1}return this.nodeIdx=nodeIdx,this.prevBuf=seqStart>=0?buf.slice(seqStart):prevBuf.slice(seqStart+prevBufOffset),newBuf.slice(0,j).toString("ucs2")},DBCSDecoder.prototype.end=function(){for(var ret="";this.prevBuf.length>0;){ret+=this.defaultCharUnicode;var buf=this.prevBuf.slice(1);this.prevBuf=new Buffer(0),this.nodeIdx=0,buf.length>0&&(ret+=this.write(buf))}return this.nodeIdx=0,ret}},{}],55:[function(require,module,exports){"use strict";module.exports={shiftjis:{type:"_dbcs",table:function(){return require("./tables/shiftjis.json")},encodeAdd:{"":92,"":126},encodeSkipVals:[{from:60736,to:63808}]},csshiftjis:"shiftjis",mskanji:"shiftjis",sjis:"shiftjis",windows31j:"shiftjis",xsjis:"shiftjis",windows932:"shiftjis",932:"shiftjis",cp932:"shiftjis",eucjp:{type:"_dbcs",table:function(){return require("./tables/eucjp.json")},encodeAdd:{"":92,"":126}},gb2312:"cp936",gb231280:"cp936",gb23121980:"cp936",csgb2312:"cp936",csiso58gb231280:"cp936",euccn:"cp936",isoir58:"gbk",windows936:"cp936",936:"cp936",cp936:{type:"_dbcs",table:function(){return require("./tables/cp936.json")}},gbk:{type:"_dbcs",table:function(){return require("./tables/cp936.json").concat(require("./tables/gbk-added.json"))}},xgbk:"gbk",gb18030:{type:"_dbcs",table:function(){return require("./tables/cp936.json").concat(require("./tables/gbk-added.json"))},gb18030:function(){return require("./tables/gb18030-ranges.json")}},chinese:"gb18030",windows949:"cp949",949:"cp949",cp949:{type:"_dbcs",table:function(){return require("./tables/cp949.json")}},cseuckr:"cp949",csksc56011987:"cp949",euckr:"cp949",isoir149:"cp949",korean:"cp949",ksc56011987:"cp949",ksc56011989:"cp949",ksc5601:"cp949",windows950:"cp950",950:"cp950",cp950:{type:"_dbcs",table:function(){return require("./tables/cp950.json")}},big5:"big5hkscs",big5hkscs:{type:"_dbcs",table:function(){return require("./tables/cp950.json").concat(require("./tables/big5-added.json"))},encodeSkipVals:[41676]},cnbig5:"big5hkscs",csbig5:"big5hkscs",xxbig5:"big5hkscs"}},{"./tables/big5-added.json":61,"./tables/cp936.json":62,"./tables/cp949.json":63,"./tables/cp950.json":64,"./tables/eucjp.json":65,"./tables/gb18030-ranges.json":66,"./tables/gbk-added.json":67,"./tables/shiftjis.json":68}],56:[function(require,module,exports){"use strict";for(var modules=[require("./internal"),require("./utf16"),require("./utf7"),require("./sbcs-codec"),require("./sbcs-data"),require("./sbcs-data-generated"),require("./dbcs-codec"),require("./dbcs-data")],i=0;i<modules.length;i++){var module=modules[i];for(var enc in module)Object.prototype.hasOwnProperty.call(module,enc)&&(exports[enc]=module[enc])}},{"./dbcs-codec":54,"./dbcs-data":55,"./internal":57,"./sbcs-codec":58,"./sbcs-data":60,"./sbcs-data-generated":59,"./utf16":69,"./utf7":70}],57:[function(require,module,exports){"use strict";function InternalCodec(codecOptions,iconv){this.enc=codecOptions.encodingName,this.bomAware=codecOptions.bomAware,"base64"===this.enc?this.encoder=InternalEncoderBase64:"cesu8"===this.enc&&(this.enc="utf8",this.encoder=InternalEncoderCesu8,3==new Buffer("eda080","hex").toString().length&&(this.decoder=InternalDecoderCesu8,this.defaultCharUnicode=iconv.defaultCharUnicode))}function InternalDecoder(options,codec){StringDecoder.call(this,codec.enc)}function InternalEncoder(options,codec){this.enc=codec.enc}function InternalEncoderBase64(options,codec){this.prevStr=""}function InternalEncoderCesu8(options,codec){}function InternalDecoderCesu8(options,codec){this.acc=0,this.contBytes=0,this.accBytes=0,this.defaultCharUnicode=codec.defaultCharUnicode}module.exports={utf8:{type:"_internal",bomAware:!0},cesu8:{type:"_internal",bomAware:!0},unicode11utf8:"utf8",ucs2:{type:"_internal",bomAware:!0},utf16le:"ucs2",binary:{type:"_internal"},base64:{type:"_internal"},hex:{type:"_internal"},_internal:InternalCodec},InternalCodec.prototype.encoder=InternalEncoder,InternalCodec.prototype.decoder=InternalDecoder;var StringDecoder=require("string_decoder").StringDecoder;StringDecoder.prototype.end||(StringDecoder.prototype.end=function(){}),InternalDecoder.prototype=StringDecoder.prototype,InternalEncoder.prototype.write=function(str){return new Buffer(str,this.enc)},InternalEncoder.prototype.end=function(){},InternalEncoderBase64.prototype.write=function(str){str=this.prevStr+str;var completeQuads=str.length-str.length%4;return this.prevStr=str.slice(completeQuads),str=str.slice(0,completeQuads),new Buffer(str,"base64")},InternalEncoderBase64.prototype.end=function(){return new Buffer(this.prevStr,"base64")},InternalEncoderCesu8.prototype.write=function(str){for(var buf=new Buffer(3*str.length),bufIdx=0,i=0;i<str.length;i++){var charCode=str.charCodeAt(i);128>charCode?buf[bufIdx++]=charCode:2048>charCode?(buf[bufIdx++]=192+(charCode>>>6),buf[bufIdx++]=128+(63&charCode)):(buf[bufIdx++]=224+(charCode>>>12),buf[bufIdx++]=128+(charCode>>>6&63),buf[bufIdx++]=128+(63&charCode))}return buf.slice(0,bufIdx)},InternalEncoderCesu8.prototype.end=function(){},InternalDecoderCesu8.prototype.write=function(buf){for(var acc=this.acc,contBytes=this.contBytes,accBytes=this.accBytes,res="",i=0;i<buf.length;i++){var curByte=buf[i];128!==(192&curByte)?(contBytes>0&&(res+=this.defaultCharUnicode,contBytes=0),128>curByte?res+=String.fromCharCode(curByte):224>curByte?(acc=31&curByte,contBytes=1,accBytes=1):240>curByte?(acc=15&curByte,contBytes=2,accBytes=1):res+=this.defaultCharUnicode):contBytes>0?(acc=acc<<6|63&curByte,contBytes--,accBytes++,0===contBytes&&(res+=2===accBytes&&128>acc&&acc>0?this.defaultCharUnicode:3===accBytes&&2048>acc?this.defaultCharUnicode:String.fromCharCode(acc))):res+=this.defaultCharUnicode}return this.acc=acc,this.contBytes=contBytes,this.accBytes=accBytes,res},InternalDecoderCesu8.prototype.end=function(){var res=0;return this.contBytes>0&&(res+=this.defaultCharUnicode),res}},{string_decoder:void 0}],58:[function(require,module,exports){"use strict";function SBCSCodec(codecOptions,iconv){if(!codecOptions)throw new Error("SBCS codec is called without the data.");if(!codecOptions.chars||128!==codecOptions.chars.length&&256!==codecOptions.chars.length)throw new Error("Encoding '"+codecOptions.type+"' has incorrect 'chars' (must be of len 128 or 256)");if(128===codecOptions.chars.length){for(var asciiString="",i=0;128>i;i++)asciiString+=String.fromCharCode(i);codecOptions.chars=asciiString+codecOptions.chars}this.decodeBuf=new Buffer(codecOptions.chars,"ucs2");var encodeBuf=new Buffer(65536);encodeBuf.fill(iconv.defaultCharSingleByte.charCodeAt(0));for(var i=0;i<codecOptions.chars.length;i++)encodeBuf[codecOptions.chars.charCodeAt(i)]=i;this.encodeBuf=encodeBuf}function SBCSEncoder(options,codec){this.encodeBuf=codec.encodeBuf}function SBCSDecoder(options,codec){this.decodeBuf=codec.decodeBuf}exports._sbcs=SBCSCodec,SBCSCodec.prototype.encoder=SBCSEncoder,SBCSCodec.prototype.decoder=SBCSDecoder,SBCSEncoder.prototype.write=function(str){for(var buf=new Buffer(str.length),i=0;i<str.length;i++)buf[i]=this.encodeBuf[str.charCodeAt(i)];return buf},SBCSEncoder.prototype.end=function(){},SBCSDecoder.prototype.write=function(buf){for(var decodeBuf=this.decodeBuf,newBuf=new Buffer(2*buf.length),idx1=0,idx2=0,i=0;i<buf.length;i++)idx1=2*buf[i],idx2=2*i,newBuf[idx2]=decodeBuf[idx1],newBuf[idx2+1]=decodeBuf[idx1+1];return newBuf.toString("ucs2")},SBCSDecoder.prototype.end=function(){}},{}],59:[function(require,module,exports){"use strict";module.exports={437:"cp437",737:"cp737",775:"cp775",850:"cp850",852:"cp852",855:"cp855",856:"cp856",857:"cp857",858:"cp858",860:"cp860",861:"cp861",862:"cp862",863:"cp863",864:"cp864",865:"cp865",866:"cp866",869:"cp869",874:"windows874",922:"cp922",1046:"cp1046",1124:"cp1124",1125:"cp1125",1129:"cp1129",1133:"cp1133",1161:"cp1161",1162:"cp1162",1163:"cp1163",1250:"windows1250",1251:"windows1251",1252:"windows1252",1253:"windows1253",1254:"windows1254",1255:"windows1255",1256:"windows1256",1257:"windows1257",1258:"windows1258",28591:"iso88591",28592:"iso88592",28593:"iso88593",28594:"iso88594",28595:"iso88595",28596:"iso88596",28597:"iso88597",28598:"iso88598",28599:"iso88599",28600:"iso885910",28601:"iso885911",28603:"iso885913",28604:"iso885914",28605:"iso885915",28606:"iso885916",windows874:{type:"_sbcs",chars:""},win874:"windows874",cp874:"windows874",windows1250:{type:"_sbcs",chars:""},win1250:"windows1250",cp1250:"windows1250",windows1251:{type:"_sbcs",chars:""},win1251:"windows1251",cp1251:"windows1251",windows1252:{type:"_sbcs",chars:""},win1252:"windows1252",cp1252:"windows1252",windows1253:{type:"_sbcs",chars:""},win1253:"windows1253",cp1253:"windows1253",windows1254:{type:"_sbcs",chars:""},win1254:"windows1254",cp1254:"windows1254",windows1255:{type:"_sbcs",chars:""},win1255:"windows1255",cp1255:"windows1255",windows1256:{type:"_sbcs",chars:""},win1256:"windows1256",cp1256:"windows1256",windows1257:{type:"_sbcs",chars:""},win1257:"windows1257",cp1257:"windows1257",windows1258:{type:"_sbcs",chars:""},win1258:"windows1258",cp1258:"windows1258",iso88591:{type:"_sbcs",chars:""},cp28591:"iso88591",iso88592:{type:"_sbcs",chars:""},cp28592:"iso88592",iso88593:{type:"_sbcs",chars:""},cp28593:"iso88593",iso88594:{type:"_sbcs",chars:""},cp28594:"iso88594",iso88595:{type:"_sbcs",chars:""},cp28595:"iso88595",iso88596:{type:"_sbcs",chars:""},cp28596:"iso88596",iso88597:{type:"_sbcs",chars:""},cp28597:"iso88597",iso88598:{type:"_sbcs",chars:""},cp28598:"iso88598",iso88599:{type:"_sbcs",chars:""},cp28599:"iso88599",iso885910:{type:"_sbcs",chars:""},cp28600:"iso885910",iso885911:{type:"_sbcs",chars:""},cp28601:"iso885911",iso885913:{type:"_sbcs",chars:""},cp28603:"iso885913",iso885914:{type:"_sbcs",chars:""},cp28604:"iso885914",iso885915:{type:"_sbcs",chars:""},cp28605:"iso885915",iso885916:{type:"_sbcs",chars:""},cp28606:"iso885916",cp437:{type:"_sbcs",chars:""},ibm437:"cp437",csibm437:"cp437",cp737:{type:"_sbcs",chars:""},ibm737:"cp737",csibm737:"cp737",cp775:{type:"_sbcs",chars:""},ibm775:"cp775",csibm775:"cp775",cp850:{type:"_sbcs",chars:""},ibm850:"cp850",csibm850:"cp850",cp852:{type:"_sbcs",chars:""},ibm852:"cp852",csibm852:"cp852",cp855:{type:"_sbcs",chars:""},ibm855:"cp855",csibm855:"cp855",cp856:{type:"_sbcs",chars:""},ibm856:"cp856",csibm856:"cp856",cp857:{type:"_sbcs",chars:""},ibm857:"cp857",csibm857:"cp857",cp858:{type:"_sbcs",chars:""},ibm858:"cp858",csibm858:"cp858",cp860:{type:"_sbcs",chars:""},ibm860:"cp860",csibm860:"cp860",cp861:{type:"_sbcs",chars:""},ibm861:"cp861",csibm861:"cp861",cp862:{type:"_sbcs",chars:""},ibm862:"cp862",csibm862:"cp862",cp863:{type:"_sbcs",chars:""},ibm863:"cp863",csibm863:"cp863",cp864:{type:"_sbcs",chars:"\x00\b	\n\x0B\f\r !\"#$&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~"},ibm864:"cp864",csibm864:"cp864",cp865:{type:"_sbcs",chars:""},ibm865:"cp865",csibm865:"cp865",cp866:{type:"_sbcs",chars:""},ibm866:"cp866",csibm866:"cp866",cp869:{type:"_sbcs",chars:""},ibm869:"cp869",csibm869:"cp869",cp922:{type:"_sbcs",chars:""},ibm922:"cp922",csibm922:"cp922",cp1046:{type:"_sbcs",chars:""},ibm1046:"cp1046",csibm1046:"cp1046",cp1124:{type:"_sbcs",chars:""},ibm1124:"cp1124",csibm1124:"cp1124",cp1125:{type:"_sbcs",chars:""},ibm1125:"cp1125",csibm1125:"cp1125",cp1129:{type:"_sbcs",chars:""},ibm1129:"cp1129",csibm1129:"cp1129",cp1133:{type:"_sbcs",chars:""},ibm1133:"cp1133",csibm1133:"cp1133",cp1161:{type:"_sbcs",chars:""},ibm1161:"cp1161",csibm1161:"cp1161",cp1162:{type:"_sbcs",chars:""},ibm1162:"cp1162",csibm1162:"cp1162",cp1163:{type:"_sbcs",chars:""},ibm1163:"cp1163",csibm1163:"cp1163",maccroatian:{type:"_sbcs",chars:""},maccyrillic:{type:"_sbcs",chars:""},macgreek:{type:"_sbcs",chars:""},maciceland:{type:"_sbcs",chars:""},macroman:{type:"_sbcs",chars:""},macromania:{type:"_sbcs",chars:""},macthai:{type:"_sbcs",chars:"\ufeff"},macturkish:{type:"_sbcs",chars:""},macukraine:{type:"_sbcs",chars:""},koi8r:{type:"_sbcs",chars:""},koi8u:{type:"_sbcs",chars:""},koi8ru:{type:"_sbcs",chars:""},koi8t:{type:"_sbcs",chars:""},armscii8:{type:"_sbcs",chars:")(.,-"},rk1048:{type:"_sbcs",chars:""},tcvn:{type:"_sbcs",chars:"\x00\b	\n\x0B\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~"},georgianacademy:{type:"_sbcs",chars:""},georgianps:{type:"_sbcs",chars:""},pt154:{type:"_sbcs",chars:""},viscii:{type:"_sbcs",chars:"\x00\b	\n\x0B\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~"},iso646cn:{type:"_sbcs",chars:"\x00\b	\n\x0B\f\r !\"#%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}"},iso646jp:{type:"_sbcs",chars:"\x00\b	\n\x0B\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[]^_`abcdefghijklmnopqrstuvwxyz{|}"},hproman8:{type:"_sbcs",chars:""},macintosh:{type:"_sbcs",chars:""},ascii:{type:"_sbcs",chars:""},tis620:{type:"_sbcs",chars:""}}},{}],60:[function(require,module,exports){"use strict";module.exports={10029:"maccenteuro",maccenteuro:{type:"_sbcs",chars:""},808:"cp808",ibm808:"cp808",cp808:{type:"_sbcs",chars:""},ascii8bit:"ascii",usascii:"ascii",ansix34:"ascii",ansix341968:"ascii",ansix341986:"ascii",csascii:"ascii",cp367:"ascii",ibm367:"ascii",isoir6:"ascii",iso646us:"ascii",iso646irv:"ascii",us:"ascii",latin1:"iso88591",latin2:"iso88592",latin3:"iso88593",latin4:"iso88594",latin5:"iso88599",latin6:"iso885910",latin7:"iso885913",latin8:"iso885914",latin9:"iso885915",latin10:"iso885916",csisolatin1:"iso88591",csisolatin2:"iso88592",csisolatin3:"iso88593",csisolatin4:"iso88594",csisolatincyrillic:"iso88595",csisolatinarabic:"iso88596",csisolatingreek:"iso88597",csisolatinhebrew:"iso88598",csisolatin5:"iso88599",csisolatin6:"iso885910",l1:"iso88591",l2:"iso88592",l3:"iso88593",l4:"iso88594",l5:"iso88599",l6:"iso885910",l7:"iso885913",l8:"iso885914",l9:"iso885915",l10:"iso885916",isoir14:"iso646jp",isoir57:"iso646cn",isoir100:"iso88591",isoir101:"iso88592",isoir109:"iso88593",isoir110:"iso88594",isoir144:"iso88595",isoir127:"iso88596",isoir126:"iso88597",isoir138:"iso88598",isoir148:"iso88599",isoir157:"iso885910",isoir166:"tis620",isoir179:"iso885913",isoir199:"iso885914",isoir203:"iso885915",isoir226:"iso885916",cp819:"iso88591",ibm819:"iso88591",cyrillic:"iso88595",arabic:"iso88596",arabic8:"iso88596",ecma114:"iso88596",asmo708:"iso88596",greek:"iso88597",greek8:"iso88597",ecma118:"iso88597",elot928:"iso88597",hebrew:"iso88598",hebrew8:"iso88598",turkish:"iso88599",turkish8:"iso88599",thai:"iso885911",thai8:"iso885911",celtic:"iso885914",celtic8:"iso885914",isoceltic:"iso885914",tis6200:"tis620",tis62025291:"tis620",tis62025330:"tis620",10000:"macroman",10006:"macgreek",10007:"maccyrillic",10079:"maciceland",10081:"macturkish",cspc8codepage437:"cp437",cspc775baltic:"cp775",cspc850multilingual:"cp850",cspcp852:"cp852",cspc862latinhebrew:"cp862",cpgr:"cp869",msee:"cp1250",mscyrl:"cp1251",msansi:"cp1252",msgreek:"cp1253",msturk:"cp1254",mshebr:"cp1255",msarab:"cp1256",winbaltrim:"cp1257",cp20866:"koi8r",20866:"koi8r",ibm878:"koi8r",cskoi8r:"koi8r",cp21866:"koi8u",21866:"koi8u",ibm1168:"koi8u",strk10482002:"rk1048",tcvn5712:"tcvn",tcvn57121:"tcvn",gb198880:"iso646cn",cn:"iso646cn",csiso14jisc6220ro:"iso646jp",jisc62201969ro:"iso646jp",jp:"iso646jp",cshproman8:"hproman8",r8:"hproman8",roman8:"hproman8",xroman8:"hproman8",ibm1051:"hproman8",mac:"macintosh",csmacintosh:"macintosh"}},{}],61:[function(require,module,exports){module.exports=[["8740",""],["8767",""],["87a1",""],["8840","",4,""],["88a1",""],["8940",""],["8943",""],["8946",""],["894c",""],["89a1",""],["89ab",""],["89b0",""],["89b5",""],["89c1",""],["89c5",""],["8a40",""],["8a43",""],["8a64",""],["8a76",""],["8aa1",""],["8aac",""],["8ab2",""],["8abb",""],["8ac9",""],["8ace",""],["8adf",""],["8af6",""],["8b40",""],["8b55",""],["8ba1",""],["8bde",""],["8c40",""],["8ca1",""],["8ca7",""],["8cc9",""],["8cce",""],["8ce6",""],["8d40",""],["8d42",""],["8da1",""],["8e40",""],["8ea1",""],["8f40",""],["8fa1",""],["9040",""],["90a1",""],["9140",""],["91a1",""],["9240",""],["92a1",""],["9340",""],["93a1",""],["9440",""],["94a1",""],["9540",""],["95a1",""],["9640",""],["96a1",""],["9740",""],["97a1",""],["9840",""],["98a1",""],["9940",""],["99a1",""],["9a40",""],["9aa1",""],["9b40",""],["9b62",""],["9ba1",""],["9c40",""],["9ca1",""],["9d40",""],["9da1",""],["9e40",""],["9ea1",""],["9ead",""],["9ec5",""],["9ef5",""],["9f40",""],["9f4f",""],["9fa1",""],["9fae",""],["9fb2",""],["9fc1",""],["9fc9",""],["9fdb",""],["9fe7",""],["9feb",""],["9ff0",""],["a040",""],["a055",""],["a058",""],["a05b",""],["a063",""],["a073",""],["a0a1",""],["a0a6",""],["a0ae",""],["a0b0",""],["a0d4",""],["a0e2",""],["a3c0","",31,""],["c6a1","",9,"",9,"",9,"",23],["c740","",58,""],["c7a1","",81,"",5,"",4],["c840","",26,"",25,""],["c8a1",""],["c8cd",""],["c8f5",""],["f9fe",""],["fa40",""],["faa1",""],["fb40",""],["fba1",""],["fc40",""],["fca1",""],["fd40",""],["fda1",""],["fe40",""],["fea1",""]];
},{}],62:[function(require,module,exports){module.exports=[["0","\x00",127,""],["8140","",5,"",9,"",6,""],["8180","",6,"",4,"",4,"",5,""],["8240","",4,"",8,"",4,"",11],["8280","",10,"",4,"",7,"",5,"",8,"",20,"",4,"",6,""],["8340","",17,"",5,"",10,"",4,"",9,""],["8380","",5,"",13,"",28,"",4,"",4,"",5],["8440","",5,"",5,""],["8480","",9,"",4,"",6,"",6,"",9,"",5,"",10,"",7,""],["8540","",9,""],["8580","",4,"",6,"",4,"",4,"",7,""],["8640","",4,"",5,"",4,"",5,""],["8680","",4,"",4,"",5,"",6,"",8,"",4,"",4,"",4,""],["8740","",7,"",11,"",4,"",4],["8780","",7,"",6,"",14,"",10,"",6,"",12,"",8,"",5,"",6],["8840","",9,"",4,"",4,""],["8880","",4,"",6,"",8,"",6,"",7,"",4,"",4,"",7],["8940","",5,"",6,"",4,"",5,"",4,"",16,""],["8980","",4,"",4,"",7,"",17,"",10,"",13,"",5,"",7,"",4,""],["8a40","",4,"",12,""],["8a80","",5,"",6,"",4,"",11,"",6,"",4,"",4,"",9,"",5],["8b40","",8,"",17,"",6,"",13,""],["8b80","",4,"",4,"",5,"",4,"",4,"",22,"",11,"",25,"",7,"",6],["8c40","",7,""],["8c80","",8,"",4,"",6,"",6,"",6,"",4,"",4,"",4],["8d40","",5,"",5,"",5,"",6,"",9,"",4],["8d80","",5,"",4,"",4,"",4,"",7,"",7,"",10,"",10,"",12,"",21,""],["8e40","",21,"",12,"",6,"",12,""],["8e80","",4,"",7,"",4,"",4,"",5,"",6,"",4,"",14,"",4,"",4,"",6],["8f40","",5,"",11,"",8,""],["8f80","",6,"",14,"",5,"",5,"",4,""],["9040","",4,"",4,"",6,""],["9080","",7,"",4,"",4,"",4,"",4,"",18,"",6],["9140","",6,"",6,"",18,"",4,""],["9180","",6,"",8,"",9,"",5,"",4,"",4,"",16,"",13,"",8,"",5,"",4,""],["9240","",6,"",5,""],["9280","",5,"",7,"",6,""],["9340","",6,"",4,"",4,"",5,""],["9380","",5,"",4,"",6,"",4,"",7,"",9,"",6,"",8,"",4,"",6,""],["9440","",24,"",7,"",7,"",4,"",8],["9480","",4,"",4,"",14,"",7,"",7,""],["9540","",4,"",4,"",6,""],["9580","",4,"",4,"",8,"",4,"",4,"",25,"",7,"",5,""],["9640","",5,"",4,""],["9680","",7,"",9,"",7,"",4,"",6,"",6,"",5],["9740","",7,"",8,"",7,"",9,""],["9780","",6,"",5,"",4,"",9,"",4,"",11,"",7,"",16,""],["9840","",4,"",5,"",9,""],["9880","",7,"",5,"",11,"",9,"",9,"",11,"",5,"",5,"",6,"",4,"",7,"",6,""],["9940","",4,"",10,"",6,"",8,"",4,"",7,"",5],["9980","",114,"",6],["9a40","",11,"",7,"",13,""],["9a80","",4,"",7,"",7,"",6,"",4,"",4,"",7,"",6,"",4,"",4,""],["9b40","",4,""],["9b80","",5,"",4,"",4,"",5,""],["9c40","",7,""],["9c80","",7,"",7,"",10,"",14,"",4,"",6,"",5],["9d40","",7,"",4,"",9,"",6,""],["9d80","",9,"",5,"",6,"",12,"",4,"",10,"",5,"",5,"",6,"",10,""],["9e40","",7,"",32,"",7,"",6,"",6],["9e80","",9,"",17,"",13,"",11,"",12,"",12,""],["9f40","",6,"",10,"",4,"",10,"",7,""],["9f80","",13,"",12,"",4,"",4,"",5,"",4,"",4,"",6,"",5,"",8,"",9,"",4],["a040","",9,"",5,"",9,"",11,"",19],["a080","",9,"",6,"",4,"",11,"",11,"",6,""],["a1a1","",7,""],["a2a1","",9],["a2b1","",19,"",19,"",9],["a2e5","",9],["a2f1","",11],["a3a1","",88,""],["a4a1","",82],["a5a1","",85],["a6a1","",16,"",6],["a6c1","",16,"",6],["a6e0",""],["a6ee",""],["a6f4",""],["a7a1","",5,"",25],["a7d1","",5,"",25],["a840","",35,"",6],["a880","",7,""],["a8a1",""],["a8bd",""],["a8c0",""],["a8c5","",36],["a940","",8,""],["a959",""],["a95c",""],["a960","",9,"",8],["a980","",4,""],["a996",""],["a9a4","",75],["aa40","",5,"",5,"",8],["aa80","",7,"",10,""],["ab40","",11,"",4,"",5,"",4],["ab80","",6,"",4],["ac40","",10,"",8,"",5,"",4,"",11],["ac80","",6,"",12,"",4,""],["ad40","",10,"",7,"",15,"",12],["ad80","",9,"",8,"",6,""],["ae40","",6,"",7,"",4,""],["ae80","",7,"",6,"",4,""],["af40","",4,""],["af80",""],["b040","",6,"",5,"",4,"",6,"",7,""],["b080","",7,"",8,"",9,""],["b140","",4,"",7,"",10,""],["b180","",4,"",7,"",7,""],["b240","",11,"",5,"",11,"",4],["b280","",12,"",8,"",4,""],["b340","",5,""],["b380","",11,"",7,"",6,""],["b440","",7,"",9],["b480","",4,"",5,"",6,""],["b540","",5,"",9,"",4,"",14,"",4,"",8,""],["b580","",6,"",4,""],["b640","",6,"",11,"",10,"",4,"",5,""],["b680","",6,"",4,""],["b740","",14,"",5,"",9,"",4,"",16],["b780","",6,""],["b840","",4,"",10,"",10,"",9,"",5,""],["b880","",4,""],["b940","",5,"",10,"",6,""],["b980","",7,""],["ba40","",4,"",4,"",7,"",5,""],["ba80","",4,"",5,"",12,"",5,""],["bb40","",9,"",36,"",5,"",9],["bb80","",6,"",4,""],["bc40","",6,"",6,"",5,"",7,"",13,"",5],["bc80","",14,"",6,""],["bd40","",54,"",7],["bd80","",32,""],["be40","",12,"",6,"",42],["be80","",32,""],["bf40","",62],["bf80","",4,"",4,"",21,""],["c040","",35,"",23,""],["c080","",6,"",9,""],["c140","",4,"",7,"",4,"",4,"",6,""],["c180","",4,"",4,"",5,""],["c240","",6,"",5,""],["c280","",13,"",5,"",11,""],["c340","",5,"",4,"",6,""],["c380","",12,"",4,""],["c440","",5,"",4,"",4,"",5,"",4,""],["c480","",7,"",5,"",6,""],["c540","",14,"",4,"",5,"",4,"",5,""],["c580","",7,"",7,""],["c640",""],["c680","",4,"",9,""],["c740","",4,"",4,"",6,"",6,"",6,""],["c780",""],["c840","",4,"",5,"",5,"",7,"",5,"",7,""],["c880","",6,"",4,"",4,""],["c940","",4,"",7,"",12,""],["c980","",4,"",4,"",10,""],["ca40","",8,"",8,"",9,"",4,"",10],["ca80","",4,"",8,""],["cb40","",6,"",10,"",6,"",5,"",6,"",6,"",4,""],["cb80","",5,"",6,"",14,""],["cc40","",4,"",10,"",15,"",13,""],["cc80","",11,"",4,"",7,""],["cd40","",6,"",6,"",4,"",5,"",4,"",4,""],["cd80",""],["ce40","",6,"",5,"",7,""],["ce80","",4,"",6,"",4,""],["cf40","",4,"",4,"",6,"",9],["cf80","",5,"",7,"",4,""],["d040","",13,"",5,"",5,"",5,"",6,""],["d080","",4,"",4,"",5,""],["d140","",4,"",4,"",6,"",5],["d180","",4,"",4,"",4,""],["d240","",8,"",24,"",5,"",19,""],["d280","",26,""],["d340","",30,"",6],["d380","",4,"",5,"",21,""],["d440","",31,"",8,"",21],["d480","",25,"",6,""],["d540","",7,"",7,"",46],["d580","",32,""],["d640","",34,"",27],["d680","",30,""],["d740","",31,"",4,"",25],["d780","",24,""],["d840","",8,"",7,"",5,"",6,"",6,"",6,""],["d880","",6,"",20,""],["d940","",62],["d980","",32,""],["da40","",14,"",8,"",4,"",9,""],["da80","",12,""],["db40","",6,"",7,"",4,""],["db80","",4,"",5,"",11,""],["dc40","",4,"",6,"",6,"",11,"",6,"",7],["dc80","",10,"",21,""],["dd40","",62],["dd80","",32,""],["de40","",32,""],["de80","",4,""],["df40","",5,"",4,"",4,"",5,"",4,"",6,""],["df80","",4,""],["e040","",19,""],["e080","",10,"",6,"",8,""],["e140","",4,"",6,"",5,"",5,""],["e180","",10,"",9,"",8,""],["e240","",62],["e280","",32,"",5,""],["e340","",45,"",16],["e380","",7,"",24,""],["e440","",5,"",24,"",31],["e480","",32,""],["e540","",51,"",10],["e580","",31,""],["e640","",34,"",27],["e680","",29,""],["e740","",7,"",54],["e780","",32,"",6,"",4,""],["e840","",14,"",43,""],["e880","",20,""],["e940","",7,"",42],["e980","",32,""],["ea40","",27,"",6,""],["ea80","",4,"",12,""],["eb40","",9,"",7,"",9,"",6,""],["eb80","",4,""],["ec40","",8,"",4,"",18,"",7],["ec80","",4,"",7,"",4,"",4,""],["ed40","",6,"",46],["ed80","",4,"",23,""],["ee40","",62],["ee80","",32,"",4,"",6,""],["ef40","",5,"",37,"",4],["ef80","",30,"",4,"",8,""],["f040","",4,"",28,"",26],["f080","",9,"",12,"",4,"",6,""],["f140","",10,"",47],["f180","",32,""],["f240","",62],["f280","",32,""],["f340","",17,"",6,"",4,""],["f380","",8,"",6,""],["f440","",5,"",10,"",10,"",7,"",5],["f480","",32,""],["f540","",62],["f580","",32,""],["f640","",62],["f680","",32,"",5,"",5,"",4,"",7,""],["f740","",62],["f780","",4,"",4,""],["f840","",62],["f880","",32],["f940","",62],["f980","",32],["fa40","",62],["fa80","",32],["fb40","",27,"",9,""],["fb80","",5,"",8,"",5,""],["fc40","",8,"",4,"",8,"",6],["fc80","",4,"",5,"",8,""],["fd40","",4,"",4,"",10,"",38],["fd80","",5,"",11,"",4,""],["fe40",""]]},{}],63:[function(require,module,exports){module.exports=[["0","\x00",127],["8141","",4,"",6,""],["8161","",9,"",5,""],["8181","",18,"",4,"",6,"",5,"",6,"",7,"",7,"",4,"",4,""],["8241","",7,"",5],["8261","",6,"",5,""],["8281","",7,"",7,"",4,"",10,"",5,"",17,"",7,"",6,"",7,"",18],["8341","",5,"",5,"",7],["8361","",18,""],["8381","",4,"",6,"",5,"",5,"",46,"",6,"",5,"",8],["8441","",5,"",8],["8461","",18],["8481","",7,"",6,"",5,"",10,"",5,"",18,"",5,"",6,"",5,"",26,""],["8541","",5,"",4,"",6,"",4],["8561","",5,"",5,"",6,""],["8581","",6,"",6,"",9,"",26,"",29,"",6,"",5,""],["8641","",6,"",5,""],["8661","",6,"",10],["8681","",22,"",4,"",6,"",5,"",6,"",22,"",4,""],["8741","",9,"",15],["8761","",18,""],["8781","",5,"",7,"",7,"",5,"",6,"",5,"",18,"",6,"",26,"",6,"",4],["8841","",4,"",5,"",6,"",4],["8861","",4,""],["8881","",15,"",4,"",6,"",5,"",54,""],["8941","",6,"",5,""],["8961","",10,"",5,""],["8981","",21,"",18,"",18,"",6,"",6,"",7,"",15],["8a41","",10,"",6,""],["8a61","",4,"",18,""],["8a81","",4,"",19,"",5,"",7,"",5,"",6,"",5,"",4,"",5,"",26,""],["8b41","",5,"",4,"",6,""],["8b61","",6,"",8],["8b81","",52,"",4,"",6,"",5,"",18,"",18],["8c41","",15,"",4],["8c61","",6,"",5,"",6,"",5],["8c81","",12,"",26,"",50,"",5,"",16],["8d41","",16,"",8],["8d61","",17,""],["8d81","",4,"",33,"",6,"",7,"",6,"",9,"",6,"",5,"",6,""],["8e41","",6,"",5,"",8],["8e61","",4,"",19],["8e81","",13,"",6,"",4,"",6,"",5,"",6,"",5,"",11,"",7,"",6,"",5,"",7],["8f41","",7,"",17],["8f61","",7,"",6,"",4],["8f81","",5,"",7,"",5,"",6,"",5,"",18,"",6,"",26,"",6,"",5],["9041","",6,"",5,""],["9061","",5,"",15],["9081","",12,"",6,"",5,"",4,"",6,"",4,"",5,"",11,"",33,""],["9141","",6,"",5],["9161","",9,"",5],["9181","",20,"",4,"",5,"",14,"",33,"",7,"",5,"",6],["9241","",7,"",4,""],["9261","",7,"",7,"",4],["9281","",21,"",18,"",6,"",7,"",6,"",35,""],["9341","",4,""],["9361","",6,"",8],["9381","",37,"",4,"",4,"",6,"",5,"",7,"",22,""],["9441","",5,"",5,"",8],["9461","",5,"",6,"",12],["9481","",5,"",6,"",6,"",9,"",22,"",4,"",6,"",10,"",6,"",24],["9541","",11,"",5,""],["9561","",6,"",5,""],["9581","",6,"",35,"",4,"",4,"",4,"",6,"",5,"",13,"",14],["9641","",23,""],["9661","",6,"",5,"",8],["9681","",10,"",5,"",13,"",33,"",6,"",44],["9741","",16,"",8],["9761","",17,"",7],["9781","",11,"",5,"",6,"",89,""],["9841","",16,"",5,""],["9861","",6,"",15],["9881","",21,"",6,"",5,"",4,"",6,"",5,"",6,"",5,"",6,"",5,""],["9941","",6,"",5,""],["9961","",6,"",5,""],["9981","",8,"",5,"",4,"",11,"",5,"",6,"",6,"",6,"",7,"",6,"",5,""],["9a41","",16],["9a61","",6,"",6,""],["9a81","",4,"",6,"",5,"",5,"",6,"",5,"",5,"",33,"",5,"",6,""],["9b41","",6,"",8],["9b61","",17,"",7],["9b81","",25,"",4,"",5,"",50,"",22,""],["9c41","",4,"",5,"",5],["9c61","",8,"",6,"",9],["9c81","",8,"",6,"",6,"",9,"",26,"",6,"",5,"",18,"",6,"",12],["9d41","",13,"",8],["9d61","",25],["9d81","",8,"",5,"",9,"",6,"",10,"",6,"",5,"",6,"",5,""],["9e41","",7,"",9,""],["9e61","",4,"",6,""],["9e81","",6,"",6,"",6,"",5,"",10,"",5,"",6,"",5,"",6,""],["9f41","",5,"",4,"",5,""],["9f61","",6,"",5,""],["9f81","",4,"",5,"",6,"",5,"",6,"",4,"",6,"",7,"",4,"",4,""],["a041","",5,"",6,""],["a061","",5,"",13],["a081","",4,"",4,"",4,"",6,"",5,"",6,"",5,"",26,"",4,"",5,"",7,""],["a141","",18,""],["a161","",6,"",5,""],["a181","",14,"",5,"",4,"",9,""],["a241","",5,"",18],["a261","",6,"",18],["a281","",7,"",6,"",7,""],["a341","",6,"",10,""],["a361","",6,"",16],["a381","",16,"",4,"",58,"",32,""],["a441","",5,""],["a461","",5,"",12],["a481","",28,"",93],["a541","",4,"",6,"",5,""],["a561","",17,"",5,""],["a581","",16,"",14,"",9],["a5b0","",9],["a5c1","",16,"",6],["a5e1","",16,"",6],["a641","",19,""],["a661","",5,"",5,"",6],["a681","",6,"",18,"",7],["a741","",4,"",6,"",7],["a761","",22,""],["a781","",6,"",5,"",7,"",9,"",9,"",4,"",5,"",4,""],["a841","",10,"",14],["a861","",18,"",6],["a881","",19,"",11,""],["a8a6",""],["a8a8",""],["a8b1","",27,"",25,"",14,""],["a941","",14,"",10],["a961","",18],["a981","",14,"",6,"",27,"",25,"",14,""],["aa41","",6,"",4,""],["aa61","",4,"",5,"",6,""],["aa81","",29,"",82],["ab41","",6,"",5,""],["ab61","",6,"",5,"",5],["ab81","",8,"",6,"",12,"",85],["ac41","",5,"",6,""],["ac61","",11,"",4],["ac81","",28,"",5,"",25],["acd1","",5,"",25],["ad41","",6,"",5,"",7],["ad61","",6,"",10,""],["ad81","",5,"",18,""],["ae41","",5,"",16],["ae61","",5,"",6,"",4],["ae81","",6,"",5,""],["af41","",19],["af61","",13,"",5,""],["af81","",5,"",6,"",5,""],["b041","",5,"",5,"",12],["b061","",5,"",19],["b081","",13,"",6,"",5,"",7,"",4,""],["b141","",6,"",5,""],["b161","",6,"",5,"",11],["b181","",14,"",6,""],["b241","",6,"",5,""],["b261","",18,"",5,""],["b281","",5,"",18,"",6,""],["b341","",19,""],["b361","",5,"",5,"",5],["b381","",5,"",5,"",19,"",4,""],["b441","",5,"",6,"",5],["b461","",6,"",10,""],["b481","",6,"",18,"",4,"",4,""],["b541","",14,"",5],["b561","",5,"",5,"",4],["b581","",6,"",5,"",11,""],["b641","",7,"",17],["b661","",15,""],["b681","",5,"",6,"",5,""],["b741","",13,"",6,""],["b761","",20,""],["b781","",6,"",14,""],["b841","",7,"",17],["b861","",8,"",13],["b881","",5,"",24,"",4,""],["b941","",6,"",5,""],["b961","",14,"",6,""],["b981","",22,"",4,"",4,""],["ba41","",5,"",6,""],["ba61","",5,"",4,"",5],["ba81","",6,"",9,""],["bb41","",4,"",5,"",4,""],["bb61","",6,"",5,""],["bb81","",31,""],["bc41","",17,""],["bc61","",5,"",6,""],["bc81","",4,"",6,"",5,"",5,"",4,""],["bd41","",7,"",7,""],["bd61","",5,"",13],["bd81","",5,"",25,""],["be41","",7,"",14],["be61","",7,"",7,""],["be81","",4,"",4,"",5,"",8,"",6,""],["bf41","",10,"",14],["bf61","",18,""],["bf81","",5,"",7,"",6,"",5,""],["c041","",5,"",6,"",5],["c061","",25],["c081","",6,"",5,"",7,""],["c141","",5,"",6,""],["c161","",19,""],["c181","",31,""],["c241","",4,"",5,""],["c261","",4,"",5,"",6,""],["c281","",5,"",7,"",9,""],["c341","",4],["c361","",4,"",5,"",11],["c381","",5,"",7,"",5,""],["c441","",7,"",7,""],["c461","",5,"",4],["c481","",5,"",11,""],["c541","",6,"",5,""],["c561","",6,"",5,"",4],["c581","",6,"",5,""],["c641","",6,"",5],["c6a1",""],["c7a1",""],["c8a1",""],["caa1",""],["cba1",""],["cca1",""],["cda1",""],["cea1",""],["cfa1",""],["d0a1",""],["d1a1","",5,"",4,""],["d2a1","",4,"",5,"",10,"",7,"",5,""],["d3a1",""],["d4a1",""],["d5a1",""],["d6a1",""],["d7a1",""],["d8a1",""],["d9a1",""],["daa1",""],["dba1",""],["dca1",""],["dda1",""],["dea1",""],["dfa1",""],["e0a1",""],["e1a1",""],["e2a1",""],["e3a1",""],["e4a1",""],["e5a1",""],["e6a1",""],["e7a1",""],["e8a1",""],["e9a1",""],["eaa1",""],["eba1",""],["eca1",""],["eda1",""],["eea1",""],["efa1",""],["f0a1",""],["f1a1",""],["f2a1",""],["f3a1",""],["f4a1",""],["f5a1",""],["f6a1",""],["f7a1",""],["f8a1",""],["f9a1",""],["faa1",""],["fba1",""],["fca1",""],["fda1",""]];
},{}],64:[function(require,module,exports){module.exports=[["0","\x00",127],["a140",""],["a1a1","",4,""],["a240","",7,""],["a2a1","",9,"",9,"",8,"",25,"",21],["a340","",16,"",6,"",16,"",6,"",10],["a3a1","",25,""],["a3e1",""],["a440",""],["a4a1",""],["a540",""],["a5a1",""],["a640",""],["a6a1",""],["a740",""],["a7a1",""],["a840",""],["a8a1",""],["a940",""],["a9a1",""],["aa40",""],["aaa1",""],["ab40",""],["aba1",""],["ac40",""],["aca1",""],["ad40",""],["ada1",""],["ae40",""],["aea1",""],["af40",""],["afa1",""],["b040",""],["b0a1",""],["b140",""],["b1a1",""],["b240",""],["b2a1",""],["b340",""],["b3a1",""],["b440",""],["b4a1",""],["b540",""],["b5a1",""],["b640",""],["b6a1",""],["b740",""],["b7a1",""],["b840",""],["b8a1",""],["b940",""],["b9a1",""],["ba40",""],["baa1",""],["bb40",""],["bba1",""],["bc40",""],["bca1",""],["bd40",""],["bda1",""],["be40",""],["bea1",""],["bf40",""],["bfa1",""],["c040",""],["c0a1",""],["c140",""],["c1a1",""],["c240",""],["c2a1",""],["c340",""],["c3a1",""],["c440",""],["c4a1",""],["c540",""],["c5a1",""],["c640",""],["c940",""],["c9a1",""],["ca40",""],["caa1",""],["cb40",""],["cba1",""],["cc40",""],["cca1",""],["cd40",""],["cda1",""],["ce40",""],["cea1",""],["cf40",""],["cfa1",""],["d040",""],["d0a1",""],["d140",""],["d1a1",""],["d240",""],["d2a1",""],["d340",""],["d3a1",""],["d440",""],["d4a1",""],["d540",""],["d5a1",""],["d640",""],["d6a1",""],["d740",""],["d7a1",""],["d840",""],["d8a1",""],["d940",""],["d9a1",""],["da40",""],["daa1",""],["db40",""],["dba1",""],["dc40",""],["dca1",""],["dd40",""],["dda1",""],["de40",""],["dea1",""],["df40",""],["dfa1",""],["e040",""],["e0a1",""],["e140",""],["e1a1",""],["e240",""],["e2a1",""],["e340",""],["e3a1",""],["e440",""],["e4a1",""],["e540",""],["e5a1",""],["e640",""],["e6a1",""],["e740",""],["e7a1",""],["e840",""],["e8a1",""],["e940",""],["e9a1",""],["ea40",""],["eaa1",""],["eb40",""],["eba1",""],["ec40",""],["eca1",""],["ed40",""],["eda1",""],["ee40",""],["eea1",""],["ef40",""],["efa1",""],["f040",""],["f0a1",""],["f140",""],["f1a1",""],["f240",""],["f2a1",""],["f340",""],["f3a1",""],["f440",""],["f4a1",""],["f540",""],["f5a1",""],["f640",""],["f6a1",""],["f740",""],["f7a1",""],["f840",""],["f8a1",""],["f940",""],["f9a1",""]]},{}],65:[function(require,module,exports){module.exports=[["0","\x00",127],["8ea1","",62],["a1a1","",9,""],["a2a1",""],["a2ba",""],["a2ca",""],["a2dc",""],["a2f2",""],["a2fe",""],["a3b0","",9],["a3c1","",25],["a3e1","",25],["a4a1","",82],["a5a1","",85],["a6a1","",16,"",6],["a6c1","",16,"",6],["a7a1","",5,"",25],["a7d1","",5,"",25],["a8a1",""],["ada1","",19,"",9],["adc0",""],["addf","",4,""],["b0a1",""],["b1a1",""],["b2a1",""],["b3a1",""],["b4a1",""],["b5a1",""],["b6a1",""],["b7a1",""],["b8a1",""],["b9a1",""],["baa1",""],["bba1",""],["bca1",""],["bda1",""],["bea1",""],["bfa1",""],["c0a1",""],["c1a1",""],["c2a1",""],["c3a1",""],["c4a1",""],["c5a1",""],["c6a1",""],["c7a1",""],["c8a1",""],["c9a1",""],["caa1",""],["cba1",""],["cca1",""],["cda1",""],["cea1",""],["cfa1",""],["d0a1",""],["d1a1",""],["d2a1",""],["d3a1",""],["d4a1",""],["d5a1",""],["d6a1",""],["d7a1",""],["d8a1",""],["d9a1",""],["daa1",""],["dba1",""],["dca1",""],["dda1",""],["dea1",""],["dfa1",""],["e0a1",""],["e1a1",""],["e2a1",""],["e3a1",""],["e4a1",""],["e5a1",""],["e6a1",""],["e7a1",""],["e8a1",""],["e9a1",""],["eaa1",""],["eba1",""],["eca1",""],["eda1",""],["eea1",""],["efa1",""],["f0a1",""],["f1a1",""],["f2a1",""],["f3a1",""],["f4a1",""],["f9a1",""],["faa1",""],["fba1",""],["fca1",""],["fcf1","",9,""],["8fa2af",""],["8fa2c2",""],["8fa2eb",""],["8fa6e1",""],["8fa6e7",""],["8fa6e9",""],["8fa6ec",""],["8fa6f1",""],["8fa7c2","",10,""],["8fa7f2","",10,""],["8fa9a1",""],["8fa9a4",""],["8fa9a6",""],["8fa9a8",""],["8fa9ab",""],["8fa9af",""],["8fa9c1",""],["8faaa1",""],["8faaba",""],["8faba1",""],["8fabbd",""],["8fabc5",""],["8fb0a1",""],["8fb1a1",""],["8fb2a1","",4,""],["8fb3a1",""],["8fb4a1",""],["8fb5a1",""],["8fb6a1","",5,"",4,""],["8fb7a1","",4,""],["8fb8a1",""],["8fb9a1",""],["8fbaa1","",4,""],["8fbba1",""],["8fbca1","",4,""],["8fbda1","",4,""],["8fbea1","",4,""],["8fbfa1",""],["8fc0a1",""],["8fc1a1",""],["8fc2a1",""],["8fc3a1","",4,""],["8fc4a1",""],["8fc5a1",""],["8fc6a1",""],["8fc7a1",""],["8fc8a1",""],["8fc9a1","",4,"",4,""],["8fcaa1",""],["8fcba1",""],["8fcca1","",9,""],["8fcda1","",5,""],["8fcea1","",6,""],["8fcfa1",""],["8fd0a1",""],["8fd1a1",""],["8fd2a1","",5],["8fd3a1",""],["8fd4a1","",4,""],["8fd5a1",""],["8fd6a1",""],["8fd7a1",""],["8fd8a1",""],["8fd9a1","",4,"",6,""],["8fdaa1","",4,""],["8fdba1","",6,""],["8fdca1","",4,""],["8fdda1","",4,""],["8fdea1","",4,""],["8fdfa1",""],["8fe0a1",""],["8fe1a1","",4,""],["8fe2a1",""],["8fe3a1","",5,"",4,""],["8fe4a1","",4,""],["8fe5a1","",4,""],["8fe6a1",""],["8fe7a1",""],["8fe8a1","",4,""],["8fe9a1","",4],["8feaa1","",4,""],["8feba1","",4,""],["8feca1",""],["8feda1","",4,"",4,""]]},{}],66:[function(require,module,exports){module.exports={uChars:[128,165,169,178,184,216,226,235,238,244,248,251,253,258,276,284,300,325,329,334,364,463,465,467,469,471,473,475,477,506,594,610,712,716,730,930,938,962,970,1026,1104,1106,8209,8215,8218,8222,8231,8241,8244,8246,8252,8365,8452,8454,8458,8471,8482,8556,8570,8596,8602,8713,8720,8722,8726,8731,8737,8740,8742,8748,8751,8760,8766,8777,8781,8787,8802,8808,8816,8854,8858,8870,8896,8979,9322,9372,9548,9588,9616,9622,9634,9652,9662,9672,9676,9680,9702,9735,9738,9793,9795,11906,11909,11913,11917,11928,11944,11947,11951,11956,11960,11964,11979,12284,12292,12312,12319,12330,12351,12436,12447,12535,12543,12586,12842,12850,12964,13200,13215,13218,13253,13263,13267,13270,13384,13428,13727,13839,13851,14617,14703,14801,14816,14964,15183,15471,15585,16471,16736,17208,17325,17330,17374,17623,17997,18018,18212,18218,18301,18318,18760,18811,18814,18820,18823,18844,18848,18872,19576,19620,19738,19887,40870,59244,59336,59367,59413,59417,59423,59431,59437,59443,59452,59460,59478,59493,63789,63866,63894,63976,63986,64016,64018,64021,64025,64034,64037,64042,65074,65093,65107,65112,65127,65132,65375,65510,65536],
gbChars:[0,36,38,45,50,81,89,95,96,100,103,104,105,109,126,133,148,172,175,179,208,306,307,308,309,310,311,312,313,341,428,443,544,545,558,741,742,749,750,805,819,820,7922,7924,7925,7927,7934,7943,7944,7945,7950,8062,8148,8149,8152,8164,8174,8236,8240,8262,8264,8374,8380,8381,8384,8388,8390,8392,8393,8394,8396,8401,8406,8416,8419,8424,8437,8439,8445,8482,8485,8496,8521,8603,8936,8946,9046,9050,9063,9066,9076,9092,9100,9108,9111,9113,9131,9162,9164,9218,9219,11329,11331,11334,11336,11346,11361,11363,11366,11370,11372,11375,11389,11682,11686,11687,11692,11694,11714,11716,11723,11725,11730,11736,11982,11989,12102,12336,12348,12350,12384,12393,12395,12397,12510,12553,12851,12962,12973,13738,13823,13919,13933,14080,14298,14585,14698,15583,15847,16318,16434,16438,16481,16729,17102,17122,17315,17320,17402,17418,17859,17909,17911,17915,17916,17936,17939,17961,18664,18703,18814,18962,19043,33469,33470,33471,33484,33485,33490,33497,33501,33505,33513,33520,33536,33550,37845,37921,37948,38029,38038,38064,38065,38066,38069,38075,38076,38078,39108,39109,39113,39114,39115,39116,39265,39394,189e3]}},{}],67:[function(require,module,exports){module.exports=[["a140","",62],["a180","",32],["a240","",62],["a280","",32],["a2ab","",5],["a2e3",""],["a2ef",""],["a2fd",""],["a340","",62],["a380","",31,""],["a440","",62],["a480","",32],["a4f4","",10],["a540","",62],["a580","",32],["a5f7","",7],["a640","",62],["a680","",32],["a6b9","",7],["a6d9","",6],["a6ec",""],["a6f3",""],["a6f6","",8],["a740","",62],["a780","",32],["a7c2","",14],["a7f2","",12],["a896","",10],["a8bc",""],["a8bf",""],["a8c1",""],["a8ea","",20],["a958",""],["a95b",""],["a95d",""],["a989","",11],["a997","",12],["a9f0","",14],["aaa1","",93],["aba1","",93],["aca1","",93],["ada1","",93],["aea1","",93],["afa1","",93],["d7fa","",4],["f8a1","",93],["f9a1","",93],["faa1","",93],["fba1","",93],["fca1","",93],["fda1","",93],["fe50",""],["fe80","",6,"",93]]},{}],68:[function(require,module,exports){module.exports=[["0","\x00",128],["a1","",62],["8140","",9,""],["8180",""],["81b8",""],["81c8",""],["81da",""],["81f0",""],["81fc",""],["824f","",9],["8260","",25],["8281","",25],["829f","",82],["8340","",62],["8380","",22],["839f","",16,"",6],["83bf","",16,"",6],["8440","",5,"",25],["8470","",5,"",7],["8480","",17],["849f",""],["8740","",19,"",9],["875f",""],["877e",""],["8780","",4,""],["889f",""],["8940",""],["8980",""],["8a40",""],["8a80",""],["8b40",""],["8b80",""],["8c40",""],["8c80",""],["8d40",""],["8d80",""],["8e40",""],["8e80",""],["8f40",""],["8f80",""],["9040",""],["9080",""],["9140",""],["9180",""],["9240",""],["9280",""],["9340",""],["9380",""],["9440",""],["9480",""],["9540",""],["9580",""],["9640",""],["9680",""],["9740",""],["9780",""],["9840",""],["989f",""],["9940",""],["9980",""],["9a40",""],["9a80",""],["9b40",""],["9b80",""],["9c40",""],["9c80",""],["9d40",""],["9d80",""],["9e40",""],["9e80",""],["9f40",""],["9f80",""],["e040",""],["e080",""],["e140",""],["e180",""],["e240",""],["e280",""],["e340",""],["e380",""],["e440",""],["e480",""],["e540",""],["e580",""],["e640",""],["e680",""],["e740",""],["e780",""],["e840",""],["e880",""],["e940",""],["e980",""],["ea40",""],["ea80",""],["ed40",""],["ed80",""],["ee40",""],["ee80",""],["eeef","",9,""],["f040","",62],["f080","",124],["f140","",62],["f180","",124],["f240","",62],["f280","",124],["f340","",62],["f380","",124],["f440","",62],["f480","",124],["f540","",62],["f580","",124],["f640","",62],["f680","",124],["f740","",62],["f780","",124],["f840","",62],["f880","",124],["f940",""],["fa40","",9,"",9,""],["fa80",""],["fb40",""],["fb80",""],["fc40",""]]},{}],69:[function(require,module,exports){"use strict";function Utf16BECodec(){}function Utf16BEEncoder(){}function Utf16BEDecoder(){this.overflowByte=-1}function Utf16Codec(codecOptions,iconv){this.iconv=iconv}function Utf16Encoder(options,codec){options=options||{},void 0===options.addBOM&&(options.addBOM=!0),this.encoder=codec.iconv.getEncoder("utf-16le",options)}function Utf16Decoder(options,codec){this.decoder=null,this.initialBytes=[],this.initialBytesLen=0,this.options=options||{},this.iconv=codec.iconv}function detectEncoding(buf,defaultEncoding){var enc=defaultEncoding||"utf-16le";if(buf.length>=2)if(254==buf[0]&&255==buf[1])enc="utf-16be";else if(255==buf[0]&&254==buf[1])enc="utf-16le";else{for(var asciiCharsLE=0,asciiCharsBE=0,_len=Math.min(buf.length-buf.length%2,64),i=0;_len>i;i+=2)0===buf[i]&&0!==buf[i+1]&&asciiCharsBE++,0!==buf[i]&&0===buf[i+1]&&asciiCharsLE++;asciiCharsBE>asciiCharsLE?enc="utf-16be":asciiCharsLE>asciiCharsBE&&(enc="utf-16le")}return enc}exports.utf16be=Utf16BECodec,Utf16BECodec.prototype.encoder=Utf16BEEncoder,Utf16BECodec.prototype.decoder=Utf16BEDecoder,Utf16BECodec.prototype.bomAware=!0,Utf16BEEncoder.prototype.write=function(str){for(var buf=new Buffer(str,"ucs2"),i=0;i<buf.length;i+=2){var tmp=buf[i];buf[i]=buf[i+1],buf[i+1]=tmp}return buf},Utf16BEEncoder.prototype.end=function(){},Utf16BEDecoder.prototype.write=function(buf){if(0==buf.length)return"";var buf2=new Buffer(buf.length+1),i=0,j=0;for(-1!==this.overflowByte&&(buf2[0]=buf[0],buf2[1]=this.overflowByte,i=1,j=2);i<buf.length-1;i+=2,j+=2)buf2[j]=buf[i+1],buf2[j+1]=buf[i];return this.overflowByte=i==buf.length-1?buf[buf.length-1]:-1,buf2.slice(0,j).toString("ucs2")},Utf16BEDecoder.prototype.end=function(){},exports.utf16=Utf16Codec,Utf16Codec.prototype.encoder=Utf16Encoder,Utf16Codec.prototype.decoder=Utf16Decoder,Utf16Encoder.prototype.write=function(str){return this.encoder.write(str)},Utf16Encoder.prototype.end=function(){return this.encoder.end()},Utf16Decoder.prototype.write=function(buf){if(!this.decoder){if(this.initialBytes.push(buf),this.initialBytesLen+=buf.length,this.initialBytesLen<16)return"";var buf=Buffer.concat(this.initialBytes),encoding=detectEncoding(buf,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(encoding,this.options),this.initialBytes.length=this.initialBytesLen=0}return this.decoder.write(buf)},Utf16Decoder.prototype.end=function(){if(!this.decoder){var buf=Buffer.concat(this.initialBytes),encoding=detectEncoding(buf,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(encoding,this.options);var res=this.decoder.write(buf),trail=this.decoder.end();return trail?res+trail:res}return this.decoder.end()}},{}],70:[function(require,module,exports){"use strict";function Utf7Codec(codecOptions,iconv){this.iconv=iconv}function Utf7Encoder(options,codec){this.iconv=codec.iconv}function Utf7Decoder(options,codec){this.iconv=codec.iconv,this.inBase64=!1,this.base64Accum=""}function Utf7IMAPCodec(codecOptions,iconv){this.iconv=iconv}function Utf7IMAPEncoder(options,codec){this.iconv=codec.iconv,this.inBase64=!1,this.base64Accum=new Buffer(6),this.base64AccumIdx=0}function Utf7IMAPDecoder(options,codec){this.iconv=codec.iconv,this.inBase64=!1,this.base64Accum=""}exports.utf7=Utf7Codec,exports.unicode11utf7="utf7",Utf7Codec.prototype.encoder=Utf7Encoder,Utf7Codec.prototype.decoder=Utf7Decoder,Utf7Codec.prototype.bomAware=!0;var nonDirectChars=/[^A-Za-z0-9'\(\),-\.\/:\? \n\r\t]+/g;Utf7Encoder.prototype.write=function(str){return new Buffer(str.replace(nonDirectChars,function(chunk){return"+"+("+"===chunk?"":this.iconv.encode(chunk,"utf16-be").toString("base64").replace(/=+$/,""))+"-"}.bind(this)))},Utf7Encoder.prototype.end=function(){};for(var base64Regex=/[A-Za-z0-9\/+]/,base64Chars=[],i=0;256>i;i++)base64Chars[i]=base64Regex.test(String.fromCharCode(i));var plusChar="+".charCodeAt(0),minusChar="-".charCodeAt(0),andChar="&".charCodeAt(0);Utf7Decoder.prototype.write=function(buf){for(var res="",lastI=0,inBase64=this.inBase64,base64Accum=this.base64Accum,i=0;i<buf.length;i++)if(inBase64){if(!base64Chars[buf[i]]){if(i==lastI&&buf[i]==minusChar)res+="+";else{var b64str=base64Accum+buf.slice(lastI,i).toString();res+=this.iconv.decode(new Buffer(b64str,"base64"),"utf16-be")}buf[i]!=minusChar&&i--,lastI=i+1,inBase64=!1,base64Accum=""}}else buf[i]==plusChar&&(res+=this.iconv.decode(buf.slice(lastI,i),"ascii"),lastI=i+1,inBase64=!0);if(inBase64){var b64str=base64Accum+buf.slice(lastI).toString(),canBeDecoded=b64str.length-b64str.length%8;base64Accum=b64str.slice(canBeDecoded),b64str=b64str.slice(0,canBeDecoded),res+=this.iconv.decode(new Buffer(b64str,"base64"),"utf16-be")}else res+=this.iconv.decode(buf.slice(lastI),"ascii");return this.inBase64=inBase64,this.base64Accum=base64Accum,res},Utf7Decoder.prototype.end=function(){var res="";return this.inBase64&&this.base64Accum.length>0&&(res=this.iconv.decode(new Buffer(this.base64Accum,"base64"),"utf16-be")),this.inBase64=!1,this.base64Accum="",res},exports.utf7imap=Utf7IMAPCodec,Utf7IMAPCodec.prototype.encoder=Utf7IMAPEncoder,Utf7IMAPCodec.prototype.decoder=Utf7IMAPDecoder,Utf7IMAPCodec.prototype.bomAware=!0,Utf7IMAPEncoder.prototype.write=function(str){for(var inBase64=this.inBase64,base64Accum=this.base64Accum,base64AccumIdx=this.base64AccumIdx,buf=new Buffer(5*str.length+10),bufIdx=0,i=0;i<str.length;i++){var uChar=str.charCodeAt(i);uChar>=32&&126>=uChar?(inBase64&&(base64AccumIdx>0&&(bufIdx+=buf.write(base64Accum.slice(0,base64AccumIdx).toString("base64").replace(/\//g,",").replace(/=+$/,""),bufIdx),base64AccumIdx=0),buf[bufIdx++]=minusChar,inBase64=!1),inBase64||(buf[bufIdx++]=uChar,uChar===andChar&&(buf[bufIdx++]=minusChar))):(inBase64||(buf[bufIdx++]=andChar,inBase64=!0),inBase64&&(base64Accum[base64AccumIdx++]=uChar>>8,base64Accum[base64AccumIdx++]=255&uChar,base64AccumIdx==base64Accum.length&&(bufIdx+=buf.write(base64Accum.toString("base64").replace(/\//g,","),bufIdx),base64AccumIdx=0)))}return this.inBase64=inBase64,this.base64AccumIdx=base64AccumIdx,buf.slice(0,bufIdx)},Utf7IMAPEncoder.prototype.end=function(){var buf=new Buffer(10),bufIdx=0;return this.inBase64&&(this.base64AccumIdx>0&&(bufIdx+=buf.write(this.base64Accum.slice(0,this.base64AccumIdx).toString("base64").replace(/\//g,",").replace(/=+$/,""),bufIdx),this.base64AccumIdx=0),buf[bufIdx++]=minusChar,this.inBase64=!1),buf.slice(0,bufIdx)};var base64IMAPChars=base64Chars.slice();base64IMAPChars[",".charCodeAt(0)]=!0,Utf7IMAPDecoder.prototype.write=function(buf){for(var res="",lastI=0,inBase64=this.inBase64,base64Accum=this.base64Accum,i=0;i<buf.length;i++)if(inBase64){if(!base64IMAPChars[buf[i]]){if(i==lastI&&buf[i]==minusChar)res+="&";else{var b64str=base64Accum+buf.slice(lastI,i).toString().replace(/,/g,"/");res+=this.iconv.decode(new Buffer(b64str,"base64"),"utf16-be")}buf[i]!=minusChar&&i--,lastI=i+1,inBase64=!1,base64Accum=""}}else buf[i]==andChar&&(res+=this.iconv.decode(buf.slice(lastI,i),"ascii"),lastI=i+1,inBase64=!0);if(inBase64){var b64str=base64Accum+buf.slice(lastI).toString().replace(/,/g,"/"),canBeDecoded=b64str.length-b64str.length%8;base64Accum=b64str.slice(canBeDecoded),b64str=b64str.slice(0,canBeDecoded),res+=this.iconv.decode(new Buffer(b64str,"base64"),"utf16-be")}else res+=this.iconv.decode(buf.slice(lastI),"ascii");return this.inBase64=inBase64,this.base64Accum=base64Accum,res},Utf7IMAPDecoder.prototype.end=function(){var res="";return this.inBase64&&this.base64Accum.length>0&&(res=this.iconv.decode(new Buffer(this.base64Accum,"base64"),"utf16-be")),this.inBase64=!1,this.base64Accum="",res}},{}],71:[function(require,module,exports){"use strict";function PrependBOMWrapper(encoder,options){this.encoder=encoder,this.addBOM=!0}function StripBOMWrapper(decoder,options){this.decoder=decoder,this.pass=!1,this.options=options||{}}var BOMChar="\ufeff";exports.PrependBOM=PrependBOMWrapper,PrependBOMWrapper.prototype.write=function(str){return this.addBOM&&(str=BOMChar+str,this.addBOM=!1),this.encoder.write(str)},PrependBOMWrapper.prototype.end=function(){return this.encoder.end()},exports.StripBOM=StripBOMWrapper,StripBOMWrapper.prototype.write=function(buf){var res=this.decoder.write(buf);return this.pass||!res?res:(res[0]===BOMChar&&(res=res.slice(1),"function"==typeof this.options.stripBOM&&this.options.stripBOM()),this.pass=!0,res)},StripBOMWrapper.prototype.end=function(){return this.decoder.end()}},{}],72:[function(require,module,exports){"use strict";module.exports=function(iconv){var original=void 0;iconv.supportsNodeEncodingsExtension=!(new Buffer(0)instanceof Uint8Array),iconv.extendNodeEncodings=function(){if(!original){if(original={},!iconv.supportsNodeEncodingsExtension)return console.warning("ACTION NEEDED: require('iconv-lite').extendNodeEncodings() is not supported in your version of Node"),void console.warning("See more info at https://github.com/ashtuchkin/iconv-lite/wiki/Node-v4-compatibility");var nodeNativeEncodings={hex:!0,utf8:!0,"utf-8":!0,ascii:!0,binary:!0,base64:!0,ucs2:!0,"ucs-2":!0,utf16le:!0,"utf-16le":!0};Buffer.isNativeEncoding=function(enc){return enc&&nodeNativeEncodings[enc.toLowerCase()]};var SlowBuffer=require("buffer").SlowBuffer;if(original.SlowBufferToString=SlowBuffer.prototype.toString,SlowBuffer.prototype.toString=function(encoding,start,end){return encoding=String(encoding||"utf8").toLowerCase(),Buffer.isNativeEncoding(encoding)?original.SlowBufferToString.call(this,encoding,start,end):("undefined"==typeof start&&(start=0),"undefined"==typeof end&&(end=this.length),iconv.decode(this.slice(start,end),encoding))},original.SlowBufferWrite=SlowBuffer.prototype.write,SlowBuffer.prototype.write=function(string,offset,length,encoding){if(isFinite(offset))isFinite(length)||(encoding=length,length=void 0);else{var swap=encoding;encoding=offset,offset=length,length=swap}offset=+offset||0;var remaining=this.length-offset;if(length?(length=+length,length>remaining&&(length=remaining)):length=remaining,encoding=String(encoding||"utf8").toLowerCase(),Buffer.isNativeEncoding(encoding))return original.SlowBufferWrite.call(this,string,offset,length,encoding);if(string.length>0&&(0>length||0>offset))throw new RangeError("attempt to write beyond buffer bounds");var buf=iconv.encode(string,encoding);return buf.length<length&&(length=buf.length),buf.copy(this,offset,0,length),length},original.BufferIsEncoding=Buffer.isEncoding,Buffer.isEncoding=function(encoding){return Buffer.isNativeEncoding(encoding)||iconv.encodingExists(encoding)},original.BufferByteLength=Buffer.byteLength,Buffer.byteLength=SlowBuffer.byteLength=function(str,encoding){return encoding=String(encoding||"utf8").toLowerCase(),Buffer.isNativeEncoding(encoding)?original.BufferByteLength.call(this,str,encoding):iconv.encode(str,encoding).length},original.BufferToString=Buffer.prototype.toString,Buffer.prototype.toString=function(encoding,start,end){return encoding=String(encoding||"utf8").toLowerCase(),Buffer.isNativeEncoding(encoding)?original.BufferToString.call(this,encoding,start,end):("undefined"==typeof start&&(start=0),"undefined"==typeof end&&(end=this.length),iconv.decode(this.slice(start,end),encoding))},original.BufferWrite=Buffer.prototype.write,Buffer.prototype.write=function(string,offset,length,encoding){var _offset=offset,_length=length,_encoding=encoding;if(isFinite(offset))isFinite(length)||(encoding=length,length=void 0);else{var swap=encoding;encoding=offset,offset=length,length=swap}if(encoding=String(encoding||"utf8").toLowerCase(),Buffer.isNativeEncoding(encoding))return original.BufferWrite.call(this,string,_offset,_length,_encoding);offset=+offset||0;var remaining=this.length-offset;if(length?(length=+length,length>remaining&&(length=remaining)):length=remaining,string.length>0&&(0>length||0>offset))throw new RangeError("attempt to write beyond buffer bounds");var buf=iconv.encode(string,encoding);return buf.length<length&&(length=buf.length),buf.copy(this,offset,0,length),length},iconv.supportsStreams){var Readable=require("stream").Readable;original.ReadableSetEncoding=Readable.prototype.setEncoding,Readable.prototype.setEncoding=function(enc,options){this._readableState.decoder=iconv.getDecoder(enc,options),this._readableState.encoding=enc},Readable.prototype.collect=iconv._collect}}},iconv.undoExtendNodeEncodings=function(){if(iconv.supportsNodeEncodingsExtension){if(!original)throw new Error("require('iconv-lite').undoExtendNodeEncodings(): Nothing to undo; extendNodeEncodings() is not called.");delete Buffer.isNativeEncoding;var SlowBuffer=require("buffer").SlowBuffer;if(SlowBuffer.prototype.toString=original.SlowBufferToString,SlowBuffer.prototype.write=original.SlowBufferWrite,Buffer.isEncoding=original.BufferIsEncoding,Buffer.byteLength=original.BufferByteLength,Buffer.prototype.toString=original.BufferToString,Buffer.prototype.write=original.BufferWrite,iconv.supportsStreams){var Readable=require("stream").Readable;Readable.prototype.setEncoding=original.ReadableSetEncoding,delete Readable.prototype.collect}original=void 0}}}},{buffer:void 0,stream:void 0}],73:[function(require,module,exports){"use strict";var bomHandling=require("./bom-handling"),iconv=module.exports;iconv.encodings=null,iconv.defaultCharUnicode="",iconv.defaultCharSingleByte="?",iconv.encode=function(str,encoding,options){str=""+(str||"");var encoder=iconv.getEncoder(encoding,options),res=encoder.write(str),trail=encoder.end();return trail&&trail.length>0?Buffer.concat([res,trail]):res},iconv.decode=function(buf,encoding,options){"string"==typeof buf&&(iconv.skipDecodeWarning||(console.error("Iconv-lite warning: decode()-ing strings is deprecated. Refer to https://github.com/ashtuchkin/iconv-lite/wiki/Use-Buffers-when-decoding"),iconv.skipDecodeWarning=!0),buf=new Buffer(""+(buf||""),"binary"));var decoder=iconv.getDecoder(encoding,options),res=decoder.write(buf),trail=decoder.end();return trail?res+trail:res},iconv.encodingExists=function(enc){try{return iconv.getCodec(enc),!0}catch(e){return!1}},iconv.toEncoding=iconv.encode,iconv.fromEncoding=iconv.decode,iconv._codecDataCache={},iconv.getCodec=function(encoding){iconv.encodings||(iconv.encodings=require("../encodings"));for(var enc=(""+encoding).toLowerCase().replace(/[^0-9a-z]|:\d{4}$/g,""),codecOptions={};;){var codec=iconv._codecDataCache[enc];if(codec)return codec;var codecDef=iconv.encodings[enc];switch(typeof codecDef){case"string":enc=codecDef;break;case"object":for(var key in codecDef)codecOptions[key]=codecDef[key];codecOptions.encodingName||(codecOptions.encodingName=enc),enc=codecDef.type;break;case"function":return codecOptions.encodingName||(codecOptions.encodingName=enc),codec=new codecDef(codecOptions,iconv),iconv._codecDataCache[codecOptions.encodingName]=codec,codec;default:throw new Error("Encoding not recognized: '"+encoding+"' (searched as: '"+enc+"')")}}},iconv.getEncoder=function(encoding,options){var codec=iconv.getCodec(encoding),encoder=new codec.encoder(options,codec);return codec.bomAware&&options&&options.addBOM&&(encoder=new bomHandling.PrependBOM(encoder,options)),encoder},iconv.getDecoder=function(encoding,options){var codec=iconv.getCodec(encoding),decoder=new codec.decoder(options,codec);return!codec.bomAware||options&&options.stripBOM===!1||(decoder=new bomHandling.StripBOM(decoder,options)),decoder};var nodeVer="undefined"!=typeof process&&process.versions&&process.versions.node;if(nodeVer){var nodeVerArr=nodeVer.split(".").map(Number);(nodeVerArr[0]>0||nodeVerArr[1]>=10)&&require("./streams")(iconv),require("./extend-node")(iconv)}},{"../encodings":56,"./bom-handling":71,"./extend-node":72,"./streams":74}],74:[function(require,module,exports){"use strict";function IconvLiteEncoderStream(conv,options){this.conv=conv,options=options||{},options.decodeStrings=!1,Transform.call(this,options)}function IconvLiteDecoderStream(conv,options){this.conv=conv,options=options||{},options.encoding=this.encoding="utf8",Transform.call(this,options)}var Transform=require("stream").Transform;module.exports=function(iconv){iconv.encodeStream=function(encoding,options){return new IconvLiteEncoderStream(iconv.getEncoder(encoding,options),options)},iconv.decodeStream=function(encoding,options){return new IconvLiteDecoderStream(iconv.getDecoder(encoding,options),options)},iconv.supportsStreams=!0,iconv.IconvLiteEncoderStream=IconvLiteEncoderStream,iconv.IconvLiteDecoderStream=IconvLiteDecoderStream,iconv._collect=IconvLiteDecoderStream.prototype.collect},IconvLiteEncoderStream.prototype=Object.create(Transform.prototype,{constructor:{value:IconvLiteEncoderStream}}),IconvLiteEncoderStream.prototype._transform=function(chunk,encoding,done){if("string"!=typeof chunk)return done(new Error("Iconv encoding stream needs strings as its input."));try{var res=this.conv.write(chunk);res&&res.length&&this.push(res),done()}catch(e){done(e)}},IconvLiteEncoderStream.prototype._flush=function(done){try{var res=this.conv.end();res&&res.length&&this.push(res),done()}catch(e){done(e)}},IconvLiteEncoderStream.prototype.collect=function(cb){var chunks=[];return this.on("error",cb),this.on("data",function(chunk){chunks.push(chunk)}),this.on("end",function(){cb(null,Buffer.concat(chunks))}),this},IconvLiteDecoderStream.prototype=Object.create(Transform.prototype,{constructor:{value:IconvLiteDecoderStream}}),IconvLiteDecoderStream.prototype._transform=function(chunk,encoding,done){if(!Buffer.isBuffer(chunk))return done(new Error("Iconv decoding stream needs buffers as its input."));try{var res=this.conv.write(chunk);res&&res.length&&this.push(res,this.encoding),done()}catch(e){done(e)}},IconvLiteDecoderStream.prototype._flush=function(done){try{var res=this.conv.end();res&&res.length&&this.push(res,this.encoding),done()}catch(e){done(e)}},IconvLiteDecoderStream.prototype.collect=function(cb){var res="";return this.on("error",cb),this.on("data",function(chunk){res+=chunk}),this.on("end",function(){cb(null,res)}),this}},{stream:void 0}],75:[function(require,module,exports){"use strict";function onFinished(msg,listener){return isFinished(msg)!==!1?(defer(listener,null,msg),msg):(attachListener(msg,listener),msg)}function isFinished(msg){var socket=msg.socket;return"boolean"==typeof msg.finished?Boolean(msg.finished||socket&&!socket.writable):"boolean"==typeof msg.complete?Boolean(msg.upgrade||!socket||!socket.readable||msg.complete&&!msg.readable):void 0}function attachFinishedListener(msg,callback){function onFinish(error){eeMsg.cancel(),eeSocket.cancel(),finished=!0,callback(error)}function onSocket(socket){msg.removeListener("socket",onSocket),finished||eeMsg===eeSocket&&(eeSocket=first([[socket,"error","close"]],onFinish))}var eeMsg,eeSocket,finished=!1;return eeMsg=eeSocket=first([[msg,"end","finish"]],onFinish),msg.socket?void onSocket(msg.socket):(msg.on("socket",onSocket),void(void 0===msg.socket&&patchAssignSocket(msg,onSocket)))}function attachListener(msg,listener){var attached=msg.__onFinished;attached&&attached.queue||(attached=msg.__onFinished=createListener(msg),attachFinishedListener(msg,attached)),attached.queue.push(listener)}function createListener(msg){function listener(err){if(msg.__onFinished===listener&&(msg.__onFinished=null),listener.queue){var queue=listener.queue;listener.queue=null;for(var i=0;i<queue.length;i++)queue[i](err,msg)}}return listener.queue=[],listener}function patchAssignSocket(res,callback){var assignSocket=res.assignSocket;"function"==typeof assignSocket&&(res.assignSocket=function(socket){assignSocket.call(this,socket),callback(socket)})}module.exports=onFinished,module.exports.isFinished=isFinished;var first=require("ee-first"),defer="function"==typeof setImmediate?setImmediate:function(fn){process.nextTick(fn.bind.apply(fn,arguments))}},{"ee-first":76}],76:[function(require,module,exports){"use strict";function first(stuff,done){function callback(){cleanup(),done.apply(null,arguments)}function cleanup(){for(var x,i=0;i<cleanups.length;i++)x=cleanups[i],x.ee.removeListener(x.event,x.fn)}function thunk(fn){done=fn}if(!Array.isArray(stuff))throw new TypeError("arg must be an array of [ee, events...] arrays");for(var cleanups=[],i=0;i<stuff.length;i++){var arr=stuff[i];if(!Array.isArray(arr)||arr.length<2)throw new TypeError("each array member must be [ee, events...]");for(var ee=arr[0],j=1;j<arr.length;j++){var event=arr[j],fn=listener(event,callback);ee.on(event,fn),cleanups.push({ee:ee,event:event,fn:fn})}}return thunk.cancel=cleanup,thunk}function listener(event,done){return function(arg1){for(var args=new Array(arguments.length),ee=this,err="error"===event?arg1:null,i=0;i<args.length;i++)args[i]=arguments[i];done(err,ee,event,args)}}module.exports=first},{}],77:[function(require,module,exports){var Stringify=require("./stringify"),Parse=require("./parse");module.exports={stringify:Stringify,parse:Parse}},{"./parse":78,"./stringify":79}],78:[function(require,module,exports){
var Utils=require("./utils"),internals={delimiter:"&",depth:5,arrayLimit:20,parameterLimit:1e3,strictNullHandling:!1,plainObjects:!1,allowPrototypes:!1,allowDots:!1};internals.parseValues=function(str,options){for(var obj={},parts=str.split(options.delimiter,options.parameterLimit===1/0?void 0:options.parameterLimit),i=0,il=parts.length;il>i;++i){var part=parts[i],pos=-1===part.indexOf("]=")?part.indexOf("="):part.indexOf("]=")+1;if(-1===pos)obj[Utils.decode(part)]="",options.strictNullHandling&&(obj[Utils.decode(part)]=null);else{var key=Utils.decode(part.slice(0,pos)),val=Utils.decode(part.slice(pos+1));Object.prototype.hasOwnProperty.call(obj,key)?obj[key]=[].concat(obj[key]).concat(val):obj[key]=val}}return obj},internals.parseObject=function(chain,val,options){if(!chain.length)return val;var obj,root=chain.shift();if("[]"===root)obj=[],obj=obj.concat(internals.parseObject(chain,val,options));else{obj=options.plainObjects?Object.create(null):{};var cleanRoot="["===root[0]&&"]"===root[root.length-1]?root.slice(1,root.length-1):root,index=parseInt(cleanRoot,10),indexString=""+index;!isNaN(index)&&root!==cleanRoot&&indexString===cleanRoot&&index>=0&&options.parseArrays&&index<=options.arrayLimit?(obj=[],obj[index]=internals.parseObject(chain,val,options)):obj[cleanRoot]=internals.parseObject(chain,val,options)}return obj},internals.parseKeys=function(key,val,options){if(key){options.allowDots&&(key=key.replace(/\.([^\.\[]+)/g,"[$1]"));var parent=/^([^\[\]]*)/,child=/(\[[^\[\]]*\])/g,segment=parent.exec(key),keys=[];if(segment[1]){if(!options.plainObjects&&Object.prototype.hasOwnProperty(segment[1])&&!options.allowPrototypes)return;keys.push(segment[1])}for(var i=0;null!==(segment=child.exec(key))&&i<options.depth;)++i,(options.plainObjects||!Object.prototype.hasOwnProperty(segment[1].replace(/\[|\]/g,""))||options.allowPrototypes)&&keys.push(segment[1]);return segment&&keys.push("["+key.slice(segment.index)+"]"),internals.parseObject(keys,val,options)}},module.exports=function(str,options){if(options=options||{},options.delimiter="string"==typeof options.delimiter||Utils.isRegExp(options.delimiter)?options.delimiter:internals.delimiter,options.depth="number"==typeof options.depth?options.depth:internals.depth,options.arrayLimit="number"==typeof options.arrayLimit?options.arrayLimit:internals.arrayLimit,options.parseArrays=options.parseArrays!==!1,options.allowDots="boolean"==typeof options.allowDots?options.allowDots:internals.allowDots,options.plainObjects="boolean"==typeof options.plainObjects?options.plainObjects:internals.plainObjects,options.allowPrototypes="boolean"==typeof options.allowPrototypes?options.allowPrototypes:internals.allowPrototypes,options.parameterLimit="number"==typeof options.parameterLimit?options.parameterLimit:internals.parameterLimit,options.strictNullHandling="boolean"==typeof options.strictNullHandling?options.strictNullHandling:internals.strictNullHandling,""===str||null===str||"undefined"==typeof str)return options.plainObjects?Object.create(null):{};for(var tempObj="string"==typeof str?internals.parseValues(str,options):str,obj=options.plainObjects?Object.create(null):{},keys=Object.keys(tempObj),i=0,il=keys.length;il>i;++i){var key=keys[i],newObj=internals.parseKeys(key,tempObj[key],options);obj=Utils.merge(obj,newObj,options)}return Utils.compact(obj)}},{"./utils":80}],79:[function(require,module,exports){var Utils=require("./utils"),internals={delimiter:"&",arrayPrefixGenerators:{brackets:function(prefix,key){return prefix+"[]"},indices:function(prefix,key){return prefix+"["+key+"]"},repeat:function(prefix,key){return prefix}},strictNullHandling:!1,skipNulls:!1,encode:!0};internals.stringify=function(obj,prefix,generateArrayPrefix,strictNullHandling,skipNulls,encode,filter){if("function"==typeof filter)obj=filter(prefix,obj);else if(Utils.isBuffer(obj))obj=obj.toString();else if(obj instanceof Date)obj=obj.toISOString();else if(null===obj){if(strictNullHandling)return encode?Utils.encode(prefix):prefix;obj=""}if("string"==typeof obj||"number"==typeof obj||"boolean"==typeof obj)return encode?[Utils.encode(prefix)+"="+Utils.encode(obj)]:[prefix+"="+obj];var values=[];if("undefined"==typeof obj)return values;for(var objKeys=Array.isArray(filter)?filter:Object.keys(obj),i=0,il=objKeys.length;il>i;++i){var key=objKeys[i];skipNulls&&null===obj[key]||(values=Array.isArray(obj)?values.concat(internals.stringify(obj[key],generateArrayPrefix(prefix,key),generateArrayPrefix,strictNullHandling,skipNulls,encode,filter)):values.concat(internals.stringify(obj[key],prefix+"["+key+"]",generateArrayPrefix,strictNullHandling,skipNulls,encode,filter)))}return values},module.exports=function(obj,options){options=options||{};var objKeys,filter,delimiter="undefined"==typeof options.delimiter?internals.delimiter:options.delimiter,strictNullHandling="boolean"==typeof options.strictNullHandling?options.strictNullHandling:internals.strictNullHandling,skipNulls="boolean"==typeof options.skipNulls?options.skipNulls:internals.skipNulls,encode="boolean"==typeof options.encode?options.encode:internals.encode;"function"==typeof options.filter?(filter=options.filter,obj=filter("",obj)):Array.isArray(options.filter)&&(objKeys=filter=options.filter);var keys=[];if("object"!=typeof obj||null===obj)return"";var arrayFormat;arrayFormat=options.arrayFormat in internals.arrayPrefixGenerators?options.arrayFormat:"indices"in options?options.indices?"indices":"repeat":"indices";var generateArrayPrefix=internals.arrayPrefixGenerators[arrayFormat];objKeys||(objKeys=Object.keys(obj));for(var i=0,il=objKeys.length;il>i;++i){var key=objKeys[i];skipNulls&&null===obj[key]||(keys=keys.concat(internals.stringify(obj[key],key,generateArrayPrefix,strictNullHandling,skipNulls,encode,filter)))}return keys.join(delimiter)}},{"./utils":80}],80:[function(require,module,exports){var internals={};internals.hexTable=new Array(256);for(var h=0;256>h;++h)internals.hexTable[h]="%"+((16>h?"0":"")+h.toString(16)).toUpperCase();exports.arrayToObject=function(source,options){for(var obj=options.plainObjects?Object.create(null):{},i=0,il=source.length;il>i;++i)"undefined"!=typeof source[i]&&(obj[i]=source[i]);return obj},exports.merge=function(target,source,options){if(!source)return target;if("object"!=typeof source)return Array.isArray(target)?target.push(source):"object"==typeof target?target[source]=!0:target=[target,source],target;if("object"!=typeof target)return target=[target].concat(source);Array.isArray(target)&&!Array.isArray(source)&&(target=exports.arrayToObject(target,options));for(var keys=Object.keys(source),k=0,kl=keys.length;kl>k;++k){var key=keys[k],value=source[key];Object.prototype.hasOwnProperty.call(target,key)?target[key]=exports.merge(target[key],value,options):target[key]=value}return target},exports.decode=function(str){try{return decodeURIComponent(str.replace(/\+/g," "))}catch(e){return str}},exports.encode=function(str){if(0===str.length)return str;"string"!=typeof str&&(str=""+str);for(var out="",i=0,il=str.length;il>i;++i){var c=str.charCodeAt(i);45===c||46===c||95===c||126===c||c>=48&&57>=c||c>=65&&90>=c||c>=97&&122>=c?out+=str[i]:128>c?out+=internals.hexTable[c]:2048>c?out+=internals.hexTable[192|c>>6]+internals.hexTable[128|63&c]:55296>c||c>=57344?out+=internals.hexTable[224|c>>12]+internals.hexTable[128|c>>6&63]+internals.hexTable[128|63&c]:(++i,c=65536+((1023&c)<<10|1023&str.charCodeAt(i)),out+=internals.hexTable[240|c>>18]+internals.hexTable[128|c>>12&63]+internals.hexTable[128|c>>6&63]+internals.hexTable[128|63&c])}return out},exports.compact=function(obj,refs){if("object"!=typeof obj||null===obj)return obj;refs=refs||[];var lookup=refs.indexOf(obj);if(-1!==lookup)return refs[lookup];if(refs.push(obj),Array.isArray(obj)){for(var compacted=[],i=0,il=obj.length;il>i;++i)"undefined"!=typeof obj[i]&&compacted.push(obj[i]);return compacted}var keys=Object.keys(obj);for(i=0,il=keys.length;il>i;++i){var key=keys[i];obj[key]=exports.compact(obj[key],refs)}return obj},exports.isRegExp=function(obj){return"[object RegExp]"===Object.prototype.toString.call(obj)},exports.isBuffer=function(obj){return null===obj||"undefined"==typeof obj?!1:!!(obj.constructor&&obj.constructor.isBuffer&&obj.constructor.isBuffer(obj))}},{}],81:[function(require,module,exports){"use strict";function getDecoder(encoding){if(!encoding)return null;try{return iconv.getDecoder(encoding)}catch(e){if(!iconvEncodingMessageRegExp.test(e.message))throw e;throw createError(415,"specified encoding unsupported","encoding.unsupported",{encoding:encoding})}}function getRawBody(stream,options,callback){var done=callback,opts=options||{};if(options!==!0&&"string"!=typeof options||(opts={encoding:options}),"function"==typeof options&&(done=options,opts={}),void 0!==done&&"function"!=typeof done)throw new TypeError("argument callback must be a function");if(!done&&!global.Promise)throw new TypeError("argument callback is required");var encoding=opts.encoding!==!0?opts.encoding:"utf-8",limit=bytes.parse(opts.limit),length=null==opts.length||isNaN(opts.length)?null:parseInt(opts.length,10);return done?readStream(stream,encoding,length,limit,done):new Promise(function(resolve,reject){readStream(stream,encoding,length,limit,function(err,buf){return err?reject(err):void resolve(buf)})})}function halt(stream){unpipe(stream),"function"==typeof stream.pause&&stream.pause()}function createError(status,message,type,props){var error=new Error;Error.captureStackTrace(error,createError);for(var prop in props)error[prop]=props[prop];return error.message=message,error.status=status,error.statusCode=status,Object.defineProperty(error,"type",{value:type,enumerable:!0,writable:!0,configurable:!0}),error}function readStream(stream,encoding,length,limit,callback){function done(){function invokeCallback(){cleanup(),args[0]&&halt(stream),callback.apply(null,args)}for(var args=new Array(arguments.length),i=0;i<args.length;i++)args[i]=arguments[i];complete=!0,sync?process.nextTick(invokeCallback):invokeCallback()}function onAborted(){complete||done(createError(400,"request aborted","request.aborted",{code:"ECONNABORTED",expected:length,length:length,received:received}))}function onData(chunk){complete||(received+=chunk.length,decoder?buffer+=decoder.write(chunk):buffer.push(chunk),null!==limit&&received>limit&&done(createError(413,"request entity too large","entity.too.large",{limit:limit,received:received})))}function onEnd(err){if(!complete){if(err)return done(err);if(null!==length&&received!==length)done(createError(400,"request size did not match content length","request.size.invalid",{expected:length,length:length,received:received}));else{var string=decoder?buffer+(decoder.end()||""):Buffer.concat(buffer);cleanup(),done(null,string)}}}function cleanup(){buffer=null,stream.removeListener("aborted",onAborted),stream.removeListener("data",onData),stream.removeListener("end",onEnd),stream.removeListener("error",onEnd),stream.removeListener("close",cleanup)}var complete=!1,sync=!0;if(null!==limit&&null!==length&&length>limit)return done(createError(413,"request entity too large","entity.too.large",{expected:length,length:length,limit:limit}));var state=stream._readableState;if(stream._decoder||state&&(state.encoding||state.decoder))return done(createError(500,"stream encoding should not be set","stream.encoding.set"));var decoder,received=0;try{decoder=getDecoder(encoding)}catch(err){return done(err)}var buffer=decoder?"":[];stream.on("aborted",onAborted),stream.on("close",cleanup),stream.on("data",onData),stream.on("end",onEnd),stream.on("error",onEnd),sync=!1}var bytes=require("bytes"),iconv=require("iconv-lite"),unpipe=require("unpipe");module.exports=getRawBody;var iconvEncodingMessageRegExp=/^Encoding not recognized: /},{bytes:82,"iconv-lite":102,unpipe:104}],82:[function(require,module,exports){"use strict";function bytes(value,options){return"string"==typeof value?parse(value):"number"==typeof value?format(value,options):null}function format(value,options){if(!numberIsFinite(value))return null;var mag=Math.abs(value),thousandsSeparator=options&&options.thousandsSeparator||"",decimalPlaces=options&&void 0!==options.decimalPlaces?options.decimalPlaces:2,fixedDecimals=Boolean(options&&options.fixedDecimals),unit="B";mag>=map.tb?unit="TB":mag>=map.gb?unit="GB":mag>=map.mb?unit="MB":mag>=map.kb&&(unit="kB");var val=value/map[unit.toLowerCase()],str=val.toFixed(decimalPlaces);return fixedDecimals||(str=str.replace(formatDecimalsRegExp,"$1")),thousandsSeparator&&(str=str.replace(formatThousandsRegExp,thousandsSeparator)),str+unit}function parse(val){if("number"==typeof val&&!isNaN(val))return val;if("string"!=typeof val)return null;var floatValue,results=parseRegExp.exec(val),unit="b";return results?(floatValue=parseFloat(results[1]),unit=results[4].toLowerCase()):(floatValue=parseInt(val,10),unit="b"),Math.floor(map[unit]*floatValue)}module.exports=bytes,module.exports.format=format,module.exports.parse=parse;var formatThousandsRegExp=/\B(?=(\d{3})+(?!\d))/g,formatDecimalsRegExp=/(?:\.0*|(\.[^0]+)0+)$/,map={b:1,kb:1024,mb:1<<20,gb:1<<30,tb:1024*(1<<30)},numberIsFinite=Number.isFinite||function(v){return"number"==typeof v&&isFinite(v)},parseRegExp=/^((-|\+)?(\d+(?:\.\d+)?)) *(kb|mb|gb|tb)$/i},{}],83:[function(require,module,exports){arguments[4][54][0].apply(exports,arguments)},{dup:54}],84:[function(require,module,exports){arguments[4][55][0].apply(exports,arguments)},{"./tables/big5-added.json":90,"./tables/cp936.json":91,"./tables/cp949.json":92,"./tables/cp950.json":93,"./tables/eucjp.json":94,"./tables/gb18030-ranges.json":95,"./tables/gbk-added.json":96,"./tables/shiftjis.json":97,dup:55}],85:[function(require,module,exports){arguments[4][56][0].apply(exports,arguments)},{"./dbcs-codec":83,"./dbcs-data":84,"./internal":86,"./sbcs-codec":87,"./sbcs-data":89,"./sbcs-data-generated":88,"./utf16":98,"./utf7":99,dup:56}],86:[function(require,module,exports){arguments[4][57][0].apply(exports,arguments)},{dup:57,string_decoder:void 0}],87:[function(require,module,exports){arguments[4][58][0].apply(exports,arguments)},{dup:58}],88:[function(require,module,exports){arguments[4][59][0].apply(exports,arguments)},{dup:59}],89:[function(require,module,exports){arguments[4][60][0].apply(exports,arguments)},{dup:60}],90:[function(require,module,exports){arguments[4][61][0].apply(exports,arguments)},{dup:61}],91:[function(require,module,exports){arguments[4][62][0].apply(exports,arguments)},{dup:62}],92:[function(require,module,exports){arguments[4][63][0].apply(exports,arguments)},{dup:63}],93:[function(require,module,exports){arguments[4][64][0].apply(exports,arguments)},{dup:64}],94:[function(require,module,exports){arguments[4][65][0].apply(exports,arguments)},{dup:65}],95:[function(require,module,exports){arguments[4][66][0].apply(exports,arguments)},{dup:66}],96:[function(require,module,exports){arguments[4][67][0].apply(exports,arguments)},{dup:67}],97:[function(require,module,exports){arguments[4][68][0].apply(exports,arguments)},{dup:68}],98:[function(require,module,exports){arguments[4][69][0].apply(exports,arguments)},{dup:69}],99:[function(require,module,exports){arguments[4][70][0].apply(exports,arguments)},{dup:70}],100:[function(require,module,exports){arguments[4][71][0].apply(exports,arguments)},{dup:71}],101:[function(require,module,exports){"use strict";module.exports=function(iconv){var original=void 0;iconv.supportsNodeEncodingsExtension=!(new Buffer(0)instanceof Uint8Array),iconv.extendNodeEncodings=function(){if(!original){if(original={},!iconv.supportsNodeEncodingsExtension)return console.error("ACTION NEEDED: require('iconv-lite').extendNodeEncodings() is not supported in your version of Node"),void console.error("See more info at https://github.com/ashtuchkin/iconv-lite/wiki/Node-v4-compatibility");var nodeNativeEncodings={hex:!0,utf8:!0,"utf-8":!0,ascii:!0,binary:!0,base64:!0,ucs2:!0,"ucs-2":!0,utf16le:!0,"utf-16le":!0};Buffer.isNativeEncoding=function(enc){return enc&&nodeNativeEncodings[enc.toLowerCase()]};var SlowBuffer=require("buffer").SlowBuffer;if(original.SlowBufferToString=SlowBuffer.prototype.toString,SlowBuffer.prototype.toString=function(encoding,start,end){return encoding=String(encoding||"utf8").toLowerCase(),Buffer.isNativeEncoding(encoding)?original.SlowBufferToString.call(this,encoding,start,end):("undefined"==typeof start&&(start=0),"undefined"==typeof end&&(end=this.length),iconv.decode(this.slice(start,end),encoding))},original.SlowBufferWrite=SlowBuffer.prototype.write,SlowBuffer.prototype.write=function(string,offset,length,encoding){if(isFinite(offset))isFinite(length)||(encoding=length,length=void 0);else{var swap=encoding;encoding=offset,offset=length,length=swap}offset=+offset||0;var remaining=this.length-offset;if(length?(length=+length,length>remaining&&(length=remaining)):length=remaining,encoding=String(encoding||"utf8").toLowerCase(),Buffer.isNativeEncoding(encoding))return original.SlowBufferWrite.call(this,string,offset,length,encoding);if(string.length>0&&(0>length||0>offset))throw new RangeError("attempt to write beyond buffer bounds");var buf=iconv.encode(string,encoding);return buf.length<length&&(length=buf.length),buf.copy(this,offset,0,length),length},original.BufferIsEncoding=Buffer.isEncoding,Buffer.isEncoding=function(encoding){return Buffer.isNativeEncoding(encoding)||iconv.encodingExists(encoding)},original.BufferByteLength=Buffer.byteLength,Buffer.byteLength=SlowBuffer.byteLength=function(str,encoding){return encoding=String(encoding||"utf8").toLowerCase(),Buffer.isNativeEncoding(encoding)?original.BufferByteLength.call(this,str,encoding):iconv.encode(str,encoding).length},original.BufferToString=Buffer.prototype.toString,Buffer.prototype.toString=function(encoding,start,end){return encoding=String(encoding||"utf8").toLowerCase(),Buffer.isNativeEncoding(encoding)?original.BufferToString.call(this,encoding,start,end):("undefined"==typeof start&&(start=0),"undefined"==typeof end&&(end=this.length),iconv.decode(this.slice(start,end),encoding))},original.BufferWrite=Buffer.prototype.write,Buffer.prototype.write=function(string,offset,length,encoding){var _offset=offset,_length=length,_encoding=encoding;if(isFinite(offset))isFinite(length)||(encoding=length,length=void 0);else{var swap=encoding;encoding=offset,offset=length,length=swap}if(encoding=String(encoding||"utf8").toLowerCase(),Buffer.isNativeEncoding(encoding))return original.BufferWrite.call(this,string,_offset,_length,_encoding);offset=+offset||0;var remaining=this.length-offset;if(length?(length=+length,length>remaining&&(length=remaining)):length=remaining,string.length>0&&(0>length||0>offset))throw new RangeError("attempt to write beyond buffer bounds");var buf=iconv.encode(string,encoding);return buf.length<length&&(length=buf.length),buf.copy(this,offset,0,length),length},iconv.supportsStreams){var Readable=require("stream").Readable;original.ReadableSetEncoding=Readable.prototype.setEncoding,Readable.prototype.setEncoding=function(enc,options){this._readableState.decoder=iconv.getDecoder(enc,options),this._readableState.encoding=enc},Readable.prototype.collect=iconv._collect}}},iconv.undoExtendNodeEncodings=function(){if(iconv.supportsNodeEncodingsExtension){if(!original)throw new Error("require('iconv-lite').undoExtendNodeEncodings(): Nothing to undo; extendNodeEncodings() is not called.");delete Buffer.isNativeEncoding;var SlowBuffer=require("buffer").SlowBuffer;if(SlowBuffer.prototype.toString=original.SlowBufferToString,SlowBuffer.prototype.write=original.SlowBufferWrite,Buffer.isEncoding=original.BufferIsEncoding,Buffer.byteLength=original.BufferByteLength,Buffer.prototype.toString=original.BufferToString,Buffer.prototype.write=original.BufferWrite,iconv.supportsStreams){var Readable=require("stream").Readable;Readable.prototype.setEncoding=original.ReadableSetEncoding,delete Readable.prototype.collect}original=void 0}}}},{buffer:void 0,stream:void 0}],102:[function(require,module,exports){arguments[4][73][0].apply(exports,arguments)},{"../encodings":85,"./bom-handling":100,"./extend-node":101,"./streams":103,dup:73}],103:[function(require,module,exports){arguments[4][74][0].apply(exports,arguments)},{dup:74,stream:void 0}],104:[function(require,module,exports){"use strict";function hasPipeDataListeners(stream){for(var listeners=stream.listeners("data"),i=0;i<listeners.length;i++)if("ondata"===listeners[i].name)return!0;return!1}function unpipe(stream){if(!stream)throw new TypeError("argument stream is required");if("function"==typeof stream.unpipe)return void stream.unpipe();if(hasPipeDataListeners(stream))for(var listener,listeners=stream.listeners("close"),i=0;i<listeners.length;i++)listener=listeners[i],"cleanup"!==listener.name&&"onclose"!==listener.name||listener.call(stream)}module.exports=unpipe},{}],105:[function(require,module,exports){"use strict";function typeis(value,types_){var i,types=types_,val=tryNormalizeType(value);if(!val)return!1;if(types&&!Array.isArray(types))for(types=new Array(arguments.length-1),i=0;i<types.length;i++)types[i]=arguments[i+1];if(!types||!types.length)return val;var type;for(i=0;i<types.length;i++)if(mimeMatch(normalize(type=types[i]),val))return"+"===type[0]||-1!==type.indexOf("*")?val:type;return!1}function hasbody(req){return void 0!==req.headers["transfer-encoding"]||!isNaN(req.headers["content-length"])}function typeofrequest(req,types_){var types=types_;if(!hasbody(req))return null;if(arguments.length>2){types=new Array(arguments.length-1);for(var i=0;i<types.length;i++)types[i]=arguments[i+1]}var value=req.headers["content-type"];return typeis(value,types)}function normalize(type){if("string"!=typeof type)return!1;switch(type){case"urlencoded":return"application/x-www-form-urlencoded";case"multipart":return"multipart/*"}return"+"===type[0]?"*/*"+type:-1===type.indexOf("/")?mime.lookup(type):type}function mimeMatch(expected,actual){if(expected===!1)return!1;var actualParts=actual.split("/"),expectedParts=expected.split("/");return 2!==actualParts.length||2!==expectedParts.length?!1:"*"!==expectedParts[0]&&expectedParts[0]!==actualParts[0]?!1:"*+"===expectedParts[1].substr(0,2)?expectedParts[1].length<=actualParts[1].length+1&&expectedParts[1].substr(1)===actualParts[1].substr(1-expectedParts[1].length):"*"===expectedParts[1]||expectedParts[1]===actualParts[1]}function normalizeType(value){var type=typer.parse(value);return type.parameters=void 0,typer.format(type)}function tryNormalizeType(value){try{return normalizeType(value)}catch(err){return null}}var typer=require("media-typer"),mime=require("mime-types");module.exports=typeofrequest,module.exports.is=typeis,module.exports.hasBody=hasbody,module.exports.normalize=normalize,module.exports.match=mimeMatch},{"media-typer":106,"mime-types":107}],106:[function(require,module,exports){function format(obj){if(!obj||"object"!=typeof obj)throw new TypeError("argument obj is required");var parameters=obj.parameters,subtype=obj.subtype,suffix=obj.suffix,type=obj.type;if(!type||!typeNameRegExp.test(type))throw new TypeError("invalid type");if(!subtype||!subtypeNameRegExp.test(subtype))throw new TypeError("invalid subtype");var string=type+"/"+subtype;if(suffix){if(!typeNameRegExp.test(suffix))throw new TypeError("invalid suffix");string+="+"+suffix}if(parameters&&"object"==typeof parameters)for(var param,params=Object.keys(parameters).sort(),i=0;i<params.length;i++){if(param=params[i],!tokenRegExp.test(param))throw new TypeError("invalid parameter name");string+="; "+param+"="+qstring(parameters[param])}return string}function parse(string){if(!string)throw new TypeError("argument string is required");if("object"==typeof string&&(string=getcontenttype(string)),"string"!=typeof string)throw new TypeError("argument string is required to be a string");var key,match,value,index=string.indexOf(";"),type=-1!==index?string.substr(0,index):string,obj=splitType(type),params={};for(paramRegExp.lastIndex=index;match=paramRegExp.exec(string);){if(match.index!==index)throw new TypeError("invalid parameter format");index+=match[0].length,key=match[1].toLowerCase(),value=match[2],'"'===value[0]&&(value=value.substr(1,value.length-2).replace(qescRegExp,"$1")),params[key]=value}if(-1!==index&&index!==string.length)throw new TypeError("invalid parameter format");return obj.parameters=params,obj}function getcontenttype(obj){return"function"==typeof obj.getHeader?obj.getHeader("content-type"):"object"==typeof obj.headers?obj.headers&&obj.headers["content-type"]:void 0}function qstring(val){var str=String(val);if(tokenRegExp.test(str))return str;if(str.length>0&&!textRegExp.test(str))throw new TypeError("invalid parameter value");return'"'+str.replace(quoteRegExp,"\\$1")+'"'}function splitType(string){var match=typeRegExp.exec(string.toLowerCase());if(!match)throw new TypeError("invalid media type");var suffix,type=match[1],subtype=match[2],index=subtype.lastIndexOf("+");-1!==index&&(suffix=subtype.substr(index+1),subtype=subtype.substr(0,index));var obj={type:type,subtype:subtype,suffix:suffix};return obj}var paramRegExp=/; *([!#$%&'\*\+\-\.0-9A-Z\^_`a-z\|~]+) *= *("(?:[ !\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\u0020-\u007e])*"|[!#$%&'\*\+\-\.0-9A-Z\^_`a-z\|~]+) */g,textRegExp=/^[\u0020-\u007e\u0080-\u00ff]+$/,tokenRegExp=/^[!#$%&'\*\+\-\.0-9A-Z\^_`a-z\|~]+$/,qescRegExp=/\\([\u0000-\u007f])/g,quoteRegExp=/([\\"])/g,subtypeNameRegExp=/^[A-Za-z0-9][A-Za-z0-9!#$&^_.-]{0,126}$/,typeNameRegExp=/^[A-Za-z0-9][A-Za-z0-9!#$&^_-]{0,126}$/,typeRegExp=/^ *([A-Za-z0-9][A-Za-z0-9!#$&^_-]{0,126})\/([A-Za-z0-9][A-Za-z0-9!#$&^_.+-]{0,126}) *$/;exports.format=format,exports.parse=parse},{}],107:[function(require,module,exports){"use strict";function charset(type){if(!type||"string"!=typeof type)return!1;var match=extractTypeRegExp.exec(type),mime=match&&db[match[1].toLowerCase()];return mime&&mime.charset?mime.charset:match&&textTypeRegExp.test(match[1])?"UTF-8":!1}function contentType(str){if(!str||"string"!=typeof str)return!1;var mime=-1===str.indexOf("/")?exports.lookup(str):str;if(!mime)return!1;if(-1===mime.indexOf("charset")){var charset=exports.charset(mime);charset&&(mime+="; charset="+charset.toLowerCase())}return mime}function extension(type){if(!type||"string"!=typeof type)return!1;var match=extractTypeRegExp.exec(type),exts=match&&exports.extensions[match[1].toLowerCase()];return exts&&exts.length?exts[0]:!1}function lookup(path){if(!path||"string"!=typeof path)return!1;var extension=extname("x."+path).toLowerCase().substr(1);return extension?exports.types[extension]||!1:!1}function populateMaps(extensions,types){var preference=["nginx","apache",void 0,"iana"];Object.keys(db).forEach(function(type){var mime=db[type],exts=mime.extensions;if(exts&&exts.length){extensions[type]=exts;for(var i=0;i<exts.length;i++){var extension=exts[i];if(types[extension]){var from=preference.indexOf(db[types[extension]].source),to=preference.indexOf(mime.source);if("application/octet-stream"!==types[extension]&&from>to||from===to&&"application/"===types[extension].substr(0,12))continue}types[extension]=type}}})}var db=require("mime-db"),extname=require("path").extname,extractTypeRegExp=/^\s*([^;\s]*)(?:;|\s|$)/,textTypeRegExp=/^text\//i;exports.charset=charset,exports.charsets={lookup:charset},exports.contentType=contentType,exports.extension=extension,exports.extensions=Object.create(null),exports.lookup=lookup,exports.types=Object.create(null),populateMaps(exports.extensions,exports.types)},{"mime-db":109,path:void 0}],108:[function(require,module,exports){module.exports={"application/1d-interleaved-parityfec":{source:"iana"},"application/3gpdash-qoe-report+xml":{source:"iana"},"application/3gpp-ims+xml":{source:"iana"},"application/a2l":{source:"iana"},"application/activemessage":{source:"iana"},"application/alto-costmap+json":{source:"iana",compressible:!0},"application/alto-costmapfilter+json":{source:"iana",compressible:!0},"application/alto-directory+json":{source:"iana",compressible:!0},"application/alto-endpointcost+json":{source:"iana",compressible:!0},"application/alto-endpointcostparams+json":{source:"iana",compressible:!0},"application/alto-endpointprop+json":{source:"iana",compressible:!0},"application/alto-endpointpropparams+json":{source:"iana",compressible:!0},"application/alto-error+json":{source:"iana",compressible:!0},"application/alto-networkmap+json":{source:"iana",compressible:!0},"application/alto-networkmapfilter+json":{source:"iana",compressible:!0},"application/aml":{source:"iana"},"application/andrew-inset":{source:"iana",extensions:["ez"]},"application/applefile":{source:"iana"},"application/applixware":{source:"apache",extensions:["aw"]},"application/atf":{source:"iana"},"application/atfx":{source:"iana"},"application/atom+xml":{source:"iana",compressible:!0,extensions:["atom"]},"application/atomcat+xml":{source:"iana",extensions:["atomcat"]},"application/atomdeleted+xml":{source:"iana"},"application/atomicmail":{source:"iana"},"application/atomsvc+xml":{source:"iana",extensions:["atomsvc"]},"application/atxml":{source:"iana"},"application/auth-policy+xml":{source:"iana"},"application/bacnet-xdd+zip":{source:"iana"},"application/batch-smtp":{source:"iana"},"application/bdoc":{compressible:!1,extensions:["bdoc"]},"application/beep+xml":{source:"iana"},"application/calendar+json":{source:"iana",compressible:!0},"application/calendar+xml":{source:"iana"},"application/call-completion":{source:"iana"},"application/cals-1840":{source:"iana"},"application/cbor":{source:"iana"},"application/ccmp+xml":{source:"iana"},"application/ccxml+xml":{source:"iana",extensions:["ccxml"]},"application/cdfx+xml":{source:"iana"},"application/cdmi-capability":{source:"iana",extensions:["cdmia"]},"application/cdmi-container":{source:"iana",extensions:["cdmic"]},"application/cdmi-domain":{source:"iana",extensions:["cdmid"]},"application/cdmi-object":{source:"iana",extensions:["cdmio"]},"application/cdmi-queue":{source:"iana",extensions:["cdmiq"]},"application/cdni":{source:"iana"},"application/cea":{source:"iana"},"application/cea-2018+xml":{source:"iana"},"application/cellml+xml":{source:"iana"},"application/cfw":{source:"iana"},"application/cms":{source:"iana"},"application/cnrp+xml":{source:"iana"},"application/coap-group+json":{source:"iana",compressible:!0},"application/commonground":{source:"iana"},"application/conference-info+xml":{source:"iana"},"application/cpl+xml":{source:"iana"},"application/csrattrs":{source:"iana"},"application/csta+xml":{source:"iana"},"application/cstadata+xml":{source:"iana"},"application/csvm+json":{source:"iana",compressible:!0},"application/cu-seeme":{source:"apache",extensions:["cu"]},"application/cybercash":{source:"iana"},"application/dart":{compressible:!0},"application/dash+xml":{source:"iana",extensions:["mpd"]},"application/dashdelta":{source:"iana"},"application/davmount+xml":{source:"iana",extensions:["davmount"]},"application/dca-rft":{source:"iana"},"application/dcd":{source:"iana"},"application/dec-dx":{source:"iana"},"application/dialog-info+xml":{source:"iana"},"application/dicom":{source:"iana"},"application/dii":{source:"iana"},"application/dit":{source:"iana"},"application/dns":{source:"iana"},"application/docbook+xml":{source:"apache",extensions:["dbk"]},"application/dskpp+xml":{source:"iana"},"application/dssc+der":{source:"iana",extensions:["dssc"]},"application/dssc+xml":{source:"iana",extensions:["xdssc"]},"application/dvcs":{source:"iana"},"application/ecmascript":{source:"iana",compressible:!0,extensions:["ecma"]},"application/edi-consent":{source:"iana"},"application/edi-x12":{source:"iana",compressible:!1},"application/edifact":{source:"iana",compressible:!1},"application/emergencycalldata.comment+xml":{source:"iana"},"application/emergencycalldata.deviceinfo+xml":{source:"iana"},"application/emergencycalldata.providerinfo+xml":{source:"iana"},"application/emergencycalldata.serviceinfo+xml":{source:"iana"
},"application/emergencycalldata.subscriberinfo+xml":{source:"iana"},"application/emma+xml":{source:"iana",extensions:["emma"]},"application/emotionml+xml":{source:"iana"},"application/encaprtp":{source:"iana"},"application/epp+xml":{source:"iana"},"application/epub+zip":{source:"iana",extensions:["epub"]},"application/eshop":{source:"iana"},"application/exi":{source:"iana",extensions:["exi"]},"application/fastinfoset":{source:"iana"},"application/fastsoap":{source:"iana"},"application/fdt+xml":{source:"iana"},"application/fits":{source:"iana"},"application/font-sfnt":{source:"iana"},"application/font-tdpfr":{source:"iana",extensions:["pfr"]},"application/font-woff":{source:"iana",compressible:!1,extensions:["woff"]},"application/font-woff2":{compressible:!1,extensions:["woff2"]},"application/framework-attributes+xml":{source:"iana"},"application/gml+xml":{source:"apache",extensions:["gml"]},"application/gpx+xml":{source:"apache",extensions:["gpx"]},"application/gxf":{source:"apache",extensions:["gxf"]},"application/gzip":{source:"iana",compressible:!1},"application/h224":{source:"iana"},"application/held+xml":{source:"iana"},"application/http":{source:"iana"},"application/hyperstudio":{source:"iana",extensions:["stk"]},"application/ibe-key-request+xml":{source:"iana"},"application/ibe-pkg-reply+xml":{source:"iana"},"application/ibe-pp-data":{source:"iana"},"application/iges":{source:"iana"},"application/im-iscomposing+xml":{source:"iana"},"application/index":{source:"iana"},"application/index.cmd":{source:"iana"},"application/index.obj":{source:"iana"},"application/index.response":{source:"iana"},"application/index.vnd":{source:"iana"},"application/inkml+xml":{source:"iana",extensions:["ink","inkml"]},"application/iotp":{source:"iana"},"application/ipfix":{source:"iana",extensions:["ipfix"]},"application/ipp":{source:"iana"},"application/isup":{source:"iana"},"application/its+xml":{source:"iana"},"application/java-archive":{source:"apache",compressible:!1,extensions:["jar","war","ear"]},"application/java-serialized-object":{source:"apache",compressible:!1,extensions:["ser"]},"application/java-vm":{source:"apache",compressible:!1,extensions:["class"]},"application/javascript":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["js"]},"application/jose":{source:"iana"},"application/jose+json":{source:"iana",compressible:!0},"application/jrd+json":{source:"iana",compressible:!0},"application/json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["json","map"]},"application/json-patch+json":{source:"iana",compressible:!0},"application/json-seq":{source:"iana"},"application/json5":{extensions:["json5"]},"application/jsonml+json":{source:"apache",compressible:!0,extensions:["jsonml"]},"application/jwk+json":{source:"iana",compressible:!0},"application/jwk-set+json":{source:"iana",compressible:!0},"application/jwt":{source:"iana"},"application/kpml-request+xml":{source:"iana"},"application/kpml-response+xml":{source:"iana"},"application/ld+json":{source:"iana",compressible:!0,extensions:["jsonld"]},"application/link-format":{source:"iana"},"application/load-control+xml":{source:"iana"},"application/lost+xml":{source:"iana",extensions:["lostxml"]},"application/lostsync+xml":{source:"iana"},"application/lxf":{source:"iana"},"application/mac-binhex40":{source:"iana",extensions:["hqx"]},"application/mac-compactpro":{source:"apache",extensions:["cpt"]},"application/macwriteii":{source:"iana"},"application/mads+xml":{source:"iana",extensions:["mads"]},"application/manifest+json":{charset:"UTF-8",compressible:!0,extensions:["webmanifest"]},"application/marc":{source:"iana",extensions:["mrc"]},"application/marcxml+xml":{source:"iana",extensions:["mrcx"]},"application/mathematica":{source:"iana",extensions:["ma","nb","mb"]},"application/mathml+xml":{source:"iana",extensions:["mathml"]},"application/mathml-content+xml":{source:"iana"},"application/mathml-presentation+xml":{source:"iana"},"application/mbms-associated-procedure-description+xml":{source:"iana"},"application/mbms-deregister+xml":{source:"iana"},"application/mbms-envelope+xml":{source:"iana"},"application/mbms-msk+xml":{source:"iana"},"application/mbms-msk-response+xml":{source:"iana"},"application/mbms-protection-description+xml":{source:"iana"},"application/mbms-reception-report+xml":{source:"iana"},"application/mbms-register+xml":{source:"iana"},"application/mbms-register-response+xml":{source:"iana"},"application/mbms-schedule+xml":{source:"iana"},"application/mbms-user-service-description+xml":{source:"iana"},"application/mbox":{source:"iana",extensions:["mbox"]},"application/media-policy-dataset+xml":{source:"iana"},"application/media_control+xml":{source:"iana"},"application/mediaservercontrol+xml":{source:"iana",extensions:["mscml"]},"application/merge-patch+json":{source:"iana",compressible:!0},"application/metalink+xml":{source:"apache",extensions:["metalink"]},"application/metalink4+xml":{source:"iana",extensions:["meta4"]},"application/mets+xml":{source:"iana",extensions:["mets"]},"application/mf4":{source:"iana"},"application/mikey":{source:"iana"},"application/mods+xml":{source:"iana",extensions:["mods"]},"application/moss-keys":{source:"iana"},"application/moss-signature":{source:"iana"},"application/mosskey-data":{source:"iana"},"application/mosskey-request":{source:"iana"},"application/mp21":{source:"iana",extensions:["m21","mp21"]},"application/mp4":{source:"iana",extensions:["mp4s","m4p"]},"application/mpeg4-generic":{source:"iana"},"application/mpeg4-iod":{source:"iana"},"application/mpeg4-iod-xmt":{source:"iana"},"application/mrb-consumer+xml":{source:"iana"},"application/mrb-publish+xml":{source:"iana"},"application/msc-ivr+xml":{source:"iana"},"application/msc-mixer+xml":{source:"iana"},"application/msword":{source:"iana",compressible:!1,extensions:["doc","dot"]},"application/mxf":{source:"iana",extensions:["mxf"]},"application/nasdata":{source:"iana"},"application/news-checkgroups":{source:"iana"},"application/news-groupinfo":{source:"iana"},"application/news-transmission":{source:"iana"},"application/nlsml+xml":{source:"iana"},"application/nss":{source:"iana"},"application/ocsp-request":{source:"iana"},"application/ocsp-response":{source:"iana"},"application/octet-stream":{source:"iana",compressible:!1,extensions:["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{source:"iana",extensions:["oda"]},"application/odx":{source:"iana"},"application/oebps-package+xml":{source:"iana",extensions:["opf"]},"application/ogg":{source:"iana",compressible:!1,extensions:["ogx"]},"application/omdoc+xml":{source:"apache",extensions:["omdoc"]},"application/onenote":{source:"apache",extensions:["onetoc","onetoc2","onetmp","onepkg"]},"application/oxps":{source:"iana",extensions:["oxps"]},"application/p2p-overlay+xml":{source:"iana"},"application/parityfec":{source:"iana"},"application/patch-ops-error+xml":{source:"iana",extensions:["xer"]},"application/pdf":{source:"iana",compressible:!1,extensions:["pdf"]},"application/pdx":{source:"iana"},"application/pgp-encrypted":{source:"iana",compressible:!1,extensions:["pgp"]},"application/pgp-keys":{source:"iana"},"application/pgp-signature":{source:"iana",extensions:["asc","sig"]},"application/pics-rules":{source:"apache",extensions:["prf"]},"application/pidf+xml":{source:"iana"},"application/pidf-diff+xml":{source:"iana"},"application/pkcs10":{source:"iana",extensions:["p10"]},"application/pkcs12":{source:"iana"},"application/pkcs7-mime":{source:"iana",extensions:["p7m","p7c"]},"application/pkcs7-signature":{source:"iana",extensions:["p7s"]},"application/pkcs8":{source:"iana",extensions:["p8"]},"application/pkix-attr-cert":{source:"iana",extensions:["ac"]},"application/pkix-cert":{source:"iana",extensions:["cer"]},"application/pkix-crl":{source:"iana",extensions:["crl"]},"application/pkix-pkipath":{source:"iana",extensions:["pkipath"]},"application/pkixcmp":{source:"iana",extensions:["pki"]},"application/pls+xml":{source:"iana",extensions:["pls"]},"application/poc-settings+xml":{source:"iana"},"application/postscript":{source:"iana",compressible:!0,extensions:["ai","eps","ps"]},"application/ppsp-tracker+json":{source:"iana",compressible:!0},"application/problem+json":{source:"iana",compressible:!0},"application/problem+xml":{source:"iana"},"application/provenance+xml":{source:"iana"},"application/prs.alvestrand.titrax-sheet":{source:"iana"},"application/prs.cww":{source:"iana",extensions:["cww"]},"application/prs.hpub+zip":{source:"iana"},"application/prs.nprend":{source:"iana"},"application/prs.plucker":{source:"iana"},"application/prs.rdf-xml-crypt":{source:"iana"},"application/prs.xsf+xml":{source:"iana"},"application/pskc+xml":{source:"iana",extensions:["pskcxml"]},"application/qsig":{source:"iana"},"application/raptorfec":{source:"iana"},"application/rdap+json":{source:"iana",compressible:!0},"application/rdf+xml":{source:"iana",compressible:!0,extensions:["rdf"]},"application/reginfo+xml":{source:"iana",extensions:["rif"]},"application/relax-ng-compact-syntax":{source:"iana",extensions:["rnc"]},"application/remote-printing":{source:"iana"},"application/reputon+json":{source:"iana",compressible:!0},"application/resource-lists+xml":{source:"iana",extensions:["rl"]},"application/resource-lists-diff+xml":{source:"iana",extensions:["rld"]},"application/rfc+xml":{source:"iana"},"application/riscos":{source:"iana"},"application/rlmi+xml":{source:"iana"},"application/rls-services+xml":{source:"iana",extensions:["rs"]},"application/rpki-ghostbusters":{source:"iana",extensions:["gbr"]},"application/rpki-manifest":{source:"iana",extensions:["mft"]},"application/rpki-roa":{source:"iana",extensions:["roa"]},"application/rpki-updown":{source:"iana"},"application/rsd+xml":{source:"apache",extensions:["rsd"]},"application/rss+xml":{source:"apache",compressible:!0,extensions:["rss"]},"application/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"application/rtploopback":{source:"iana"},"application/rtx":{source:"iana"},"application/samlassertion+xml":{source:"iana"},"application/samlmetadata+xml":{source:"iana"},"application/sbml+xml":{source:"iana",extensions:["sbml"]},"application/scaip+xml":{source:"iana"},"application/scim+json":{source:"iana",compressible:!0},"application/scvp-cv-request":{source:"iana",extensions:["scq"]},"application/scvp-cv-response":{source:"iana",extensions:["scs"]},"application/scvp-vp-request":{source:"iana",extensions:["spq"]},"application/scvp-vp-response":{source:"iana",extensions:["spp"]},"application/sdp":{source:"iana",extensions:["sdp"]},"application/sep+xml":{source:"iana"},"application/sep-exi":{source:"iana"},"application/session-info":{source:"iana"},"application/set-payment":{source:"iana"},"application/set-payment-initiation":{source:"iana",extensions:["setpay"]},"application/set-registration":{source:"iana"},"application/set-registration-initiation":{source:"iana",extensions:["setreg"]},"application/sgml":{source:"iana"},"application/sgml-open-catalog":{source:"iana"},"application/shf+xml":{source:"iana",extensions:["shf"]},"application/sieve":{source:"iana"},"application/simple-filter+xml":{source:"iana"},"application/simple-message-summary":{source:"iana"},"application/simplesymbolcontainer":{source:"iana"},"application/slate":{source:"iana"},"application/smil":{source:"iana"},"application/smil+xml":{source:"iana",extensions:["smi","smil"]},"application/smpte336m":{source:"iana"},"application/soap+fastinfoset":{source:"iana"},"application/soap+xml":{source:"iana",compressible:!0},"application/sparql-query":{source:"iana",extensions:["rq"]},"application/sparql-results+xml":{source:"iana",extensions:["srx"]},"application/spirits-event+xml":{source:"iana"},"application/sql":{source:"iana"},"application/srgs":{source:"iana",extensions:["gram"]},"application/srgs+xml":{source:"iana",extensions:["grxml"]},"application/sru+xml":{source:"iana",extensions:["sru"]},"application/ssdl+xml":{source:"apache",extensions:["ssdl"]},"application/ssml+xml":{source:"iana",extensions:["ssml"]},"application/tamp-apex-update":{source:"iana"},"application/tamp-apex-update-confirm":{source:"iana"},"application/tamp-community-update":{source:"iana"},"application/tamp-community-update-confirm":{source:"iana"},"application/tamp-error":{source:"iana"},"application/tamp-sequence-adjust":{source:"iana"},"application/tamp-sequence-adjust-confirm":{source:"iana"},"application/tamp-status-query":{source:"iana"},"application/tamp-status-response":{source:"iana"},"application/tamp-update":{source:"iana"},"application/tamp-update-confirm":{source:"iana"},"application/tar":{compressible:!0},"application/tei+xml":{source:"iana",extensions:["tei","teicorpus"]},"application/thraud+xml":{source:"iana",extensions:["tfi"]},"application/timestamp-query":{source:"iana"},"application/timestamp-reply":{source:"iana"},"application/timestamped-data":{source:"iana",extensions:["tsd"]},"application/ttml+xml":{source:"iana"},"application/tve-trigger":{source:"iana"},"application/ulpfec":{source:"iana"},"application/urc-grpsheet+xml":{source:"iana"},"application/urc-ressheet+xml":{source:"iana"},"application/urc-targetdesc+xml":{source:"iana"},"application/urc-uisocketdesc+xml":{source:"iana"},"application/vcard+json":{source:"iana",compressible:!0},"application/vcard+xml":{source:"iana"},"application/vemmi":{source:"iana"},"application/vividence.scriptfile":{source:"apache"},"application/vnd.3gpp-prose+xml":{source:"iana"},"application/vnd.3gpp-prose-pc3ch+xml":{source:"iana"},"application/vnd.3gpp.access-transfer-events+xml":{source:"iana"},"application/vnd.3gpp.bsf+xml":{source:"iana"},"application/vnd.3gpp.mid-call+xml":{source:"iana"},"application/vnd.3gpp.pic-bw-large":{source:"iana",extensions:["plb"]},"application/vnd.3gpp.pic-bw-small":{source:"iana",extensions:["psb"]},"application/vnd.3gpp.pic-bw-var":{source:"iana",extensions:["pvb"]},"application/vnd.3gpp.sms":{source:"iana"},"application/vnd.3gpp.srvcc-ext+xml":{source:"iana"},"application/vnd.3gpp.srvcc-info+xml":{source:"iana"},"application/vnd.3gpp.state-and-event-info+xml":{source:"iana"},"application/vnd.3gpp.ussd+xml":{source:"iana"},"application/vnd.3gpp2.bcmcsinfo+xml":{source:"iana"},"application/vnd.3gpp2.sms":{source:"iana"},"application/vnd.3gpp2.tcap":{source:"iana",extensions:["tcap"]},"application/vnd.3m.post-it-notes":{source:"iana",extensions:["pwn"]},"application/vnd.accpac.simply.aso":{source:"iana",extensions:["aso"]},"application/vnd.accpac.simply.imp":{source:"iana",extensions:["imp"]},"application/vnd.acucobol":{source:"iana",extensions:["acu"]},"application/vnd.acucorp":{source:"iana",extensions:["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{source:"apache",extensions:["air"]},"application/vnd.adobe.flash.movie":{source:"iana"},"application/vnd.adobe.formscentral.fcdt":{source:"iana",extensions:["fcdt"]},"application/vnd.adobe.fxp":{source:"iana",extensions:["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{source:"iana"},"application/vnd.adobe.xdp+xml":{source:"iana",extensions:["xdp"]},"application/vnd.adobe.xfdf":{source:"iana",extensions:["xfdf"]},"application/vnd.aether.imp":{source:"iana"},"application/vnd.ah-barcode":{source:"iana"},"application/vnd.ahead.space":{source:"iana",extensions:["ahead"]},"application/vnd.airzip.filesecure.azf":{source:"iana",extensions:["azf"]},"application/vnd.airzip.filesecure.azs":{source:"iana",extensions:["azs"]},"application/vnd.amazon.ebook":{source:"apache",extensions:["azw"]},"application/vnd.americandynamics.acc":{source:"iana",extensions:["acc"]},"application/vnd.amiga.ami":{source:"iana",extensions:["ami"]},"application/vnd.amundsen.maze+xml":{source:"iana"},"application/vnd.android.package-archive":{source:"apache",compressible:!1,extensions:["apk"]},"application/vnd.anki":{source:"iana"},"application/vnd.anser-web-certificate-issue-initiation":{source:"iana",extensions:["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{source:"apache",extensions:["fti"]},"application/vnd.antix.game-component":{source:"iana",extensions:["atx"]},"application/vnd.apache.thrift.binary":{source:"iana"},"application/vnd.apache.thrift.compact":{source:"iana"},"application/vnd.apache.thrift.json":{source:"iana"},"application/vnd.api+json":{source:"iana",compressible:!0},"application/vnd.apple.installer+xml":{source:"iana",extensions:["mpkg"]},"application/vnd.apple.mpegurl":{source:"iana",extensions:["m3u8"]},"application/vnd.apple.pkpass":{compressible:!1,extensions:["pkpass"]},"application/vnd.arastra.swi":{source:"iana"},"application/vnd.aristanetworks.swi":{source:"iana",extensions:["swi"]},"application/vnd.artsquare":{source:"iana"},"application/vnd.astraea-software.iota":{source:"iana",extensions:["iota"]},"application/vnd.audiograph":{source:"iana",extensions:["aep"]},"application/vnd.autopackage":{source:"iana"},"application/vnd.avistar+xml":{source:"iana"},"application/vnd.balsamiq.bmml+xml":{source:"iana"},"application/vnd.balsamiq.bmpr":{source:"iana"},"application/vnd.bekitzur-stech+json":{source:"iana",compressible:!0},"application/vnd.biopax.rdf+xml":{source:"iana"},"application/vnd.blueice.multipass":{source:"iana",extensions:["mpm"]},"application/vnd.bluetooth.ep.oob":{source:"iana"},"application/vnd.bluetooth.le.oob":{source:"iana"},"application/vnd.bmi":{source:"iana",extensions:["bmi"]},"application/vnd.businessobjects":{source:"iana",extensions:["rep"]},"application/vnd.cab-jscript":{source:"iana"},"application/vnd.canon-cpdl":{source:"iana"},"application/vnd.canon-lips":{source:"iana"},"application/vnd.cendio.thinlinc.clientconf":{source:"iana"},"application/vnd.century-systems.tcp_stream":{source:"iana"},"application/vnd.chemdraw+xml":{source:"iana",extensions:["cdxml"]},"application/vnd.chipnuts.karaoke-mmd":{source:"iana",extensions:["mmd"]},"application/vnd.cinderella":{source:"iana",extensions:["cdy"]},"application/vnd.cirpack.isdn-ext":{source:"iana"},"application/vnd.citationstyles.style+xml":{source:"iana"},"application/vnd.claymore":{source:"iana",extensions:["cla"]},"application/vnd.cloanto.rp9":{source:"iana",extensions:["rp9"]},"application/vnd.clonk.c4group":{source:"iana",extensions:["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{source:"iana",extensions:["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{source:"iana",extensions:["c11amz"]},"application/vnd.coffeescript":{source:"iana"},"application/vnd.collection+json":{source:"iana",compressible:!0},"application/vnd.collection.doc+json":{source:"iana",compressible:!0},"application/vnd.collection.next+json":{source:"iana",compressible:!0},"application/vnd.commerce-battelle":{source:"iana"},"application/vnd.commonspace":{source:"iana",extensions:["csp"]},"application/vnd.contact.cmsg":{source:"iana",extensions:["cdbcmsg"]},"application/vnd.cosmocaller":{source:"iana",extensions:["cmc"]},"application/vnd.crick.clicker":{source:"iana",extensions:["clkx"]},"application/vnd.crick.clicker.keyboard":{source:"iana",extensions:["clkk"]},"application/vnd.crick.clicker.palette":{source:"iana",extensions:["clkp"]},"application/vnd.crick.clicker.template":{source:"iana",extensions:["clkt"]},"application/vnd.crick.clicker.wordbank":{source:"iana",extensions:["clkw"]},"application/vnd.criticaltools.wbs+xml":{source:"iana",extensions:["wbs"]},"application/vnd.ctc-posml":{source:"iana",extensions:["pml"]},"application/vnd.ctct.ws+xml":{source:"iana"},"application/vnd.cups-pdf":{source:"iana"},"application/vnd.cups-postscript":{source:"iana"},"application/vnd.cups-ppd":{source:"iana",extensions:["ppd"]},"application/vnd.cups-raster":{source:"iana"},"application/vnd.cups-raw":{source:"iana"},"application/vnd.curl":{source:"iana"},"application/vnd.curl.car":{source:"apache",extensions:["car"]},"application/vnd.curl.pcurl":{source:"apache",extensions:["pcurl"]},"application/vnd.cyan.dean.root+xml":{source:"iana"},"application/vnd.cybank":{source:"iana"},"application/vnd.dart":{source:"iana",compressible:!0,extensions:["dart"]},"application/vnd.data-vision.rdz":{source:"iana",extensions:["rdz"]},"application/vnd.debian.binary-package":{source:"iana"},"application/vnd.dece.data":{source:"iana",extensions:["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{source:"iana",extensions:["uvt","uvvt"]},"application/vnd.dece.unspecified":{source:"iana",extensions:["uvx","uvvx"]},"application/vnd.dece.zip":{source:"iana",extensions:["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{source:"iana",extensions:["fe_launch"]},"application/vnd.desmume-movie":{source:"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{source:"iana"},"application/vnd.dm.delegation+xml":{source:"iana"},"application/vnd.dna":{source:"iana",extensions:["dna"]},"application/vnd.document+json":{source:"iana",compressible:!0},"application/vnd.dolby.mlp":{source:"apache",extensions:["mlp"]},"application/vnd.dolby.mobile.1":{source:"iana"},"application/vnd.dolby.mobile.2":{source:"iana"},"application/vnd.doremir.scorecloud-binary-document":{source:"iana"},"application/vnd.dpgraph":{source:"iana",extensions:["dpg"]},"application/vnd.dreamfactory":{source:"iana",extensions:["dfac"]},"application/vnd.drive+json":{source:"iana",compressible:!0},"application/vnd.ds-keypoint":{source:"apache",extensions:["kpxx"]},"application/vnd.dtg.local":{source:"iana"},"application/vnd.dtg.local.flash":{source:"iana"},"application/vnd.dtg.local.html":{source:"iana"},"application/vnd.dvb.ait":{source:"iana",extensions:["ait"]},"application/vnd.dvb.dvbj":{source:"iana"},"application/vnd.dvb.esgcontainer":{source:"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess2":{source:"iana"},"application/vnd.dvb.ipdcesgpdd":{source:"iana"},"application/vnd.dvb.ipdcroaming":{source:"iana"},"application/vnd.dvb.iptv.alfec-base":{source:"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{source:"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{source:"iana"},"application/vnd.dvb.notif-container+xml":{source:"iana"},"application/vnd.dvb.notif-generic+xml":{source:"iana"},"application/vnd.dvb.notif-ia-msglist+xml":{source:"iana"},"application/vnd.dvb.notif-ia-registration-request+xml":{source:"iana"},"application/vnd.dvb.notif-ia-registration-response+xml":{source:"iana"},"application/vnd.dvb.notif-init+xml":{source:"iana"},"application/vnd.dvb.pfr":{source:"iana"},"application/vnd.dvb.service":{source:"iana",extensions:["svc"]},"application/vnd.dxr":{source:"iana"},"application/vnd.dynageo":{source:"iana",extensions:["geo"]},"application/vnd.dzr":{source:"iana"},"application/vnd.easykaraoke.cdgdownload":{source:"iana"},"application/vnd.ecdis-update":{source:"iana"},"application/vnd.ecowin.chart":{source:"iana",extensions:["mag"]},"application/vnd.ecowin.filerequest":{source:"iana"},"application/vnd.ecowin.fileupdate":{source:"iana"},"application/vnd.ecowin.series":{source:"iana"},"application/vnd.ecowin.seriesrequest":{source:"iana"},"application/vnd.ecowin.seriesupdate":{source:"iana"},"application/vnd.emclient.accessrequest+xml":{source:"iana"},"application/vnd.enliven":{source:"iana",extensions:["nml"]},"application/vnd.enphase.envoy":{source:"iana"},"application/vnd.eprints.data+xml":{source:"iana"},"application/vnd.epson.esf":{source:"iana",extensions:["esf"]},"application/vnd.epson.msf":{source:"iana",extensions:["msf"]},"application/vnd.epson.quickanime":{source:"iana",extensions:["qam"]},"application/vnd.epson.salt":{source:"iana",extensions:["slt"]},"application/vnd.epson.ssf":{source:"iana",extensions:["ssf"]},"application/vnd.ericsson.quickcall":{source:"iana"},"application/vnd.eszigno3+xml":{source:"iana",extensions:["es3","et3"]},"application/vnd.etsi.aoc+xml":{source:"iana"},"application/vnd.etsi.asic-e+zip":{source:"iana"},"application/vnd.etsi.asic-s+zip":{source:"iana"},"application/vnd.etsi.cug+xml":{source:"iana"},"application/vnd.etsi.iptvcommand+xml":{source:"iana"},"application/vnd.etsi.iptvdiscovery+xml":{source:"iana"},"application/vnd.etsi.iptvprofile+xml":{source:"iana"},"application/vnd.etsi.iptvsad-bc+xml":{source:"iana"},"application/vnd.etsi.iptvsad-cod+xml":{source:"iana"},"application/vnd.etsi.iptvsad-npvr+xml":{source:"iana"},"application/vnd.etsi.iptvservice+xml":{source:"iana"},"application/vnd.etsi.iptvsync+xml":{source:"iana"},"application/vnd.etsi.iptvueprofile+xml":{source:"iana"},"application/vnd.etsi.mcid+xml":{source:"iana"},"application/vnd.etsi.mheg5":{source:"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{source:"iana"},"application/vnd.etsi.pstn+xml":{source:"iana"},"application/vnd.etsi.sci+xml":{source:"iana"},"application/vnd.etsi.simservs+xml":{source:"iana"},"application/vnd.etsi.timestamp-token":{source:"iana"},"application/vnd.etsi.tsl+xml":{source:"iana"},"application/vnd.etsi.tsl.der":{source:"iana"},"application/vnd.eudora.data":{source:"iana"},"application/vnd.ezpix-album":{source:"iana",extensions:["ez2"]},"application/vnd.ezpix-package":{source:"iana",extensions:["ez3"]},"application/vnd.f-secure.mobile":{source:"iana"},"application/vnd.fastcopy-disk-image":{source:"iana"},"application/vnd.fdf":{source:"iana",extensions:["fdf"]},"application/vnd.fdsn.mseed":{source:"iana",extensions:["mseed"]},"application/vnd.fdsn.seed":{source:"iana",extensions:["seed","dataless"]},"application/vnd.ffsns":{source:"iana"},"application/vnd.filmit.zfc":{source:"iana"},"application/vnd.fints":{source:"iana"},"application/vnd.firemonkeys.cloudcell":{source:"iana"},"application/vnd.flographit":{source:"iana",extensions:["gph"]},"application/vnd.fluxtime.clip":{source:"iana",extensions:["ftc"]},"application/vnd.font-fontforge-sfd":{source:"iana"},"application/vnd.framemaker":{source:"iana",extensions:["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{source:"iana",extensions:["fnc"]},"application/vnd.frogans.ltf":{source:"iana",extensions:["ltf"]},"application/vnd.fsc.weblaunch":{source:"iana",extensions:["fsc"]},"application/vnd.fujitsu.oasys":{source:"iana",extensions:["oas"]},"application/vnd.fujitsu.oasys2":{source:"iana",extensions:["oa2"]},"application/vnd.fujitsu.oasys3":{source:"iana",extensions:["oa3"]},"application/vnd.fujitsu.oasysgp":{source:"iana",extensions:["fg5"]},"application/vnd.fujitsu.oasysprs":{source:"iana",extensions:["bh2"]},"application/vnd.fujixerox.art-ex":{source:"iana"},"application/vnd.fujixerox.art4":{source:"iana"},"application/vnd.fujixerox.ddd":{source:"iana",extensions:["ddd"]},"application/vnd.fujixerox.docuworks":{source:"iana",extensions:["xdw"]},"application/vnd.fujixerox.docuworks.binder":{source:"iana",extensions:["xbd"]},"application/vnd.fujixerox.docuworks.container":{source:"iana"},"application/vnd.fujixerox.hbpl":{source:"iana"},"application/vnd.fut-misnet":{source:"iana"},"application/vnd.fuzzysheet":{source:"iana",extensions:["fzs"]},"application/vnd.genomatix.tuxedo":{source:"iana",extensions:["txd"]},"application/vnd.geo+json":{source:"iana",compressible:!0},"application/vnd.geocube+xml":{source:"iana"},"application/vnd.geogebra.file":{source:"iana",extensions:["ggb"]},"application/vnd.geogebra.tool":{source:"iana",extensions:["ggt"]},"application/vnd.geometry-explorer":{source:"iana",extensions:["gex","gre"]},"application/vnd.geonext":{source:"iana",extensions:["gxt"]},"application/vnd.geoplan":{source:"iana",extensions:["g2w"]},"application/vnd.geospace":{source:"iana",extensions:["g3w"]},"application/vnd.gerber":{source:"iana"},"application/vnd.globalplatform.card-content-mgt":{source:"iana"},"application/vnd.globalplatform.card-content-mgt-response":{source:"iana"},"application/vnd.gmx":{source:"iana",extensions:["gmx"]},"application/vnd.google-apps.document":{compressible:!1,extensions:["gdoc"]},"application/vnd.google-apps.presentation":{compressible:!1,extensions:["gslides"]},"application/vnd.google-apps.spreadsheet":{compressible:!1,extensions:["gsheet"]},"application/vnd.google-earth.kml+xml":{source:"iana",compressible:!0,extensions:["kml"]},"application/vnd.google-earth.kmz":{source:"iana",compressible:!1,extensions:["kmz"]},"application/vnd.gov.sk.e-form+xml":{source:"iana"},"application/vnd.gov.sk.e-form+zip":{source:"iana"},"application/vnd.gov.sk.xmldatacontainer+xml":{source:"iana"},"application/vnd.grafeq":{source:"iana",extensions:["gqf","gqs"]},"application/vnd.gridmp":{source:"iana"},"application/vnd.groove-account":{source:"iana",extensions:["gac"]},"application/vnd.groove-help":{source:"iana",extensions:["ghf"]},"application/vnd.groove-identity-message":{source:"iana",extensions:["gim"]},"application/vnd.groove-injector":{source:"iana",extensions:["grv"]},"application/vnd.groove-tool-message":{source:"iana",extensions:["gtm"]},"application/vnd.groove-tool-template":{source:"iana",extensions:["tpl"]},"application/vnd.groove-vcard":{source:"iana",extensions:["vcg"]},"application/vnd.hal+json":{source:"iana",compressible:!0},"application/vnd.hal+xml":{source:"iana",extensions:["hal"]},"application/vnd.handheld-entertainment+xml":{source:"iana",extensions:["zmm"]},"application/vnd.hbci":{source:"iana",extensions:["hbci"]},"application/vnd.hcl-bireports":{source:"iana"},"application/vnd.hdt":{source:"iana"},"application/vnd.heroku+json":{source:"iana",compressible:!0},"application/vnd.hhe.lesson-player":{source:"iana",extensions:["les"]},"application/vnd.hp-hpgl":{source:"iana",extensions:["hpgl"]},"application/vnd.hp-hpid":{source:"iana",extensions:["hpid"]},"application/vnd.hp-hps":{source:"iana",extensions:["hps"]},"application/vnd.hp-jlyt":{source:"iana",extensions:["jlt"]},"application/vnd.hp-pcl":{source:"iana",extensions:["pcl"]},"application/vnd.hp-pclxl":{source:"iana",extensions:["pclxl"]},"application/vnd.httphone":{source:"iana"},"application/vnd.hydrostatix.sof-data":{source:"iana",extensions:["sfd-hdstx"]},"application/vnd.hyperdrive+json":{source:"iana",compressible:!0},"application/vnd.hzn-3d-crossword":{source:"iana"},"application/vnd.ibm.afplinedata":{source:"iana"},"application/vnd.ibm.electronic-media":{source:"iana"},"application/vnd.ibm.minipay":{source:"iana",extensions:["mpy"]},"application/vnd.ibm.modcap":{source:"iana",extensions:["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{source:"iana",extensions:["irm"]},"application/vnd.ibm.secure-container":{source:"iana",extensions:["sc"]},"application/vnd.iccprofile":{source:"iana",extensions:["icc","icm"]},"application/vnd.ieee.1905":{source:"iana"},"application/vnd.igloader":{source:"iana",extensions:["igl"]},"application/vnd.immervision-ivp":{source:"iana",extensions:["ivp"]},"application/vnd.immervision-ivu":{source:"iana",extensions:["ivu"]},"application/vnd.ims.imsccv1p1":{source:"iana"},"application/vnd.ims.imsccv1p2":{source:"iana"},"application/vnd.ims.imsccv1p3":{source:"iana"},"application/vnd.ims.lis.v2.result+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy.id+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings.simple+json":{source:"iana",compressible:!0},"application/vnd.informedcontrol.rms+xml":{source:"iana"},"application/vnd.informix-visionary":{source:"iana"},"application/vnd.infotech.project":{source:"iana"},"application/vnd.infotech.project+xml":{source:"iana"},"application/vnd.innopath.wamp.notification":{source:"iana"},"application/vnd.insors.igm":{source:"iana",extensions:["igm"]},"application/vnd.intercon.formnet":{source:"iana",extensions:["xpw","xpx"]},"application/vnd.intergeo":{source:"iana",extensions:["i2g"]},"application/vnd.intertrust.digibox":{
source:"iana"},"application/vnd.intertrust.nncp":{source:"iana"},"application/vnd.intu.qbo":{source:"iana",extensions:["qbo"]},"application/vnd.intu.qfx":{source:"iana",extensions:["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{source:"iana"},"application/vnd.iptc.g2.conceptitem+xml":{source:"iana"},"application/vnd.iptc.g2.knowledgeitem+xml":{source:"iana"},"application/vnd.iptc.g2.newsitem+xml":{source:"iana"},"application/vnd.iptc.g2.newsmessage+xml":{source:"iana"},"application/vnd.iptc.g2.packageitem+xml":{source:"iana"},"application/vnd.iptc.g2.planningitem+xml":{source:"iana"},"application/vnd.ipunplugged.rcprofile":{source:"iana",extensions:["rcprofile"]},"application/vnd.irepository.package+xml":{source:"iana",extensions:["irp"]},"application/vnd.is-xpr":{source:"iana",extensions:["xpr"]},"application/vnd.isac.fcs":{source:"iana",extensions:["fcs"]},"application/vnd.jam":{source:"iana",extensions:["jam"]},"application/vnd.japannet-directory-service":{source:"iana"},"application/vnd.japannet-jpnstore-wakeup":{source:"iana"},"application/vnd.japannet-payment-wakeup":{source:"iana"},"application/vnd.japannet-registration":{source:"iana"},"application/vnd.japannet-registration-wakeup":{source:"iana"},"application/vnd.japannet-setstore-wakeup":{source:"iana"},"application/vnd.japannet-verification":{source:"iana"},"application/vnd.japannet-verification-wakeup":{source:"iana"},"application/vnd.jcp.javame.midlet-rms":{source:"iana",extensions:["rms"]},"application/vnd.jisp":{source:"iana",extensions:["jisp"]},"application/vnd.joost.joda-archive":{source:"iana",extensions:["joda"]},"application/vnd.jsk.isdn-ngn":{source:"iana"},"application/vnd.kahootz":{source:"iana",extensions:["ktz","ktr"]},"application/vnd.kde.karbon":{source:"iana",extensions:["karbon"]},"application/vnd.kde.kchart":{source:"iana",extensions:["chrt"]},"application/vnd.kde.kformula":{source:"iana",extensions:["kfo"]},"application/vnd.kde.kivio":{source:"iana",extensions:["flw"]},"application/vnd.kde.kontour":{source:"iana",extensions:["kon"]},"application/vnd.kde.kpresenter":{source:"iana",extensions:["kpr","kpt"]},"application/vnd.kde.kspread":{source:"iana",extensions:["ksp"]},"application/vnd.kde.kword":{source:"iana",extensions:["kwd","kwt"]},"application/vnd.kenameaapp":{source:"iana",extensions:["htke"]},"application/vnd.kidspiration":{source:"iana",extensions:["kia"]},"application/vnd.kinar":{source:"iana",extensions:["kne","knp"]},"application/vnd.koan":{source:"iana",extensions:["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{source:"iana",extensions:["sse"]},"application/vnd.las.las+xml":{source:"iana",extensions:["lasxml"]},"application/vnd.liberty-request+xml":{source:"iana"},"application/vnd.llamagraphics.life-balance.desktop":{source:"iana",extensions:["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{source:"iana",extensions:["lbe"]},"application/vnd.lotus-1-2-3":{source:"iana",extensions:["123"]},"application/vnd.lotus-approach":{source:"iana",extensions:["apr"]},"application/vnd.lotus-freelance":{source:"iana",extensions:["pre"]},"application/vnd.lotus-notes":{source:"iana",extensions:["nsf"]},"application/vnd.lotus-organizer":{source:"iana",extensions:["org"]},"application/vnd.lotus-screencam":{source:"iana",extensions:["scm"]},"application/vnd.lotus-wordpro":{source:"iana",extensions:["lwp"]},"application/vnd.macports.portpkg":{source:"iana",extensions:["portpkg"]},"application/vnd.mapbox-vector-tile":{source:"iana"},"application/vnd.marlin.drm.actiontoken+xml":{source:"iana"},"application/vnd.marlin.drm.conftoken+xml":{source:"iana"},"application/vnd.marlin.drm.license+xml":{source:"iana"},"application/vnd.marlin.drm.mdcf":{source:"iana"},"application/vnd.mason+json":{source:"iana",compressible:!0},"application/vnd.maxmind.maxmind-db":{source:"iana"},"application/vnd.mcd":{source:"iana",extensions:["mcd"]},"application/vnd.medcalcdata":{source:"iana",extensions:["mc1"]},"application/vnd.mediastation.cdkey":{source:"iana",extensions:["cdkey"]},"application/vnd.meridian-slingshot":{source:"iana"},"application/vnd.mfer":{source:"iana",extensions:["mwf"]},"application/vnd.mfmp":{source:"iana",extensions:["mfm"]},"application/vnd.micro+json":{source:"iana",compressible:!0},"application/vnd.micrografx.flo":{source:"iana",extensions:["flo"]},"application/vnd.micrografx.igx":{source:"iana",extensions:["igx"]},"application/vnd.microsoft.portable-executable":{source:"iana"},"application/vnd.miele+json":{source:"iana",compressible:!0},"application/vnd.mif":{source:"iana",extensions:["mif"]},"application/vnd.minisoft-hp3000-save":{source:"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{source:"iana"},"application/vnd.mobius.daf":{source:"iana",extensions:["daf"]},"application/vnd.mobius.dis":{source:"iana",extensions:["dis"]},"application/vnd.mobius.mbk":{source:"iana",extensions:["mbk"]},"application/vnd.mobius.mqy":{source:"iana",extensions:["mqy"]},"application/vnd.mobius.msl":{source:"iana",extensions:["msl"]},"application/vnd.mobius.plc":{source:"iana",extensions:["plc"]},"application/vnd.mobius.txf":{source:"iana",extensions:["txf"]},"application/vnd.mophun.application":{source:"iana",extensions:["mpn"]},"application/vnd.mophun.certificate":{source:"iana",extensions:["mpc"]},"application/vnd.motorola.flexsuite":{source:"iana"},"application/vnd.motorola.flexsuite.adsi":{source:"iana"},"application/vnd.motorola.flexsuite.fis":{source:"iana"},"application/vnd.motorola.flexsuite.gotap":{source:"iana"},"application/vnd.motorola.flexsuite.kmr":{source:"iana"},"application/vnd.motorola.flexsuite.ttc":{source:"iana"},"application/vnd.motorola.flexsuite.wem":{source:"iana"},"application/vnd.motorola.iprm":{source:"iana"},"application/vnd.mozilla.xul+xml":{source:"iana",compressible:!0,extensions:["xul"]},"application/vnd.ms-3mfdocument":{source:"iana"},"application/vnd.ms-artgalry":{source:"iana",extensions:["cil"]},"application/vnd.ms-asf":{source:"iana"},"application/vnd.ms-cab-compressed":{source:"iana",extensions:["cab"]},"application/vnd.ms-color.iccprofile":{source:"apache"},"application/vnd.ms-excel":{source:"iana",compressible:!1,extensions:["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{source:"iana",extensions:["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{source:"iana",extensions:["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{source:"iana",extensions:["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{source:"iana",extensions:["xltm"]},"application/vnd.ms-fontobject":{source:"iana",compressible:!0,extensions:["eot"]},"application/vnd.ms-htmlhelp":{source:"iana",extensions:["chm"]},"application/vnd.ms-ims":{source:"iana",extensions:["ims"]},"application/vnd.ms-lrm":{source:"iana",extensions:["lrm"]},"application/vnd.ms-office.activex+xml":{source:"iana"},"application/vnd.ms-officetheme":{source:"iana",extensions:["thmx"]},"application/vnd.ms-opentype":{source:"apache",compressible:!0},"application/vnd.ms-package.obfuscated-opentype":{source:"apache"},"application/vnd.ms-pki.seccat":{source:"apache",extensions:["cat"]},"application/vnd.ms-pki.stl":{source:"apache",extensions:["stl"]},"application/vnd.ms-playready.initiator+xml":{source:"iana"},"application/vnd.ms-powerpoint":{source:"iana",compressible:!1,extensions:["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{source:"iana",extensions:["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{source:"iana",extensions:["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{source:"iana",extensions:["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{source:"iana",extensions:["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{source:"iana",extensions:["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{source:"iana"},"application/vnd.ms-printing.printticket+xml":{source:"apache"},"application/vnd.ms-printschematicket+xml":{source:"iana"},"application/vnd.ms-project":{source:"iana",extensions:["mpp","mpt"]},"application/vnd.ms-tnef":{source:"iana"},"application/vnd.ms-windows.devicepairing":{source:"iana"},"application/vnd.ms-windows.nwprinting.oob":{source:"iana"},"application/vnd.ms-windows.printerpairing":{source:"iana"},"application/vnd.ms-windows.wsd.oob":{source:"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.lic-resp":{source:"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.meter-resp":{source:"iana"},"application/vnd.ms-word.document.macroenabled.12":{source:"iana",extensions:["docm"]},"application/vnd.ms-word.template.macroenabled.12":{source:"iana",extensions:["dotm"]},"application/vnd.ms-works":{source:"iana",extensions:["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{source:"iana",extensions:["wpl"]},"application/vnd.ms-xpsdocument":{source:"iana",compressible:!1,extensions:["xps"]},"application/vnd.msa-disk-image":{source:"iana"},"application/vnd.mseq":{source:"iana",extensions:["mseq"]},"application/vnd.msign":{source:"iana"},"application/vnd.multiad.creator":{source:"iana"},"application/vnd.multiad.creator.cif":{source:"iana"},"application/vnd.music-niff":{source:"iana"},"application/vnd.musician":{source:"iana",extensions:["mus"]},"application/vnd.muvee.style":{source:"iana",extensions:["msty"]},"application/vnd.mynfc":{source:"iana",extensions:["taglet"]},"application/vnd.ncd.control":{source:"iana"},"application/vnd.ncd.reference":{source:"iana"},"application/vnd.nervana":{source:"iana"},"application/vnd.netfpx":{source:"iana"},"application/vnd.neurolanguage.nlu":{source:"iana",extensions:["nlu"]},"application/vnd.nintendo.nitro.rom":{source:"iana"},"application/vnd.nintendo.snes.rom":{source:"iana"},"application/vnd.nitf":{source:"iana",extensions:["ntf","nitf"]},"application/vnd.noblenet-directory":{source:"iana",extensions:["nnd"]},"application/vnd.noblenet-sealer":{source:"iana",extensions:["nns"]},"application/vnd.noblenet-web":{source:"iana",extensions:["nnw"]},"application/vnd.nokia.catalogs":{source:"iana"},"application/vnd.nokia.conml+wbxml":{source:"iana"},"application/vnd.nokia.conml+xml":{source:"iana"},"application/vnd.nokia.iptv.config+xml":{source:"iana"},"application/vnd.nokia.isds-radio-presets":{source:"iana"},"application/vnd.nokia.landmark+wbxml":{source:"iana"},"application/vnd.nokia.landmark+xml":{source:"iana"},"application/vnd.nokia.landmarkcollection+xml":{source:"iana"},"application/vnd.nokia.n-gage.ac+xml":{source:"iana"},"application/vnd.nokia.n-gage.data":{source:"iana",extensions:["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{source:"iana",extensions:["n-gage"]},"application/vnd.nokia.ncd":{source:"iana"},"application/vnd.nokia.pcd+wbxml":{source:"iana"},"application/vnd.nokia.pcd+xml":{source:"iana"},"application/vnd.nokia.radio-preset":{source:"iana",extensions:["rpst"]},"application/vnd.nokia.radio-presets":{source:"iana",extensions:["rpss"]},"application/vnd.novadigm.edm":{source:"iana",extensions:["edm"]},"application/vnd.novadigm.edx":{source:"iana",extensions:["edx"]},"application/vnd.novadigm.ext":{source:"iana",extensions:["ext"]},"application/vnd.ntt-local.content-share":{source:"iana"},"application/vnd.ntt-local.file-transfer":{source:"iana"},"application/vnd.ntt-local.ogw_remote-access":{source:"iana"},"application/vnd.ntt-local.sip-ta_remote":{source:"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{source:"iana"},"application/vnd.oasis.opendocument.chart":{source:"iana",extensions:["odc"]},"application/vnd.oasis.opendocument.chart-template":{source:"iana",extensions:["otc"]},"application/vnd.oasis.opendocument.database":{source:"iana",extensions:["odb"]},"application/vnd.oasis.opendocument.formula":{source:"iana",extensions:["odf"]},"application/vnd.oasis.opendocument.formula-template":{source:"iana",extensions:["odft"]},"application/vnd.oasis.opendocument.graphics":{source:"iana",compressible:!1,extensions:["odg"]},"application/vnd.oasis.opendocument.graphics-template":{source:"iana",extensions:["otg"]},"application/vnd.oasis.opendocument.image":{source:"iana",extensions:["odi"]},"application/vnd.oasis.opendocument.image-template":{source:"iana",extensions:["oti"]},"application/vnd.oasis.opendocument.presentation":{source:"iana",compressible:!1,extensions:["odp"]},"application/vnd.oasis.opendocument.presentation-template":{source:"iana",extensions:["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{source:"iana",compressible:!1,extensions:["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{source:"iana",extensions:["ots"]},"application/vnd.oasis.opendocument.text":{source:"iana",compressible:!1,extensions:["odt"]},"application/vnd.oasis.opendocument.text-master":{source:"iana",extensions:["odm"]},"application/vnd.oasis.opendocument.text-template":{source:"iana",extensions:["ott"]},"application/vnd.oasis.opendocument.text-web":{source:"iana",extensions:["oth"]},"application/vnd.obn":{source:"iana"},"application/vnd.oftn.l10n+json":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessdownload+xml":{source:"iana"},"application/vnd.oipf.contentaccessstreaming+xml":{source:"iana"},"application/vnd.oipf.cspg-hexbinary":{source:"iana"},"application/vnd.oipf.dae.svg+xml":{source:"iana"},"application/vnd.oipf.dae.xhtml+xml":{source:"iana"},"application/vnd.oipf.mippvcontrolmessage+xml":{source:"iana"},"application/vnd.oipf.pae.gem":{source:"iana"},"application/vnd.oipf.spdiscovery+xml":{source:"iana"},"application/vnd.oipf.spdlist+xml":{source:"iana"},"application/vnd.oipf.ueprofile+xml":{source:"iana"},"application/vnd.oipf.userprofile+xml":{source:"iana"},"application/vnd.olpc-sugar":{source:"iana",extensions:["xo"]},"application/vnd.oma-scws-config":{source:"iana"},"application/vnd.oma-scws-http-request":{source:"iana"},"application/vnd.oma-scws-http-response":{source:"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{source:"iana"},"application/vnd.oma.bcast.drm-trigger+xml":{source:"iana"},"application/vnd.oma.bcast.imd+xml":{source:"iana"},"application/vnd.oma.bcast.ltkm":{source:"iana"},"application/vnd.oma.bcast.notification+xml":{source:"iana"},"application/vnd.oma.bcast.provisioningtrigger":{source:"iana"},"application/vnd.oma.bcast.sgboot":{source:"iana"},"application/vnd.oma.bcast.sgdd+xml":{source:"iana"},"application/vnd.oma.bcast.sgdu":{source:"iana"},"application/vnd.oma.bcast.simple-symbol-container":{source:"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{source:"iana"},"application/vnd.oma.bcast.sprov+xml":{source:"iana"},"application/vnd.oma.bcast.stkm":{source:"iana"},"application/vnd.oma.cab-address-book+xml":{source:"iana"},"application/vnd.oma.cab-feature-handler+xml":{source:"iana"},"application/vnd.oma.cab-pcc+xml":{source:"iana"},"application/vnd.oma.cab-subs-invite+xml":{source:"iana"},"application/vnd.oma.cab-user-prefs+xml":{source:"iana"},"application/vnd.oma.dcd":{source:"iana"},"application/vnd.oma.dcdc":{source:"iana"},"application/vnd.oma.dd2+xml":{source:"iana",extensions:["dd2"]},"application/vnd.oma.drm.risd+xml":{source:"iana"},"application/vnd.oma.group-usage-list+xml":{source:"iana"},"application/vnd.oma.pal+xml":{source:"iana"},"application/vnd.oma.poc.detailed-progress-report+xml":{source:"iana"},"application/vnd.oma.poc.final-report+xml":{source:"iana"},"application/vnd.oma.poc.groups+xml":{source:"iana"},"application/vnd.oma.poc.invocation-descriptor+xml":{source:"iana"},"application/vnd.oma.poc.optimized-progress-report+xml":{source:"iana"},"application/vnd.oma.push":{source:"iana"},"application/vnd.oma.scidm.messages+xml":{source:"iana"},"application/vnd.oma.xcap-directory+xml":{source:"iana"},"application/vnd.omads-email+xml":{source:"iana"},"application/vnd.omads-file+xml":{source:"iana"},"application/vnd.omads-folder+xml":{source:"iana"},"application/vnd.omaloc-supl-init":{source:"iana"},"application/vnd.openblox.game+xml":{source:"iana"},"application/vnd.openblox.game-binary":{source:"iana"},"application/vnd.openeye.oeb":{source:"iana"},"application/vnd.openofficeorg.extension":{source:"apache",extensions:["oxt"]},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.drawing+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml-template":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{source:"iana",compressible:!1,extensions:["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.slide":{source:"iana",extensions:["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{source:"iana",extensions:["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.template":{source:"apache",extensions:["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml-template":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{source:"iana",compressible:!1,extensions:["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{source:"apache",extensions:["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.theme+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.vmldrawing":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml-template":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{source:"iana",compressible:!1,extensions:["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{source:"apache",extensions:["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{source:"iana"},"application/vnd.openxmlformats-package.core-properties+xml":{source:"iana"},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{source:"iana"},"application/vnd.openxmlformats-package.relationships+xml":{source:"iana"},"application/vnd.oracle.resource+json":{source:"iana",compressible:!0},"application/vnd.orange.indata":{source:"iana"},"application/vnd.osa.netdeploy":{source:"iana"},"application/vnd.osgeo.mapguide.package":{source:"iana",extensions:["mgp"]},"application/vnd.osgi.bundle":{source:"iana"},"application/vnd.osgi.dp":{source:"iana",extensions:["dp"]},"application/vnd.osgi.subsystem":{source:"iana",extensions:["esa"]},"application/vnd.otps.ct-kip+xml":{source:"iana"},"application/vnd.oxli.countgraph":{source:"iana"},"application/vnd.pagerduty+json":{source:"iana",compressible:!0},"application/vnd.palm":{source:"iana",extensions:["pdb","pqa","oprc"]},"application/vnd.panoply":{source:"iana"},"application/vnd.paos+xml":{source:"iana"},"application/vnd.paos.xml":{source:"apache"},"application/vnd.pawaafile":{source:"iana",extensions:["paw"]},"application/vnd.pcos":{source:"iana"},"application/vnd.pg.format":{source:"iana",extensions:["str"]},"application/vnd.pg.osasli":{source:"iana",extensions:["ei6"]},"application/vnd.piaccess.application-licence":{source:"iana"},"application/vnd.picsel":{source:"iana",extensions:["efif"]},"application/vnd.pmi.widget":{source:"iana",extensions:["wg"]},"application/vnd.poc.group-advertisement+xml":{source:"iana"},"application/vnd.pocketlearn":{source:"iana",extensions:["plf"]},"application/vnd.powerbuilder6":{source:"iana",extensions:["pbd"]},"application/vnd.powerbuilder6-s":{source:"iana"},"application/vnd.powerbuilder7":{source:"iana"},"application/vnd.powerbuilder7-s":{source:"iana"},"application/vnd.powerbuilder75":{source:"iana"},"application/vnd.powerbuilder75-s":{source:"iana"},"application/vnd.preminet":{source:"iana"},"application/vnd.previewsystems.box":{source:"iana",extensions:["box"]},"application/vnd.proteus.magazine":{source:"iana",extensions:["mgz"]},"application/vnd.publishare-delta-tree":{source:"iana",extensions:["qps"]},"application/vnd.pvi.ptid1":{source:"iana",extensions:["ptid"]},"application/vnd.pwg-multiplexed":{source:"iana"},"application/vnd.pwg-xhtml-print+xml":{source:"iana"},"application/vnd.qualcomm.brew-app-res":{source:"iana"},"application/vnd.quark.quarkxpress":{source:"iana",extensions:["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{source:"iana"},"application/vnd.radisys.moml+xml":{source:"iana"},"application/vnd.radisys.msml+xml":{source:"iana"},"application/vnd.radisys.msml-audit+xml":{source:"iana"},"application/vnd.radisys.msml-audit-conf+xml":{source:"iana"},"application/vnd.radisys.msml-audit-conn+xml":{source:"iana"},"application/vnd.radisys.msml-audit-dialog+xml":{source:"iana"},"application/vnd.radisys.msml-audit-stream+xml":{source:"iana"},"application/vnd.radisys.msml-conf+xml":{source:"iana"},"application/vnd.radisys.msml-dialog+xml":{source:"iana"},"application/vnd.radisys.msml-dialog-base+xml":{source:"iana"},"application/vnd.radisys.msml-dialog-fax-detect+xml":{source:"iana"},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{source:"iana"},"application/vnd.radisys.msml-dialog-group+xml":{source:"iana"},"application/vnd.radisys.msml-dialog-speech+xml":{source:"iana"},"application/vnd.radisys.msml-dialog-transform+xml":{source:"iana"},"application/vnd.rainstor.data":{source:"iana"},"application/vnd.rapid":{source:"iana"},"application/vnd.realvnc.bed":{source:"iana",extensions:["bed"]},"application/vnd.recordare.musicxml":{source:"iana",extensions:["mxl"]},"application/vnd.recordare.musicxml+xml":{source:"iana",extensions:["musicxml"]},"application/vnd.renlearn.rlprint":{source:"iana"},"application/vnd.rig.cryptonote":{source:"iana",extensions:["cryptonote"]},"application/vnd.rim.cod":{source:"apache",extensions:["cod"]},"application/vnd.rn-realmedia":{source:"apache",extensions:["rm"]},"application/vnd.rn-realmedia-vbr":{source:"apache",extensions:["rmvb"]},"application/vnd.route66.link66+xml":{source:"iana",extensions:["link66"]},"application/vnd.rs-274x":{source:"iana"},"application/vnd.ruckus.download":{source:"iana"},"application/vnd.s3sms":{source:"iana"},"application/vnd.sailingtracker.track":{source:"iana",extensions:["st"]},"application/vnd.sbm.cid":{source:"iana"},"application/vnd.sbm.mid2":{source:"iana"},"application/vnd.scribus":{source:"iana"},"application/vnd.sealed.3df":{source:"iana"},"application/vnd.sealed.csf":{source:"iana"},"application/vnd.sealed.doc":{source:"iana"},"application/vnd.sealed.eml":{source:"iana"},"application/vnd.sealed.mht":{source:"iana"},"application/vnd.sealed.net":{source:"iana"},"application/vnd.sealed.ppt":{source:"iana"},"application/vnd.sealed.tiff":{source:"iana"},"application/vnd.sealed.xls":{source:"iana"},"application/vnd.sealedmedia.softseal.html":{source:"iana"},"application/vnd.sealedmedia.softseal.pdf":{source:"iana"},"application/vnd.seemail":{source:"iana",extensions:["see"]},"application/vnd.sema":{source:"iana",extensions:["sema"]},"application/vnd.semd":{source:"iana",extensions:["semd"]},"application/vnd.semf":{source:"iana",extensions:["semf"]},"application/vnd.shana.informed.formdata":{source:"iana",extensions:["ifm"]},"application/vnd.shana.informed.formtemplate":{source:"iana",extensions:["itp"]},"application/vnd.shana.informed.interchange":{source:"iana",extensions:["iif"]},"application/vnd.shana.informed.package":{source:"iana",extensions:["ipk"]},"application/vnd.simtech-mindmapper":{source:"iana",extensions:["twd","twds"]},"application/vnd.siren+json":{source:"iana",compressible:!0},"application/vnd.smaf":{source:"iana",extensions:["mmf"]},"application/vnd.smart.notebook":{source:"iana"},"application/vnd.smart.teacher":{source:"iana",extensions:["teacher"]},"application/vnd.software602.filler.form+xml":{source:"iana"},"application/vnd.software602.filler.form-xml-zip":{source:"iana"},"application/vnd.solent.sdkm+xml":{source:"iana",extensions:["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{source:"iana",extensions:["dxp"]},"application/vnd.spotfire.sfs":{source:"iana",extensions:["sfs"]},"application/vnd.sss-cod":{source:"iana"},"application/vnd.sss-dtf":{source:"iana"},"application/vnd.sss-ntf":{source:"iana"},"application/vnd.stardivision.calc":{source:"apache",extensions:["sdc"]},"application/vnd.stardivision.draw":{source:"apache",extensions:["sda"]},"application/vnd.stardivision.impress":{source:"apache",extensions:["sdd"]},"application/vnd.stardivision.math":{source:"apache",extensions:["smf"]},"application/vnd.stardivision.writer":{source:"apache",extensions:["sdw","vor"]},"application/vnd.stardivision.writer-global":{source:"apache",extensions:["sgl"]},"application/vnd.stepmania.package":{source:"iana",extensions:["smzip"]},"application/vnd.stepmania.stepchart":{source:"iana",extensions:["sm"]},"application/vnd.street-stream":{source:"iana"},"application/vnd.sun.wadl+xml":{source:"iana"},"application/vnd.sun.xml.calc":{source:"apache",extensions:["sxc"]},"application/vnd.sun.xml.calc.template":{source:"apache",extensions:["stc"]},"application/vnd.sun.xml.draw":{source:"apache",extensions:["sxd"]},"application/vnd.sun.xml.draw.template":{source:"apache",extensions:["std"]},"application/vnd.sun.xml.impress":{source:"apache",extensions:["sxi"]},"application/vnd.sun.xml.impress.template":{source:"apache",extensions:["sti"]},"application/vnd.sun.xml.math":{source:"apache",extensions:["sxm"]},"application/vnd.sun.xml.writer":{source:"apache",extensions:["sxw"]},"application/vnd.sun.xml.writer.global":{source:"apache",extensions:["sxg"]},"application/vnd.sun.xml.writer.template":{source:"apache",extensions:["stw"]},"application/vnd.sus-calendar":{source:"iana",extensions:["sus","susp"]},"application/vnd.svd":{source:"iana",extensions:["svd"]},"application/vnd.swiftview-ics":{source:"iana"},"application/vnd.symbian.install":{source:"apache",extensions:["sis","sisx"]},"application/vnd.syncml+xml":{source:"iana",extensions:["xsm"]},"application/vnd.syncml.dm+wbxml":{source:"iana",extensions:["bdm"]},"application/vnd.syncml.dm+xml":{source:"iana",extensions:["xdm"]},"application/vnd.syncml.dm.notification":{source:"iana"},"application/vnd.syncml.dmddf+wbxml":{source:"iana"},"application/vnd.syncml.dmddf+xml":{source:"iana"},"application/vnd.syncml.dmtnds+wbxml":{source:"iana"},"application/vnd.syncml.dmtnds+xml":{source:"iana"},"application/vnd.syncml.ds.notification":{source:"iana"},"application/vnd.tao.intent-module-archive":{source:"iana",extensions:["tao"]},"application/vnd.tcpdump.pcap":{source:"iana",extensions:["pcap","cap","dmp"]
},"application/vnd.tmd.mediaflex.api+xml":{source:"iana"},"application/vnd.tml":{source:"iana"},"application/vnd.tmobile-livetv":{source:"iana",extensions:["tmo"]},"application/vnd.trid.tpt":{source:"iana",extensions:["tpt"]},"application/vnd.triscape.mxs":{source:"iana",extensions:["mxs"]},"application/vnd.trueapp":{source:"iana",extensions:["tra"]},"application/vnd.truedoc":{source:"iana"},"application/vnd.ubisoft.webplayer":{source:"iana"},"application/vnd.ufdl":{source:"iana",extensions:["ufd","ufdl"]},"application/vnd.uiq.theme":{source:"iana",extensions:["utz"]},"application/vnd.umajin":{source:"iana",extensions:["umj"]},"application/vnd.unity":{source:"iana",extensions:["unityweb"]},"application/vnd.uoml+xml":{source:"iana",extensions:["uoml"]},"application/vnd.uplanet.alert":{source:"iana"},"application/vnd.uplanet.alert-wbxml":{source:"iana"},"application/vnd.uplanet.bearer-choice":{source:"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{source:"iana"},"application/vnd.uplanet.cacheop":{source:"iana"},"application/vnd.uplanet.cacheop-wbxml":{source:"iana"},"application/vnd.uplanet.channel":{source:"iana"},"application/vnd.uplanet.channel-wbxml":{source:"iana"},"application/vnd.uplanet.list":{source:"iana"},"application/vnd.uplanet.list-wbxml":{source:"iana"},"application/vnd.uplanet.listcmd":{source:"iana"},"application/vnd.uplanet.listcmd-wbxml":{source:"iana"},"application/vnd.uplanet.signal":{source:"iana"},"application/vnd.uri-map":{source:"iana"},"application/vnd.valve.source.material":{source:"iana"},"application/vnd.vcx":{source:"iana",extensions:["vcx"]},"application/vnd.vd-study":{source:"iana"},"application/vnd.vectorworks":{source:"iana"},"application/vnd.verimatrix.vcas":{source:"iana"},"application/vnd.vidsoft.vidconference":{source:"iana"},"application/vnd.visio":{source:"iana",extensions:["vsd","vst","vss","vsw"]},"application/vnd.visionary":{source:"iana",extensions:["vis"]},"application/vnd.vividence.scriptfile":{source:"iana"},"application/vnd.vsf":{source:"iana",extensions:["vsf"]},"application/vnd.wap.sic":{source:"iana"},"application/vnd.wap.slc":{source:"iana"},"application/vnd.wap.wbxml":{source:"iana",extensions:["wbxml"]},"application/vnd.wap.wmlc":{source:"iana",extensions:["wmlc"]},"application/vnd.wap.wmlscriptc":{source:"iana",extensions:["wmlsc"]},"application/vnd.webturbo":{source:"iana",extensions:["wtb"]},"application/vnd.wfa.p2p":{source:"iana"},"application/vnd.wfa.wsc":{source:"iana"},"application/vnd.windows.devicepairing":{source:"iana"},"application/vnd.wmc":{source:"iana"},"application/vnd.wmf.bootstrap":{source:"iana"},"application/vnd.wolfram.mathematica":{source:"iana"},"application/vnd.wolfram.mathematica.package":{source:"iana"},"application/vnd.wolfram.player":{source:"iana",extensions:["nbp"]},"application/vnd.wordperfect":{source:"iana",extensions:["wpd"]},"application/vnd.wqd":{source:"iana",extensions:["wqd"]},"application/vnd.wrq-hp3000-labelled":{source:"iana"},"application/vnd.wt.stf":{source:"iana",extensions:["stf"]},"application/vnd.wv.csp+wbxml":{source:"iana"},"application/vnd.wv.csp+xml":{source:"iana"},"application/vnd.wv.ssp+xml":{source:"iana"},"application/vnd.xacml+json":{source:"iana",compressible:!0},"application/vnd.xara":{source:"iana",extensions:["xar"]},"application/vnd.xfdl":{source:"iana",extensions:["xfdl"]},"application/vnd.xfdl.webform":{source:"iana"},"application/vnd.xmi+xml":{source:"iana"},"application/vnd.xmpie.cpkg":{source:"iana"},"application/vnd.xmpie.dpkg":{source:"iana"},"application/vnd.xmpie.plan":{source:"iana"},"application/vnd.xmpie.ppkg":{source:"iana"},"application/vnd.xmpie.xlim":{source:"iana"},"application/vnd.yamaha.hv-dic":{source:"iana",extensions:["hvd"]},"application/vnd.yamaha.hv-script":{source:"iana",extensions:["hvs"]},"application/vnd.yamaha.hv-voice":{source:"iana",extensions:["hvp"]},"application/vnd.yamaha.openscoreformat":{source:"iana",extensions:["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{source:"iana",extensions:["osfpvg"]},"application/vnd.yamaha.remote-setup":{source:"iana"},"application/vnd.yamaha.smaf-audio":{source:"iana",extensions:["saf"]},"application/vnd.yamaha.smaf-phrase":{source:"iana",extensions:["spf"]},"application/vnd.yamaha.through-ngn":{source:"iana"},"application/vnd.yamaha.tunnel-udpencap":{source:"iana"},"application/vnd.yaoweme":{source:"iana"},"application/vnd.yellowriver-custom-menu":{source:"iana",extensions:["cmp"]},"application/vnd.zul":{source:"iana",extensions:["zir","zirz"]},"application/vnd.zzazz.deck+xml":{source:"iana",extensions:["zaz"]},"application/voicexml+xml":{source:"iana",extensions:["vxml"]},"application/vq-rtcpxr":{source:"iana"},"application/watcherinfo+xml":{source:"iana"},"application/whoispp-query":{source:"iana"},"application/whoispp-response":{source:"iana"},"application/widget":{source:"iana",extensions:["wgt"]},"application/winhlp":{source:"apache",extensions:["hlp"]},"application/wita":{source:"iana"},"application/wordperfect5.1":{source:"iana"},"application/wsdl+xml":{source:"iana",extensions:["wsdl"]},"application/wspolicy+xml":{source:"iana",extensions:["wspolicy"]},"application/x-7z-compressed":{source:"apache",compressible:!1,extensions:["7z"]},"application/x-abiword":{source:"apache",extensions:["abw"]},"application/x-ace-compressed":{source:"apache",extensions:["ace"]},"application/x-amf":{source:"apache"},"application/x-apple-diskimage":{source:"apache",extensions:["dmg"]},"application/x-authorware-bin":{source:"apache",extensions:["aab","x32","u32","vox"]},"application/x-authorware-map":{source:"apache",extensions:["aam"]},"application/x-authorware-seg":{source:"apache",extensions:["aas"]},"application/x-bcpio":{source:"apache",extensions:["bcpio"]},"application/x-bdoc":{compressible:!1,extensions:["bdoc"]},"application/x-bittorrent":{source:"apache",extensions:["torrent"]},"application/x-blorb":{source:"apache",extensions:["blb","blorb"]},"application/x-bzip":{source:"apache",compressible:!1,extensions:["bz"]},"application/x-bzip2":{source:"apache",compressible:!1,extensions:["bz2","boz"]},"application/x-cbr":{source:"apache",extensions:["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{source:"apache",extensions:["vcd"]},"application/x-cfs-compressed":{source:"apache",extensions:["cfs"]},"application/x-chat":{source:"apache",extensions:["chat"]},"application/x-chess-pgn":{source:"apache",extensions:["pgn"]},"application/x-chrome-extension":{extensions:["crx"]},"application/x-cocoa":{source:"nginx",extensions:["cco"]},"application/x-compress":{source:"apache"},"application/x-conference":{source:"apache",extensions:["nsc"]},"application/x-cpio":{source:"apache",extensions:["cpio"]},"application/x-csh":{source:"apache",extensions:["csh"]},"application/x-deb":{compressible:!1},"application/x-debian-package":{source:"apache",extensions:["deb","udeb"]},"application/x-dgc-compressed":{source:"apache",extensions:["dgc"]},"application/x-director":{source:"apache",extensions:["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{source:"apache",extensions:["wad"]},"application/x-dtbncx+xml":{source:"apache",extensions:["ncx"]},"application/x-dtbook+xml":{source:"apache",extensions:["dtb"]},"application/x-dtbresource+xml":{source:"apache",extensions:["res"]},"application/x-dvi":{source:"apache",compressible:!1,extensions:["dvi"]},"application/x-envoy":{source:"apache",extensions:["evy"]},"application/x-eva":{source:"apache",extensions:["eva"]},"application/x-font-bdf":{source:"apache",extensions:["bdf"]},"application/x-font-dos":{source:"apache"},"application/x-font-framemaker":{source:"apache"},"application/x-font-ghostscript":{source:"apache",extensions:["gsf"]},"application/x-font-libgrx":{source:"apache"},"application/x-font-linux-psf":{source:"apache",extensions:["psf"]},"application/x-font-otf":{source:"apache",compressible:!0,extensions:["otf"]},"application/x-font-pcf":{source:"apache",extensions:["pcf"]},"application/x-font-snf":{source:"apache",extensions:["snf"]},"application/x-font-speedo":{source:"apache"},"application/x-font-sunos-news":{source:"apache"},"application/x-font-ttf":{source:"apache",compressible:!0,extensions:["ttf","ttc"]},"application/x-font-type1":{source:"apache",extensions:["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{source:"apache"},"application/x-freearc":{source:"apache",extensions:["arc"]},"application/x-futuresplash":{source:"apache",extensions:["spl"]},"application/x-gca-compressed":{source:"apache",extensions:["gca"]},"application/x-glulx":{source:"apache",extensions:["ulx"]},"application/x-gnumeric":{source:"apache",extensions:["gnumeric"]},"application/x-gramps-xml":{source:"apache",extensions:["gramps"]},"application/x-gtar":{source:"apache",extensions:["gtar"]},"application/x-gzip":{source:"apache"},"application/x-hdf":{source:"apache",extensions:["hdf"]},"application/x-httpd-php":{compressible:!0,extensions:["php"]},"application/x-install-instructions":{source:"apache",extensions:["install"]},"application/x-iso9660-image":{source:"apache",extensions:["iso"]},"application/x-java-archive-diff":{source:"nginx",extensions:["jardiff"]},"application/x-java-jnlp-file":{source:"apache",compressible:!1,extensions:["jnlp"]},"application/x-javascript":{compressible:!0},"application/x-latex":{source:"apache",compressible:!1,extensions:["latex"]},"application/x-lua-bytecode":{extensions:["luac"]},"application/x-lzh-compressed":{source:"apache",extensions:["lzh","lha"]},"application/x-makeself":{source:"nginx",extensions:["run"]},"application/x-mie":{source:"apache",extensions:["mie"]},"application/x-mobipocket-ebook":{source:"apache",extensions:["prc","mobi"]},"application/x-mpegurl":{compressible:!1},"application/x-ms-application":{source:"apache",extensions:["application"]},"application/x-ms-shortcut":{source:"apache",extensions:["lnk"]},"application/x-ms-wmd":{source:"apache",extensions:["wmd"]},"application/x-ms-wmz":{source:"apache",extensions:["wmz"]},"application/x-ms-xbap":{source:"apache",extensions:["xbap"]},"application/x-msaccess":{source:"apache",extensions:["mdb"]},"application/x-msbinder":{source:"apache",extensions:["obd"]},"application/x-mscardfile":{source:"apache",extensions:["crd"]},"application/x-msclip":{source:"apache",extensions:["clp"]},"application/x-msdos-program":{extensions:["exe"]},"application/x-msdownload":{source:"apache",extensions:["exe","dll","com","bat","msi"]},"application/x-msmediaview":{source:"apache",extensions:["mvb","m13","m14"]},"application/x-msmetafile":{source:"apache",extensions:["wmf","wmz","emf","emz"]},"application/x-msmoney":{source:"apache",extensions:["mny"]},"application/x-mspublisher":{source:"apache",extensions:["pub"]},"application/x-msschedule":{source:"apache",extensions:["scd"]},"application/x-msterminal":{source:"apache",extensions:["trm"]},"application/x-mswrite":{source:"apache",extensions:["wri"]},"application/x-netcdf":{source:"apache",extensions:["nc","cdf"]},"application/x-ns-proxy-autoconfig":{compressible:!0,extensions:["pac"]},"application/x-nzb":{source:"apache",extensions:["nzb"]},"application/x-perl":{source:"nginx",extensions:["pl","pm"]},"application/x-pilot":{source:"nginx",extensions:["prc","pdb"]},"application/x-pkcs12":{source:"apache",compressible:!1,extensions:["p12","pfx"]},"application/x-pkcs7-certificates":{source:"apache",extensions:["p7b","spc"]},"application/x-pkcs7-certreqresp":{source:"apache",extensions:["p7r"]},"application/x-rar-compressed":{source:"apache",compressible:!1,extensions:["rar"]},"application/x-redhat-package-manager":{source:"nginx",extensions:["rpm"]},"application/x-research-info-systems":{source:"apache",extensions:["ris"]},"application/x-sea":{source:"nginx",extensions:["sea"]},"application/x-sh":{source:"apache",compressible:!0,extensions:["sh"]},"application/x-shar":{source:"apache",extensions:["shar"]},"application/x-shockwave-flash":{source:"apache",compressible:!1,extensions:["swf"]},"application/x-silverlight-app":{source:"apache",extensions:["xap"]},"application/x-sql":{source:"apache",extensions:["sql"]},"application/x-stuffit":{source:"apache",compressible:!1,extensions:["sit"]},"application/x-stuffitx":{source:"apache",extensions:["sitx"]},"application/x-subrip":{source:"apache",extensions:["srt"]},"application/x-sv4cpio":{source:"apache",extensions:["sv4cpio"]},"application/x-sv4crc":{source:"apache",extensions:["sv4crc"]},"application/x-t3vm-image":{source:"apache",extensions:["t3"]},"application/x-tads":{source:"apache",extensions:["gam"]},"application/x-tar":{source:"apache",compressible:!0,extensions:["tar"]},"application/x-tcl":{source:"apache",extensions:["tcl","tk"]},"application/x-tex":{source:"apache",extensions:["tex"]},"application/x-tex-tfm":{source:"apache",extensions:["tfm"]},"application/x-texinfo":{source:"apache",extensions:["texinfo","texi"]},"application/x-tgif":{source:"apache",extensions:["obj"]},"application/x-ustar":{source:"apache",extensions:["ustar"]},"application/x-wais-source":{source:"apache",extensions:["src"]},"application/x-web-app-manifest+json":{compressible:!0,extensions:["webapp"]},"application/x-www-form-urlencoded":{source:"iana",compressible:!0},"application/x-x509-ca-cert":{source:"apache",extensions:["der","crt","pem"]},"application/x-xfig":{source:"apache",extensions:["fig"]},"application/x-xliff+xml":{source:"apache",extensions:["xlf"]},"application/x-xpinstall":{source:"apache",compressible:!1,extensions:["xpi"]},"application/x-xz":{source:"apache",extensions:["xz"]},"application/x-zmachine":{source:"apache",extensions:["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{source:"iana"},"application/xacml+xml":{source:"iana"},"application/xaml+xml":{source:"apache",extensions:["xaml"]},"application/xcap-att+xml":{source:"iana"},"application/xcap-caps+xml":{source:"iana"},"application/xcap-diff+xml":{source:"iana",extensions:["xdf"]},"application/xcap-el+xml":{source:"iana"},"application/xcap-error+xml":{source:"iana"},"application/xcap-ns+xml":{source:"iana"},"application/xcon-conference-info+xml":{source:"iana"},"application/xcon-conference-info-diff+xml":{source:"iana"},"application/xenc+xml":{source:"iana",extensions:["xenc"]},"application/xhtml+xml":{source:"iana",compressible:!0,extensions:["xhtml","xht"]},"application/xhtml-voice+xml":{source:"apache"},"application/xml":{source:"iana",compressible:!0,extensions:["xml","xsl","xsd","rng"]},"application/xml-dtd":{source:"iana",compressible:!0,extensions:["dtd"]},"application/xml-external-parsed-entity":{source:"iana"},"application/xml-patch+xml":{source:"iana"},"application/xmpp+xml":{source:"iana"},"application/xop+xml":{source:"iana",compressible:!0,extensions:["xop"]},"application/xproc+xml":{source:"apache",extensions:["xpl"]},"application/xslt+xml":{source:"iana",extensions:["xslt"]},"application/xspf+xml":{source:"apache",extensions:["xspf"]},"application/xv+xml":{source:"iana",extensions:["mxml","xhvml","xvml","xvm"]},"application/yang":{source:"iana",extensions:["yang"]},"application/yin+xml":{source:"iana",extensions:["yin"]},"application/zip":{source:"iana",compressible:!1,extensions:["zip"]},"application/zlib":{source:"iana"},"audio/1d-interleaved-parityfec":{source:"iana"},"audio/32kadpcm":{source:"iana"},"audio/3gpp":{source:"iana"},"audio/3gpp2":{source:"iana"},"audio/ac3":{source:"iana"},"audio/adpcm":{source:"apache",extensions:["adp"]},"audio/amr":{source:"iana"},"audio/amr-wb":{source:"iana"},"audio/amr-wb+":{source:"iana"},"audio/aptx":{source:"iana"},"audio/asc":{source:"iana"},"audio/atrac-advanced-lossless":{source:"iana"},"audio/atrac-x":{source:"iana"},"audio/atrac3":{source:"iana"},"audio/basic":{source:"iana",compressible:!1,extensions:["au","snd"]},"audio/bv16":{source:"iana"},"audio/bv32":{source:"iana"},"audio/clearmode":{source:"iana"},"audio/cn":{source:"iana"},"audio/dat12":{source:"iana"},"audio/dls":{source:"iana"},"audio/dsr-es201108":{source:"iana"},"audio/dsr-es202050":{source:"iana"},"audio/dsr-es202211":{source:"iana"},"audio/dsr-es202212":{source:"iana"},"audio/dv":{source:"iana"},"audio/dvi4":{source:"iana"},"audio/eac3":{source:"iana"},"audio/encaprtp":{source:"iana"},"audio/evrc":{source:"iana"},"audio/evrc-qcp":{source:"iana"},"audio/evrc0":{source:"iana"},"audio/evrc1":{source:"iana"},"audio/evrcb":{source:"iana"},"audio/evrcb0":{source:"iana"},"audio/evrcb1":{source:"iana"},"audio/evrcnw":{source:"iana"},"audio/evrcnw0":{source:"iana"},"audio/evrcnw1":{source:"iana"},"audio/evrcwb":{source:"iana"},"audio/evrcwb0":{source:"iana"},"audio/evrcwb1":{source:"iana"},"audio/evs":{source:"iana"},"audio/fwdred":{source:"iana"},"audio/g711-0":{source:"iana"},"audio/g719":{source:"iana"},"audio/g722":{source:"iana"},"audio/g7221":{source:"iana"},"audio/g723":{source:"iana"},"audio/g726-16":{source:"iana"},"audio/g726-24":{source:"iana"},"audio/g726-32":{source:"iana"},"audio/g726-40":{source:"iana"},"audio/g728":{source:"iana"},"audio/g729":{source:"iana"},"audio/g7291":{source:"iana"},"audio/g729d":{source:"iana"},"audio/g729e":{source:"iana"},"audio/gsm":{source:"iana"},"audio/gsm-efr":{source:"iana"},"audio/gsm-hr-08":{source:"iana"},"audio/ilbc":{source:"iana"},"audio/ip-mr_v2.5":{source:"iana"},"audio/isac":{source:"apache"},"audio/l16":{source:"iana"},"audio/l20":{source:"iana"},"audio/l24":{source:"iana",compressible:!1},"audio/l8":{source:"iana"},"audio/lpc":{source:"iana"},"audio/midi":{source:"apache",extensions:["mid","midi","kar","rmi"]},"audio/mobile-xmf":{source:"iana"},"audio/mp4":{source:"iana",compressible:!1,extensions:["m4a","mp4a"]},"audio/mp4a-latm":{source:"iana"},"audio/mpa":{source:"iana"},"audio/mpa-robust":{source:"iana"},"audio/mpeg":{source:"iana",compressible:!1,extensions:["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{source:"iana"},"audio/musepack":{source:"apache"},"audio/ogg":{source:"iana",compressible:!1,extensions:["oga","ogg","spx"]},"audio/opus":{source:"iana"},"audio/parityfec":{source:"iana"},"audio/pcma":{source:"iana"},"audio/pcma-wb":{source:"iana"},"audio/pcmu":{source:"iana"},"audio/pcmu-wb":{source:"iana"},"audio/prs.sid":{source:"iana"},"audio/qcelp":{source:"iana"},"audio/raptorfec":{source:"iana"},"audio/red":{source:"iana"},"audio/rtp-enc-aescm128":{source:"iana"},"audio/rtp-midi":{source:"iana"},"audio/rtploopback":{source:"iana"},"audio/rtx":{source:"iana"},"audio/s3m":{source:"apache",extensions:["s3m"]},"audio/silk":{source:"apache",extensions:["sil"]},"audio/smv":{source:"iana"},"audio/smv-qcp":{source:"iana"},"audio/smv0":{source:"iana"},"audio/sp-midi":{source:"iana"},"audio/speex":{source:"iana"},"audio/t140c":{source:"iana"},"audio/t38":{source:"iana"},"audio/telephone-event":{source:"iana"},"audio/tone":{source:"iana"},"audio/uemclip":{source:"iana"},"audio/ulpfec":{source:"iana"},"audio/vdvi":{source:"iana"},"audio/vmr-wb":{source:"iana"},"audio/vnd.3gpp.iufp":{source:"iana"},"audio/vnd.4sb":{source:"iana"},"audio/vnd.audiokoz":{source:"iana"},"audio/vnd.celp":{source:"iana"},"audio/vnd.cisco.nse":{source:"iana"},"audio/vnd.cmles.radio-events":{source:"iana"},"audio/vnd.cns.anp1":{source:"iana"},"audio/vnd.cns.inf1":{source:"iana"},"audio/vnd.dece.audio":{source:"iana",extensions:["uva","uvva"]},"audio/vnd.digital-winds":{source:"iana",extensions:["eol"]},"audio/vnd.dlna.adts":{source:"iana"},"audio/vnd.dolby.heaac.1":{source:"iana"},"audio/vnd.dolby.heaac.2":{source:"iana"},"audio/vnd.dolby.mlp":{source:"iana"},"audio/vnd.dolby.mps":{source:"iana"},"audio/vnd.dolby.pl2":{source:"iana"},"audio/vnd.dolby.pl2x":{source:"iana"},"audio/vnd.dolby.pl2z":{source:"iana"},"audio/vnd.dolby.pulse.1":{source:"iana"},"audio/vnd.dra":{source:"iana",extensions:["dra"]},"audio/vnd.dts":{source:"iana",extensions:["dts"]},"audio/vnd.dts.hd":{source:"iana",extensions:["dtshd"]},"audio/vnd.dvb.file":{source:"iana"},"audio/vnd.everad.plj":{source:"iana"},"audio/vnd.hns.audio":{source:"iana"},"audio/vnd.lucent.voice":{source:"iana",extensions:["lvp"]},"audio/vnd.ms-playready.media.pya":{source:"iana",extensions:["pya"]},"audio/vnd.nokia.mobile-xmf":{source:"iana"},"audio/vnd.nortel.vbk":{source:"iana"},"audio/vnd.nuera.ecelp4800":{source:"iana",extensions:["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{source:"iana",extensions:["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{source:"iana",extensions:["ecelp9600"]},"audio/vnd.octel.sbc":{source:"iana"},"audio/vnd.qcelp":{source:"iana"},"audio/vnd.rhetorex.32kadpcm":{source:"iana"},"audio/vnd.rip":{source:"iana",extensions:["rip"]},"audio/vnd.rn-realaudio":{compressible:!1},"audio/vnd.sealedmedia.softseal.mpeg":{source:"iana"},"audio/vnd.vmx.cvsd":{source:"iana"},"audio/vnd.wave":{compressible:!1},"audio/vorbis":{source:"iana",compressible:!1},"audio/vorbis-config":{source:"iana"},"audio/wav":{compressible:!1,extensions:["wav"]},"audio/wave":{compressible:!1,extensions:["wav"]},"audio/webm":{source:"apache",compressible:!1,extensions:["weba"]},"audio/x-aac":{source:"apache",compressible:!1,extensions:["aac"]},"audio/x-aiff":{source:"apache",extensions:["aif","aiff","aifc"]},"audio/x-caf":{source:"apache",compressible:!1,extensions:["caf"]},"audio/x-flac":{source:"apache",extensions:["flac"]},"audio/x-m4a":{source:"nginx",extensions:["m4a"]},"audio/x-matroska":{source:"apache",extensions:["mka"]},"audio/x-mpegurl":{source:"apache",extensions:["m3u"]},"audio/x-ms-wax":{source:"apache",extensions:["wax"]},"audio/x-ms-wma":{source:"apache",extensions:["wma"]},"audio/x-pn-realaudio":{source:"apache",extensions:["ram","ra"]},"audio/x-pn-realaudio-plugin":{source:"apache",extensions:["rmp"]},"audio/x-realaudio":{source:"nginx",extensions:["ra"]},"audio/x-tta":{source:"apache"},"audio/x-wav":{source:"apache",extensions:["wav"]},"audio/xm":{source:"apache",extensions:["xm"]},"chemical/x-cdx":{source:"apache",extensions:["cdx"]},"chemical/x-cif":{source:"apache",extensions:["cif"]},"chemical/x-cmdf":{source:"apache",extensions:["cmdf"]},"chemical/x-cml":{source:"apache",extensions:["cml"]},"chemical/x-csml":{source:"apache",extensions:["csml"]},"chemical/x-pdb":{source:"apache"},"chemical/x-xyz":{source:"apache",extensions:["xyz"]},"font/opentype":{compressible:!0,extensions:["otf"]},"image/bmp":{source:"apache",compressible:!0,extensions:["bmp"]},"image/cgm":{source:"iana",extensions:["cgm"]},"image/fits":{source:"iana"},"image/g3fax":{source:"iana",extensions:["g3"]},"image/gif":{source:"iana",compressible:!1,extensions:["gif"]},"image/ief":{source:"iana",extensions:["ief"]},"image/jp2":{source:"iana"},"image/jpeg":{source:"iana",compressible:!1,extensions:["jpeg","jpg","jpe"]},"image/jpm":{source:"iana"},"image/jpx":{source:"iana"},"image/ktx":{source:"iana",extensions:["ktx"]},"image/naplps":{source:"iana"},"image/pjpeg":{compressible:!1},"image/png":{source:"iana",compressible:!1,extensions:["png"]},"image/prs.btif":{source:"iana",extensions:["btif"]},"image/prs.pti":{source:"iana"},"image/pwg-raster":{source:"iana"},"image/sgi":{source:"apache",extensions:["sgi"]},"image/svg+xml":{source:"iana",compressible:!0,extensions:["svg","svgz"]},"image/t38":{source:"iana"},"image/tiff":{source:"iana",compressible:!1,extensions:["tiff","tif"]},"image/tiff-fx":{source:"iana"},"image/vnd.adobe.photoshop":{source:"iana",compressible:!0,extensions:["psd"]},"image/vnd.airzip.accelerator.azv":{source:"iana"},"image/vnd.cns.inf2":{source:"iana"},"image/vnd.dece.graphic":{source:"iana",extensions:["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{source:"iana",extensions:["djvu","djv"]},"image/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"image/vnd.dwg":{source:"iana",extensions:["dwg"]},"image/vnd.dxf":{source:"iana",extensions:["dxf"]},"image/vnd.fastbidsheet":{source:"iana",extensions:["fbs"]},"image/vnd.fpx":{source:"iana",extensions:["fpx"]},"image/vnd.fst":{source:"iana",extensions:["fst"]},"image/vnd.fujixerox.edmics-mmr":{source:"iana",extensions:["mmr"]},"image/vnd.fujixerox.edmics-rlc":{source:"iana",extensions:["rlc"]},"image/vnd.globalgraphics.pgb":{source:"iana"},"image/vnd.microsoft.icon":{source:"iana"},"image/vnd.mix":{source:"iana"},"image/vnd.mozilla.apng":{source:"iana"},"image/vnd.ms-modi":{source:"iana",extensions:["mdi"]},"image/vnd.ms-photo":{source:"apache",extensions:["wdp"]},"image/vnd.net-fpx":{source:"iana",extensions:["npx"]},"image/vnd.radiance":{source:"iana"},"image/vnd.sealed.png":{source:"iana"},"image/vnd.sealedmedia.softseal.gif":{source:"iana"},"image/vnd.sealedmedia.softseal.jpg":{source:"iana"},"image/vnd.svf":{source:"iana"},"image/vnd.tencent.tap":{source:"iana"},"image/vnd.valve.source.texture":{source:"iana"},"image/vnd.wap.wbmp":{source:"iana",extensions:["wbmp"]},"image/vnd.xiff":{source:"iana",extensions:["xif"]},"image/vnd.zbrush.pcx":{source:"iana"},"image/webp":{source:"apache",extensions:["webp"]},"image/x-3ds":{source:"apache",extensions:["3ds"]},"image/x-cmu-raster":{source:"apache",extensions:["ras"]},"image/x-cmx":{source:"apache",extensions:["cmx"]},"image/x-freehand":{source:"apache",extensions:["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{source:"apache",compressible:!0,extensions:["ico"]},"image/x-jng":{source:"nginx",extensions:["jng"]},"image/x-mrsid-image":{source:"apache",extensions:["sid"]},"image/x-ms-bmp":{source:"nginx",compressible:!0,extensions:["bmp"]},"image/x-pcx":{source:"apache",extensions:["pcx"]},"image/x-pict":{source:"apache",extensions:["pic","pct"]},"image/x-portable-anymap":{source:"apache",extensions:["pnm"]},"image/x-portable-bitmap":{source:"apache",extensions:["pbm"]},"image/x-portable-graymap":{source:"apache",extensions:["pgm"]},"image/x-portable-pixmap":{source:"apache",extensions:["ppm"]},"image/x-rgb":{source:"apache",extensions:["rgb"]},"image/x-tga":{source:"apache",extensions:["tga"]},"image/x-xbitmap":{source:"apache",extensions:["xbm"]},"image/x-xcf":{compressible:!1},"image/x-xpixmap":{source:"apache",extensions:["xpm"]},"image/x-xwindowdump":{source:"apache",extensions:["xwd"]},"message/cpim":{source:"iana"},"message/delivery-status":{source:"iana"},"message/disposition-notification":{source:"iana"},"message/external-body":{source:"iana"},"message/feedback-report":{source:"iana"},"message/global":{source:"iana"},"message/global-delivery-status":{source:"iana"},"message/global-disposition-notification":{source:"iana"},"message/global-headers":{source:"iana"},"message/http":{source:"iana",compressible:!1},"message/imdn+xml":{source:"iana",compressible:!0},"message/news":{source:"iana"},"message/partial":{source:"iana",compressible:!1},"message/rfc822":{source:"iana",compressible:!0,extensions:["eml","mime"]},"message/s-http":{source:"iana"},"message/sip":{source:"iana"},"message/sipfrag":{source:"iana"},"message/tracking-status":{source:"iana"},"message/vnd.si.simp":{source:"iana"},"message/vnd.wfa.wsc":{source:"iana"},"model/iges":{source:"iana",compressible:!1,extensions:["igs","iges"]},"model/mesh":{source:"iana",compressible:!1,extensions:["msh","mesh","silo"]},"model/vnd.collada+xml":{source:"iana",extensions:["dae"]},"model/vnd.dwf":{source:"iana",extensions:["dwf"]},"model/vnd.flatland.3dml":{source:"iana"},"model/vnd.gdl":{source:"iana",extensions:["gdl"]},"model/vnd.gs-gdl":{source:"apache"},"model/vnd.gs.gdl":{source:"iana"},"model/vnd.gtw":{source:"iana",extensions:["gtw"]},"model/vnd.moml+xml":{source:"iana"},"model/vnd.mts":{source:"iana",extensions:["mts"]},"model/vnd.opengex":{source:"iana"},"model/vnd.parasolid.transmit.binary":{source:"iana"},"model/vnd.parasolid.transmit.text":{source:"iana"},"model/vnd.rosette.annotated-data-model":{source:"iana"},"model/vnd.valve.source.compiled-map":{source:"iana"},"model/vnd.vtu":{source:"iana",extensions:["vtu"]},"model/vrml":{source:"iana",compressible:!1,extensions:["wrl","vrml"]},"model/x3d+binary":{source:"apache",compressible:!1,extensions:["x3db","x3dbz"]},"model/x3d+fastinfoset":{source:"iana"},"model/x3d+vrml":{source:"apache",compressible:!1,extensions:["x3dv","x3dvz"]},"model/x3d+xml":{source:"iana",compressible:!0,extensions:["x3d","x3dz"]},"model/x3d-vrml":{source:"iana"},"multipart/alternative":{source:"iana",compressible:!1},"multipart/appledouble":{source:"iana"},"multipart/byteranges":{source:"iana"},"multipart/digest":{source:"iana"},"multipart/encrypted":{source:"iana",compressible:!1},"multipart/form-data":{source:"iana",compressible:!1},"multipart/header-set":{source:"iana"},"multipart/mixed":{source:"iana",compressible:!1},"multipart/parallel":{source:"iana"},"multipart/related":{source:"iana",compressible:!1},"multipart/report":{source:"iana"},"multipart/signed":{source:"iana",compressible:!1},"multipart/voice-message":{source:"iana"},"multipart/x-mixed-replace":{source:"iana"},"text/1d-interleaved-parityfec":{source:"iana"},"text/cache-manifest":{source:"iana",compressible:!0,extensions:["appcache","manifest"]},"text/calendar":{source:"iana",extensions:["ics","ifb"]},"text/calender":{compressible:!0},"text/cmd":{compressible:!0},"text/coffeescript":{extensions:["coffee","litcoffee"]},"text/css":{source:"iana",compressible:!0,extensions:["css"]},"text/csv":{source:"iana",compressible:!0,extensions:["csv"]},"text/csv-schema":{source:"iana"},"text/directory":{source:"iana"},"text/dns":{source:"iana"},"text/ecmascript":{source:"iana"},"text/encaprtp":{source:"iana"},"text/enriched":{source:"iana"},"text/fwdred":{source:"iana"},"text/grammar-ref-list":{source:"iana"},"text/hjson":{extensions:["hjson"]},"text/html":{source:"iana",compressible:!0,extensions:["html","htm","shtml"]},"text/jade":{extensions:["jade"]},"text/javascript":{source:"iana",compressible:!0},"text/jcr-cnd":{source:"iana"},"text/jsx":{compressible:!0,extensions:["jsx"]},"text/less":{extensions:["less"]},"text/markdown":{source:"iana"},"text/mathml":{source:"nginx",extensions:["mml"]},"text/mizar":{source:"iana"},"text/n3":{source:"iana",compressible:!0,extensions:["n3"]},"text/parameters":{source:"iana"},"text/parityfec":{source:"iana"},"text/plain":{source:"iana",compressible:!0,extensions:["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{source:"iana"},"text/prs.fallenstein.rst":{source:"iana"},"text/prs.lines.tag":{source:"iana",extensions:["dsc"]},"text/raptorfec":{source:"iana"},"text/red":{source:"iana"},"text/rfc822-headers":{source:"iana"},"text/richtext":{source:"iana",compressible:!0,extensions:["rtx"]},"text/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"text/rtp-enc-aescm128":{source:"iana"},"text/rtploopback":{source:"iana"},"text/rtx":{source:"iana"},"text/sgml":{source:"iana",extensions:["sgml","sgm"]},"text/slim":{extensions:["slim","slm"]},"text/stylus":{extensions:["stylus","styl"]},"text/t140":{source:"iana"},"text/tab-separated-values":{source:"iana",compressible:!0,extensions:["tsv"]},"text/troff":{source:"iana",extensions:["t","tr","roff","man","me","ms"]},"text/turtle":{source:"iana",extensions:["ttl"]},"text/ulpfec":{source:"iana"},"text/uri-list":{source:"iana",compressible:!0,extensions:["uri","uris","urls"]},"text/vcard":{source:"iana",compressible:!0,extensions:["vcard"]},"text/vnd.a":{source:"iana"},"text/vnd.abc":{source:"iana"},"text/vnd.curl":{source:"iana",extensions:["curl"]},"text/vnd.curl.dcurl":{source:"apache",extensions:["dcurl"]},"text/vnd.curl.mcurl":{source:"apache",extensions:["mcurl"]},"text/vnd.curl.scurl":{source:"apache",extensions:["scurl"]},"text/vnd.debian.copyright":{source:"iana"},"text/vnd.dmclientscript":{source:"iana"},"text/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"text/vnd.esmertec.theme-descriptor":{source:"iana"},"text/vnd.fly":{source:"iana",extensions:["fly"]},"text/vnd.fmi.flexstor":{source:"iana",extensions:["flx"]},"text/vnd.graphviz":{source:"iana",extensions:["gv"]},"text/vnd.in3d.3dml":{source:"iana",extensions:["3dml"]},"text/vnd.in3d.spot":{source:"iana",extensions:["spot"]},"text/vnd.iptc.newsml":{source:"iana"},"text/vnd.iptc.nitf":{source:"iana"},"text/vnd.latex-z":{source:"iana"},"text/vnd.motorola.reflex":{source:"iana"
},"text/vnd.ms-mediapackage":{source:"iana"},"text/vnd.net2phone.commcenter.command":{source:"iana"},"text/vnd.radisys.msml-basic-layout":{source:"iana"},"text/vnd.si.uricatalogue":{source:"iana"},"text/vnd.sun.j2me.app-descriptor":{source:"iana",extensions:["jad"]},"text/vnd.trolltech.linguist":{source:"iana"},"text/vnd.wap.si":{source:"iana"},"text/vnd.wap.sl":{source:"iana"},"text/vnd.wap.wml":{source:"iana",extensions:["wml"]},"text/vnd.wap.wmlscript":{source:"iana",extensions:["wmls"]},"text/vtt":{charset:"UTF-8",compressible:!0,extensions:["vtt"]},"text/x-asm":{source:"apache",extensions:["s","asm"]},"text/x-c":{source:"apache",extensions:["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{source:"nginx",extensions:["htc"]},"text/x-fortran":{source:"apache",extensions:["f","for","f77","f90"]},"text/x-gwt-rpc":{compressible:!0},"text/x-handlebars-template":{extensions:["hbs"]},"text/x-java-source":{source:"apache",extensions:["java"]},"text/x-jquery-tmpl":{compressible:!0},"text/x-lua":{extensions:["lua"]},"text/x-markdown":{compressible:!0,extensions:["markdown","md","mkd"]},"text/x-nfo":{source:"apache",extensions:["nfo"]},"text/x-opml":{source:"apache",extensions:["opml"]},"text/x-pascal":{source:"apache",extensions:["p","pas"]},"text/x-processing":{compressible:!0,extensions:["pde"]},"text/x-sass":{extensions:["sass"]},"text/x-scss":{extensions:["scss"]},"text/x-setext":{source:"apache",extensions:["etx"]},"text/x-sfv":{source:"apache",extensions:["sfv"]},"text/x-suse-ymp":{compressible:!0,extensions:["ymp"]},"text/x-uuencode":{source:"apache",extensions:["uu"]},"text/x-vcalendar":{source:"apache",extensions:["vcs"]},"text/x-vcard":{source:"apache",extensions:["vcf"]},"text/xml":{source:"iana",compressible:!0,extensions:["xml"]},"text/xml-external-parsed-entity":{source:"iana"},"text/yaml":{extensions:["yaml","yml"]},"video/1d-interleaved-parityfec":{source:"apache"},"video/3gpp":{source:"apache",extensions:["3gp","3gpp"]},"video/3gpp-tt":{source:"apache"},"video/3gpp2":{source:"apache",extensions:["3g2"]},"video/bmpeg":{source:"apache"},"video/bt656":{source:"apache"},"video/celb":{source:"apache"},"video/dv":{source:"apache"},"video/h261":{source:"apache",extensions:["h261"]},"video/h263":{source:"apache",extensions:["h263"]},"video/h263-1998":{source:"apache"},"video/h263-2000":{source:"apache"},"video/h264":{source:"apache",extensions:["h264"]},"video/h264-rcdo":{source:"apache"},"video/h264-svc":{source:"apache"},"video/jpeg":{source:"apache",extensions:["jpgv"]},"video/jpeg2000":{source:"apache"},"video/jpm":{source:"apache",extensions:["jpm","jpgm"]},"video/mj2":{source:"apache",extensions:["mj2","mjp2"]},"video/mp1s":{source:"apache"},"video/mp2p":{source:"apache"},"video/mp2t":{source:"apache",extensions:["ts"]},"video/mp4":{source:"apache",compressible:!1,extensions:["mp4","mp4v","mpg4"]},"video/mp4v-es":{source:"apache"},"video/mpeg":{source:"apache",compressible:!1,extensions:["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{source:"apache"},"video/mpv":{source:"apache"},"video/nv":{source:"apache"},"video/ogg":{source:"apache",compressible:!1,extensions:["ogv"]},"video/parityfec":{source:"apache"},"video/pointer":{source:"apache"},"video/quicktime":{source:"apache",compressible:!1,extensions:["qt","mov"]},"video/raw":{source:"apache"},"video/rtp-enc-aescm128":{source:"apache"},"video/rtx":{source:"apache"},"video/smpte292m":{source:"apache"},"video/ulpfec":{source:"apache"},"video/vc1":{source:"apache"},"video/vnd.cctv":{source:"apache"},"video/vnd.dece.hd":{source:"apache",extensions:["uvh","uvvh"]},"video/vnd.dece.mobile":{source:"apache",extensions:["uvm","uvvm"]},"video/vnd.dece.mp4":{source:"apache"},"video/vnd.dece.pd":{source:"apache",extensions:["uvp","uvvp"]},"video/vnd.dece.sd":{source:"apache",extensions:["uvs","uvvs"]},"video/vnd.dece.video":{source:"apache",extensions:["uvv","uvvv"]},"video/vnd.directv.mpeg":{source:"apache"},"video/vnd.directv.mpeg-tts":{source:"apache"},"video/vnd.dlna.mpeg-tts":{source:"apache"},"video/vnd.dvb.file":{source:"apache",extensions:["dvb"]},"video/vnd.fvt":{source:"apache",extensions:["fvt"]},"video/vnd.hns.video":{source:"apache"},"video/vnd.iptvforum.1dparityfec-1010":{source:"apache"},"video/vnd.iptvforum.1dparityfec-2005":{source:"apache"},"video/vnd.iptvforum.2dparityfec-1010":{source:"apache"},"video/vnd.iptvforum.2dparityfec-2005":{source:"apache"},"video/vnd.iptvforum.ttsavc":{source:"apache"},"video/vnd.iptvforum.ttsmpeg2":{source:"apache"},"video/vnd.motorola.video":{source:"apache"},"video/vnd.motorola.videop":{source:"apache"},"video/vnd.mpegurl":{source:"apache",extensions:["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{source:"apache",extensions:["pyv"]},"video/vnd.nokia.interleaved-multimedia":{source:"apache"},"video/vnd.nokia.videovoip":{source:"apache"},"video/vnd.objectvideo":{source:"apache"},"video/vnd.sealed.mpeg1":{source:"apache"},"video/vnd.sealed.mpeg4":{source:"apache"},"video/vnd.sealed.swf":{source:"apache"},"video/vnd.sealedmedia.softseal.mov":{source:"apache"},"video/vnd.uvvu.mp4":{source:"apache",extensions:["uvu","uvvu"]},"video/vnd.vivo":{source:"apache",extensions:["viv"]},"video/webm":{source:"apache",compressible:!1,extensions:["webm"]},"video/x-f4v":{source:"apache",extensions:["f4v"]},"video/x-fli":{source:"apache",extensions:["fli"]},"video/x-flv":{source:"apache",compressible:!1,extensions:["flv"]},"video/x-m4v":{source:"apache",extensions:["m4v"]},"video/x-matroska":{source:"apache",compressible:!1,extensions:["mkv","mk3d","mks"]},"video/x-mng":{source:"apache",extensions:["mng"]},"video/x-ms-asf":{source:"apache",extensions:["asf","asx"]},"video/x-ms-vob":{source:"apache",extensions:["vob"]},"video/x-ms-wm":{source:"apache",extensions:["wm"]},"video/x-ms-wmv":{source:"apache",compressible:!1,extensions:["wmv"]},"video/x-ms-wmx":{source:"apache",extensions:["wmx"]},"video/x-ms-wvx":{source:"apache",extensions:["wvx"]},"video/x-msvideo":{source:"apache",extensions:["avi"]},"video/x-sgi-movie":{source:"apache",extensions:["movie"]},"video/x-smv":{source:"apache",extensions:["smv"]},"x-conference/x-cooltalk":{source:"apache",extensions:["ice"]},"x-shader/x-fragment":{compressible:!0},"x-shader/x-vertex":{compressible:!0}}},{}],109:[function(require,module,exports){module.exports=require("./db.json")},{"./db.json":108}],110:[function(require,module,exports){function createLineStream(readStream,options){if(!readStream)throw new Error("expected readStream");if(!readStream.readable)throw new Error("readStream must be readable");var ls=new LineStream(options);return readStream.pipe(ls),ls}function LineStream(options){stream.Transform.call(this,options),options=options||{},this._readableState.objectMode=!0,this._lineBuffer=[],this._keepEmptyLines=options.keepEmptyLines||!1,this._lastChunkEndedWithCR=!1,this.on("pipe",function(src){this.encoding||src instanceof stream.Readable&&(this.encoding=src._readableState.encoding)})}var stream=require("stream"),util=require("util");module.exports=function(readStream,options){return module.exports.createStream(readStream,options)},module.exports.createStream=function(readStream,options){return readStream?createLineStream(readStream,options):new LineStream(options)},module.exports.createLineStream=function(readStream){return console.log("WARNING: byline#createLineStream is deprecated and will be removed soon"),createLineStream(readStream)},module.exports.LineStream=LineStream,util.inherits(LineStream,stream.Transform),LineStream.prototype._transform=function(chunk,encoding,done){encoding=encoding||"utf8",Buffer.isBuffer(chunk)&&("buffer"==encoding?(chunk=chunk.toString(),encoding="utf8"):chunk=chunk.toString(encoding)),this._chunkEncoding=encoding;var lines=chunk.split(/\r\n|\r|\n/g);this._lastChunkEndedWithCR&&"\n"==chunk[0]&&lines.shift(),this._lineBuffer.length>0&&(this._lineBuffer[this._lineBuffer.length-1]+=lines[0],lines.shift()),this._lastChunkEndedWithCR="\r"==chunk[chunk.length-1],this._lineBuffer=this._lineBuffer.concat(lines),this._pushBuffer(encoding,1,done)},LineStream.prototype._pushBuffer=function(encoding,keep,done){for(;this._lineBuffer.length>keep;){var line=this._lineBuffer.shift();if((this._keepEmptyLines||line.length>0)&&!this.push(this._reencode(line,encoding))){var self=this;return void setImmediate(function(){self._pushBuffer(encoding,keep,done)})}}done()},LineStream.prototype._flush=function(done){this._pushBuffer(this._chunkEncoding,0,done)},LineStream.prototype._reencode=function(line,chunkEncoding){return this.encoding&&this.encoding!=chunkEncoding?new Buffer(line,chunkEncoding).toString(this.encoding):this.encoding?line:new Buffer(line,chunkEncoding)}},{stream:void 0,util:void 0}],111:[function(require,module,exports){function build(_styles){var builder=function builder(){return applyStyle.apply(builder,arguments)};return builder._styles=_styles,builder.__proto__=proto,builder}function applyStyle(){var args=arguments,argsLen=args.length,str=0!==argsLen&&String(arguments[0]);if(argsLen>1)for(var a=1;argsLen>a;a++)str+=" "+args[a];if(!colors.enabled||!str)return str;for(var nestedStyles=this._styles,i=nestedStyles.length;i--;){var code=ansiStyles[nestedStyles[i]];str=code.open+str.replace(code.closeRe,code.open)+code.close}return str}function applyTheme(theme){for(var style in theme)!function(style){colors[style]=function(str){if("object"==typeof theme[style]){var out=str;for(var i in theme[style])out=colors[theme[style][i]](out);return out}return colors[theme[style]](str)}}(style)}function init(){var ret={};return Object.keys(styles).forEach(function(name){ret[name]={get:function(){return build([name])}}}),ret}var colors={};module.exports=colors,colors.themes={};var ansiStyles=colors.styles=require("./styles"),defineProps=Object.defineProperties;colors.supportsColor=require("./system/supports-colors"),"undefined"==typeof colors.enabled&&(colors.enabled=colors.supportsColor),colors.stripColors=colors.strip=function(str){return(""+str).replace(/\x1B\[\d+m/g,"")};var matchOperatorsRe=(colors.stylize=function(str,style){return colors.enabled?ansiStyles[style].open+str+ansiStyles[style].close:str+""},/[|\\{}()[\]^$+*?.]/g),escapeStringRegexp=function(str){if("string"!=typeof str)throw new TypeError("Expected a string");return str.replace(matchOperatorsRe,"\\$&")},styles=function(){var ret={};return ansiStyles.grey=ansiStyles.gray,Object.keys(ansiStyles).forEach(function(key){ansiStyles[key].closeRe=new RegExp(escapeStringRegexp(ansiStyles[key].close),"g"),ret[key]={get:function(){return build(this._styles.concat(key))}}}),ret}(),proto=defineProps(function(){},styles);colors.setTheme=function(theme){if("string"==typeof theme)try{return colors.themes[theme]=require(theme),applyTheme(colors.themes[theme]),colors.themes[theme]}catch(err){return console.log(err),err}else applyTheme(theme)};var sequencer=function(map,str){var exploded=str.split("");return exploded=exploded.map(map),exploded.join("")};colors.trap=require("./custom/trap"),colors.zalgo=require("./custom/zalgo"),colors.maps={},colors.maps.america=require("./maps/america"),colors.maps.zebra=require("./maps/zebra"),colors.maps.rainbow=require("./maps/rainbow"),colors.maps.random=require("./maps/random");for(var map in colors.maps)!function(map){colors[map]=function(str){return sequencer(colors.maps[map],str)}}(map);defineProps(colors,init())},{"./custom/trap":112,"./custom/zalgo":113,"./maps/america":116,"./maps/rainbow":117,"./maps/random":118,"./maps/zebra":119,"./styles":120,"./system/supports-colors":121}],112:[function(require,module,exports){module.exports=function(text,options){var result="";text=text||"Run the trap, drop the bass",text=text.split("");var trap={a:["@","","","","","",""],b:["","","","","",""],c:["","",""],d:["","","","","",""],e:["","","","","","","",""],f:[""],g:[""],h:["","","","","",""],i:[""],j:[""],k:["","","",""],l:[""],m:["","","","","",""],n:["","","","","",""],o:["","","","","","","","",""],p:["",""],q:[""],r:["","","","","",""],s:["","","",""],t:["","",""],u:["",""],v:[""],w:["","","",""],x:["","","",""],y:["","",""],z:["",""]};return text.forEach(function(c){c=c.toLowerCase();var chars=trap[c]||[" "],rand=Math.floor(Math.random()*chars.length);result+="undefined"!=typeof trap[c]?trap[c][rand]:c}),result}},{}],113:[function(require,module,exports){module.exports=function(text,options){function randomNumber(range){var r=Math.floor(Math.random()*range);return r}function is_char(character){var bool=!1;return all.filter(function(i){bool=i===character}),bool}function heComes(text,options){var counts,l,result="";options=options||{},options.up="undefined"!=typeof options.up?options.up:!0,options.mid="undefined"!=typeof options.mid?options.mid:!0,options.down="undefined"!=typeof options.down?options.down:!0,options.size="undefined"!=typeof options.size?options.size:"maxi",text=text.split("");for(l in text)if(!is_char(l)){switch(result+=text[l],counts={up:0,down:0,mid:0},options.size){case"mini":counts.up=randomNumber(8),counts.mid=randomNumber(2),counts.down=randomNumber(8);break;case"maxi":counts.up=randomNumber(16)+3,counts.mid=randomNumber(4)+1,counts.down=randomNumber(64)+3;break;default:counts.up=randomNumber(8)+1,counts.mid=randomNumber(6)/2,counts.down=randomNumber(8)+1}var arr=["up","mid","down"];for(var d in arr)for(var index=arr[d],i=0;i<=counts[index];i++)options[index]&&(result+=soul[index][randomNumber(soul[index].length)])}return result}text=text||"   he is here   ";var soul={up:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],down:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],mid:["","","","","","","","","","","","","","","","","","","","",""," "]},all=[].concat(soul.up,soul.down,soul.mid);return heComes(text,options)}},{}],114:[function(require,module,exports){var colors=require("./colors");module.exports=function(){function applyTheme(theme){var stringPrototypeBlacklist=["__defineGetter__","__defineSetter__","__lookupGetter__","__lookupSetter__","charAt","constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf","charCodeAt","indexOf","lastIndexof","length","localeCompare","match","replace","search","slice","split","substring","toLocaleLowerCase","toLocaleUpperCase","toLowerCase","toUpperCase","trim","trimLeft","trimRight"];Object.keys(theme).forEach(function(prop){-1!==stringPrototypeBlacklist.indexOf(prop)?console.log("warn: ".red+("String.prototype"+prop).magenta+" is probably something you don't want to override. Ignoring style name"):"string"==typeof theme[prop]?(colors[prop]=colors[theme[prop]],addProperty(prop,function(){return colors[theme[prop]](this)})):addProperty(prop,function(){for(var ret=this,t=0;t<theme[prop].length;t++)ret=colors[theme[prop][t]](ret);return ret})})}var addProperty=function(color,func){String.prototype.__defineGetter__(color,func)};addProperty("strip",function(){return colors.strip(this)}),addProperty("stripColors",function(){return colors.strip(this)}),addProperty("trap",function(){return colors.trap(this)}),addProperty("zalgo",function(){return colors.zalgo(this)}),addProperty("zebra",function(){return colors.zebra(this)}),addProperty("rainbow",function(){return colors.rainbow(this)}),addProperty("random",function(){return colors.random(this)}),addProperty("america",function(){return colors.america(this)});var x=Object.keys(colors.styles);x.forEach(function(style){addProperty(style,function(){return colors.stylize(this,style)})}),colors.setTheme=function(theme){if("string"==typeof theme)try{return colors.themes[theme]=require(theme),applyTheme(colors.themes[theme]),colors.themes[theme]}catch(err){return console.log(err),err}else applyTheme(theme)}}},{"./colors":111}],115:[function(require,module,exports){var colors=require("./colors");module.exports=colors,require("./extendStringPrototype")()},{"./colors":111,"./extendStringPrototype":114}],116:[function(require,module,exports){var colors=require("../colors");module.exports=function(){return function(letter,i,exploded){if(" "===letter)return letter;switch(i%3){case 0:return colors.red(letter);case 1:return colors.white(letter);case 2:return colors.blue(letter)}}}()},{"../colors":111}],117:[function(require,module,exports){var colors=require("../colors");module.exports=function(){var rainbowColors=["red","yellow","green","blue","magenta"];return function(letter,i,exploded){return" "===letter?letter:colors[rainbowColors[i++%rainbowColors.length]](letter)}}()},{"../colors":111}],118:[function(require,module,exports){var colors=require("../colors");module.exports=function(){var available=["underline","inverse","grey","yellow","red","green","blue","white","cyan","magenta"];return function(letter,i,exploded){return" "===letter?letter:colors[available[Math.round(Math.random()*(available.length-1))]](letter)}}()},{"../colors":111}],119:[function(require,module,exports){var colors=require("../colors");module.exports=function(letter,i,exploded){return i%2===0?letter:colors.inverse(letter)}},{"../colors":111}],120:[function(require,module,exports){var styles={};module.exports=styles;var codes={reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],grey:[90,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],blackBG:[40,49],redBG:[41,49],greenBG:[42,49],yellowBG:[43,49],blueBG:[44,49],magentaBG:[45,49],cyanBG:[46,49],whiteBG:[47,49]};Object.keys(codes).forEach(function(key){var val=codes[key],style=styles[key]=[];style.open="["+val[0]+"m",style.close="["+val[1]+"m"})},{}],121:[function(require,module,exports){var argv=process.argv;module.exports=function(){return-1!==argv.indexOf("--no-color")||-1!==argv.indexOf("--color=false")?!1:-1!==argv.indexOf("--color")||-1!==argv.indexOf("--color=true")||-1!==argv.indexOf("--color=always")?!0:process.stdout&&!process.stdout.isTTY?!1:"win32"===process.platform?!0:"COLORTERM"in process.env?!0:"dumb"===process.env.TERM?!1:!!/^screen|^xterm|^vt100|color|ansi|cygwin|linux/i.test(process.env.TERM)}()},{}],122:[function(require,module,exports){!function(undefined){function init(){this._events={},this._conf&&configure.call(this,this._conf)}function configure(conf){conf&&(this._conf=conf,conf.delimiter&&(this.delimiter=conf.delimiter),conf.maxListeners&&(this._events.maxListeners=conf.maxListeners),conf.wildcard&&(this.wildcard=conf.wildcard),conf.newListener&&(this.newListener=conf.newListener),this.wildcard&&(this.listenerTree={}))}function EventEmitter(conf){this._events={},this.newListener=!1,configure.call(this,conf)}function searchListenerTree(handlers,type,tree,i){if(!tree)return[];var leaf,len,branch,xTree,xxTree,isolatedBranch,endReached,listeners=[],typeLength=type.length,currentType=type[i],nextType=type[i+1];if(i===typeLength&&tree._listeners){if("function"==typeof tree._listeners)return handlers&&handlers.push(tree._listeners),[tree];for(leaf=0,len=tree._listeners.length;len>leaf;leaf++)handlers&&handlers.push(tree._listeners[leaf]);return[tree]}if("*"===currentType||"**"===currentType||tree[currentType]){if("*"===currentType){for(branch in tree)"_listeners"!==branch&&tree.hasOwnProperty(branch)&&(listeners=listeners.concat(searchListenerTree(handlers,type,tree[branch],i+1)));return listeners}if("**"===currentType){endReached=i+1===typeLength||i+2===typeLength&&"*"===nextType,endReached&&tree._listeners&&(listeners=listeners.concat(searchListenerTree(handlers,type,tree,typeLength)));for(branch in tree)"_listeners"!==branch&&tree.hasOwnProperty(branch)&&("*"===branch||"**"===branch?(tree[branch]._listeners&&!endReached&&(listeners=listeners.concat(searchListenerTree(handlers,type,tree[branch],typeLength))),listeners=listeners.concat(searchListenerTree(handlers,type,tree[branch],i))):listeners=branch===nextType?listeners.concat(searchListenerTree(handlers,type,tree[branch],i+2)):listeners.concat(searchListenerTree(handlers,type,tree[branch],i)));return listeners}listeners=listeners.concat(searchListenerTree(handlers,type,tree[currentType],i+1))}if(xTree=tree["*"],xTree&&searchListenerTree(handlers,type,xTree,i+1),xxTree=tree["**"])if(typeLength>i){xxTree._listeners&&searchListenerTree(handlers,type,xxTree,typeLength);for(branch in xxTree)"_listeners"!==branch&&xxTree.hasOwnProperty(branch)&&(branch===nextType?searchListenerTree(handlers,type,xxTree[branch],i+2):branch===currentType?searchListenerTree(handlers,type,xxTree[branch],i+1):(isolatedBranch={},isolatedBranch[branch]=xxTree[branch],searchListenerTree(handlers,type,{"**":isolatedBranch},i+1)))}else xxTree._listeners?searchListenerTree(handlers,type,xxTree,typeLength):xxTree["*"]&&xxTree["*"]._listeners&&searchListenerTree(handlers,type,xxTree["*"],typeLength);return listeners}function growListenerTree(type,listener){type="string"==typeof type?type.split(this.delimiter):type.slice();for(var i=0,len=type.length;len>i+1;i++)if("**"===type[i]&&"**"===type[i+1])return;for(var tree=this.listenerTree,name=type.shift();name;){if(tree[name]||(tree[name]={}),tree=tree[name],0===type.length){if(tree._listeners){if("function"==typeof tree._listeners)tree._listeners=[tree._listeners,listener];else if(isArray(tree._listeners)&&(tree._listeners.push(listener),!tree._listeners.warned)){var m=defaultMaxListeners;"undefined"!=typeof this._events.maxListeners&&(m=this._events.maxListeners),m>0&&tree._listeners.length>m&&(tree._listeners.warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",tree._listeners.length),console.trace())}}else tree._listeners=listener;return!0}name=type.shift()}return!0}var isArray=Array.isArray?Array.isArray:function(obj){return"[object Array]"===Object.prototype.toString.call(obj)},defaultMaxListeners=10;EventEmitter.prototype.delimiter=".",EventEmitter.prototype.setMaxListeners=function(n){this._events||init.call(this),this._events.maxListeners=n,this._conf||(this._conf={}),this._conf.maxListeners=n},EventEmitter.prototype.event="",EventEmitter.prototype.once=function(event,fn){return this.many(event,1,fn),this},EventEmitter.prototype.many=function(event,ttl,fn){function listener(){0===--ttl&&self.off(event,listener),fn.apply(this,arguments)}var self=this;if("function"!=typeof fn)throw new Error("many only accepts instances of Function");return listener._origin=fn,this.on(event,listener),self},EventEmitter.prototype.emit=function(){this._events||init.call(this);var type=arguments[0];if("newListener"===type&&!this.newListener&&!this._events.newListener)return!1;if(this._all){for(var l=arguments.length,args=new Array(l-1),i=1;l>i;i++)args[i-1]=arguments[i];for(i=0,l=this._all.length;l>i;i++)this.event=type,this._all[i].apply(this,args)}if("error"===type&&!(this._all||this._events.error||this.wildcard&&this.listenerTree.error))throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");var handler;if(this.wildcard){handler=[];var ns="string"==typeof type?type.split(this.delimiter):type.slice();searchListenerTree.call(this,handler,ns,this.listenerTree,0)}else handler=this._events[type];if("function"==typeof handler){if(this.event=type,1===arguments.length)handler.call(this);else if(arguments.length>1)switch(arguments.length){case 2:handler.call(this,arguments[1]);break;case 3:handler.call(this,arguments[1],arguments[2]);break;default:for(var l=arguments.length,args=new Array(l-1),i=1;l>i;i++)args[i-1]=arguments[i];handler.apply(this,args)}return!0}if(handler){for(var l=arguments.length,args=new Array(l-1),i=1;l>i;i++)args[i-1]=arguments[i];for(var listeners=handler.slice(),i=0,l=listeners.length;l>i;i++)this.event=type,listeners[i].apply(this,args);return listeners.length>0||!!this._all}return!!this._all},EventEmitter.prototype.on=function(type,listener){if("function"==typeof type)return this.onAny(type),this;if("function"!=typeof listener)throw new Error("on only accepts instances of Function");if(this._events||init.call(this),this.emit("newListener",type,listener),this.wildcard)return growListenerTree.call(this,type,listener),this;if(this._events[type]){if("function"==typeof this._events[type])this._events[type]=[this._events[type],listener];else if(isArray(this._events[type])&&(this._events[type].push(listener),!this._events[type].warned)){var m=defaultMaxListeners;"undefined"!=typeof this._events.maxListeners&&(m=this._events.maxListeners),m>0&&this._events[type].length>m&&(this._events[type].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[type].length),console.trace())}}else this._events[type]=listener;return this},EventEmitter.prototype.onAny=function(fn){if("function"!=typeof fn)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),this._all.push(fn),this},EventEmitter.prototype.addListener=EventEmitter.prototype.on,EventEmitter.prototype.off=function(type,listener){if("function"!=typeof listener)throw new Error("removeListener only takes instances of Function");var handlers,leafs=[];if(this.wildcard){var ns="string"==typeof type?type.split(this.delimiter):type.slice();leafs=searchListenerTree.call(this,null,ns,this.listenerTree,0)}else{if(!this._events[type])return this;handlers=this._events[type],leafs.push({_listeners:handlers})}for(var iLeaf=0;iLeaf<leafs.length;iLeaf++){var leaf=leafs[iLeaf];if(handlers=leaf._listeners,isArray(handlers)){for(var position=-1,i=0,length=handlers.length;length>i;i++)if(handlers[i]===listener||handlers[i].listener&&handlers[i].listener===listener||handlers[i]._origin&&handlers[i]._origin===listener){position=i;break}if(0>position)continue;return this.wildcard?leaf._listeners.splice(position,1):this._events[type].splice(position,1),0===handlers.length&&(this.wildcard?delete leaf._listeners:delete this._events[type]),this}(handlers===listener||handlers.listener&&handlers.listener===listener||handlers._origin&&handlers._origin===listener)&&(this.wildcard?delete leaf._listeners:delete this._events[type])}return this},EventEmitter.prototype.offAny=function(fn){var fns,i=0,l=0;if(fn&&this._all&&this._all.length>0){for(fns=this._all,i=0,l=fns.length;l>i;i++)if(fn===fns[i])return fns.splice(i,1),this}else this._all=[];return this},EventEmitter.prototype.removeListener=EventEmitter.prototype.off,EventEmitter.prototype.removeAllListeners=function(type){if(0===arguments.length)return!this._events||init.call(this),this;if(this.wildcard)for(var ns="string"==typeof type?type.split(this.delimiter):type.slice(),leafs=searchListenerTree.call(this,null,ns,this.listenerTree,0),iLeaf=0;iLeaf<leafs.length;iLeaf++){var leaf=leafs[iLeaf];leaf._listeners=null}else{if(!this._events[type])return this;this._events[type]=null}return this},EventEmitter.prototype.listeners=function(type){if(this.wildcard){var handlers=[],ns="string"==typeof type?type.split(this.delimiter):type.slice();return searchListenerTree.call(this,handlers,ns,this.listenerTree,0),handlers}return this._events||init.call(this),this._events[type]||(this._events[type]=[]),isArray(this._events[type])||(this._events[type]=[this._events[type]]),this._events[type]},EventEmitter.prototype.listenersAny=function(){return this._all?this._all:[]},"function"==typeof define&&define.amd?define(function(){return EventEmitter}):"object"==typeof exports?exports.EventEmitter2=EventEmitter:window.EventEmitter2=EventEmitter}()},{}],123:[function(require,module,exports){"use strict";module.exports=require("./lib/express")},{"./lib/express":125}],124:[function(require,module,exports){"use strict";function logerror(err){"test"!==this.get("env")&&console.error(err.stack||err.toString())}function tryRender(view,options,callback){try{view.render(options,callback)}catch(err){callback(err)}}var finalhandler=require("finalhandler"),Router=require("./router"),methods=require("methods"),middleware=require("./middleware/init"),query=require("./middleware/query"),debug=require("debug")("express:application"),View=require("./view"),http=require("http"),compileETag=require("./utils").compileETag,compileQueryParser=require("./utils").compileQueryParser,compileTrust=require("./utils").compileTrust,deprecate=require("depd")("express"),flatten=require("array-flatten"),merge=require("utils-merge"),resolve=require("path").resolve,slice=Array.prototype.slice,app=exports=module.exports={},trustProxyDefaultSymbol="@@symbol:trust_proxy_default";app.init=function(){this.cache={},this.engines={},this.settings={},this.defaultConfiguration()},app.defaultConfiguration=function(){var env=process.env.NODE_ENV||"development";this.enable("x-powered-by"),this.set("etag","weak"),this.set("env",env),this.set("query parser","extended"),this.set("subdomain offset",2),this.set("trust proxy",!1),Object.defineProperty(this.settings,trustProxyDefaultSymbol,{configurable:!0,value:!0}),debug("booting in %s mode",env),this.on("mount",function(parent){this.settings[trustProxyDefaultSymbol]===!0&&"function"==typeof parent.settings["trust proxy fn"]&&(delete this.settings["trust proxy"],delete this.settings["trust proxy fn"]),this.request.__proto__=parent.request,this.response.__proto__=parent.response,this.engines.__proto__=parent.engines,this.settings.__proto__=parent.settings}),this.locals=Object.create(null),this.mountpath="/",this.locals.settings=this.settings,this.set("view",View),this.set("views",resolve("views")),this.set("jsonp callback name","callback"),"production"===env&&this.enable("view cache"),Object.defineProperty(this,"router",{get:function(){throw new Error("'app.router' is deprecated!\nPlease see the 3.x to 4.x migration guide for details on how to update your app.")}})},app.lazyrouter=function(){this._router||(this._router=new Router({caseSensitive:this.enabled("case sensitive routing"),strict:this.enabled("strict routing")}),this._router.use(query(this.get("query parser fn"))),this._router.use(middleware.init(this)))},app.handle=function(req,res,callback){var router=this._router,done=callback||finalhandler(req,res,{env:this.get("env"),onerror:logerror.bind(this)});return router?void router.handle(req,res,done):(debug("no routes defined on app"),void done())},app.use=function(fn){var offset=0,path="/";if("function"!=typeof fn){for(var arg=fn;Array.isArray(arg)&&0!==arg.length;)arg=arg[0];"function"!=typeof arg&&(offset=1,path=fn)}var fns=flatten(slice.call(arguments,offset));if(0===fns.length)throw new TypeError("app.use() requires middleware functions");this.lazyrouter();var router=this._router;return fns.forEach(function(fn){return fn&&fn.handle&&fn.set?(debug(".use app under %s",path),fn.mountpath=path,fn.parent=this,router.use(path,function(req,res,next){var orig=req.app;fn.handle(req,res,function(err){req.__proto__=orig.request,res.__proto__=orig.response,next(err)})}),void fn.emit("mount",this)):router.use(path,fn)},this),this},app.route=function(path){return this.lazyrouter(),this._router.route(path)},app.engine=function(ext,fn){if("function"!=typeof fn)throw new Error("callback function required");var extension="."!==ext[0]?"."+ext:ext;return this.engines[extension]=fn,this},app.param=function(name,fn){if(this.lazyrouter(),Array.isArray(name)){for(var i=0;i<name.length;i++)this.param(name[i],fn);return this}return this._router.param(name,fn),this},app.set=function(setting,val){if(1===arguments.length)return this.settings[setting];
switch(debug('set "%s" to %o',setting,val),this.settings[setting]=val,setting){case"etag":this.set("etag fn",compileETag(val));break;case"query parser":this.set("query parser fn",compileQueryParser(val));break;case"trust proxy":this.set("trust proxy fn",compileTrust(val)),Object.defineProperty(this.settings,trustProxyDefaultSymbol,{configurable:!0,value:!1})}return this},app.path=function(){return this.parent?this.parent.path()+this.mountpath:""},app.enabled=function(setting){return Boolean(this.set(setting))},app.disabled=function(setting){return!this.set(setting)},app.enable=function(setting){return this.set(setting,!0)},app.disable=function(setting){return this.set(setting,!1)},methods.forEach(function(method){app[method]=function(path){if("get"===method&&1===arguments.length)return this.set(path);this.lazyrouter();var route=this._router.route(path);return route[method].apply(route,slice.call(arguments,1)),this}}),app.all=function(path){this.lazyrouter();for(var route=this._router.route(path),args=slice.call(arguments,1),i=0;i<methods.length;i++)route[methods[i]].apply(route,args);return this},app.del=deprecate["function"](app["delete"],"app.del: Use app.delete instead"),app.render=function(name,options,callback){var view,cache=this.cache,done=callback,engines=this.engines,opts=options,renderOptions={};if("function"==typeof options&&(done=options,opts={}),merge(renderOptions,this.locals),opts._locals&&merge(renderOptions,opts._locals),merge(renderOptions,opts),null==renderOptions.cache&&(renderOptions.cache=this.enabled("view cache")),renderOptions.cache&&(view=cache[name]),!view){var View=this.get("view");if(view=new View(name,{defaultEngine:this.get("view engine"),root:this.get("views"),engines:engines}),!view.path){var dirs=Array.isArray(view.root)&&view.root.length>1?'directories "'+view.root.slice(0,-1).join('", "')+'" or "'+view.root[view.root.length-1]+'"':'directory "'+view.root+'"',err=new Error('Failed to lookup view "'+name+'" in views '+dirs);return err.view=view,done(err)}renderOptions.cache&&(cache[name]=view)}tryRender(view,renderOptions,done)},app.listen=function(){var server=http.createServer(this);return server.listen.apply(server,arguments)}},{"./middleware/init":126,"./middleware/query":127,"./router":130,"./utils":133,"./view":134,"array-flatten":144,debug:150,depd:152,finalhandler:158,http:void 0,methods:162,path:void 0,"utils-merge":205}],125:[function(require,module,exports){"use strict";function createApplication(){var app=function(req,res,next){app.handle(req,res,next)};return mixin(app,EventEmitter.prototype,!1),mixin(app,proto,!1),app.request={__proto__:req,app:app},app.response={__proto__:res,app:app},app.init(),app}var EventEmitter=require("events").EventEmitter,mixin=require("merge-descriptors"),proto=require("./application"),Route=require("./router/route"),Router=require("./router"),req=require("./request"),res=require("./response");exports=module.exports=createApplication,exports.application=proto,exports.request=req,exports.response=res,exports.Route=Route,exports.Router=Router,exports.query=require("./middleware/query"),exports["static"]=require("serve-static"),["json","urlencoded","bodyParser","compress","cookieSession","session","logger","cookieParser","favicon","responseTime","errorHandler","timeout","methodOverride","vhost","csrf","directory","limit","multipart","staticCache"].forEach(function(name){Object.defineProperty(exports,name,{get:function(){throw new Error("Most middleware (like "+name+") is no longer bundled with Express and must be installed separately. Please see https://github.com/senchalabs/connect#middleware.")},configurable:!0})})},{"./application":124,"./middleware/query":127,"./request":128,"./response":129,"./router":130,"./router/route":132,events:void 0,"merge-descriptors":161,"serve-static":184}],126:[function(require,module,exports){"use strict";exports.init=function(app){return function(req,res,next){app.enabled("x-powered-by")&&res.setHeader("X-Powered-By","Express"),req.res=res,res.req=req,req.next=next,req.__proto__=app.request,res.__proto__=app.response,res.locals=res.locals||Object.create(null),next()}}},{}],127:[function(require,module,exports){"use strict";var parseUrl=require("parseurl"),qs=require("qs");module.exports=function(options){var opts=Object.create(options||null),queryparse=qs.parse;return"function"==typeof options&&(queryparse=options,opts=void 0),void 0!==opts&&(void 0===opts.allowDots&&(opts.allowDots=!1),void 0===opts.allowPrototypes&&(opts.allowPrototypes=!0)),function(req,res,next){if(!req.query){var val=parseUrl(req).query;req.query=queryparse(val,opts)}next()}}},{parseurl:165,qs:170}],128:[function(require,module,exports){"use strict";function defineGetter(obj,name,getter){Object.defineProperty(obj,name,{configurable:!0,enumerable:!0,get:getter})}var accepts=require("accepts"),deprecate=require("depd")("express"),isIP=require("net").isIP,typeis=require("type-is"),http=require("http"),fresh=require("fresh"),parseRange=require("range-parser"),parse=require("parseurl"),proxyaddr=require("proxy-addr"),req=exports=module.exports={__proto__:http.IncomingMessage.prototype};req.get=req.header=function(name){var lc=name.toLowerCase();switch(lc){case"referer":case"referrer":return this.headers.referrer||this.headers.referer;default:return this.headers[lc]}},req.accepts=function(){var accept=accepts(this);return accept.types.apply(accept,arguments)},req.acceptsEncodings=function(){var accept=accepts(this);return accept.encodings.apply(accept,arguments)},req.acceptsEncoding=deprecate["function"](req.acceptsEncodings,"req.acceptsEncoding: Use acceptsEncodings instead"),req.acceptsCharsets=function(){var accept=accepts(this);return accept.charsets.apply(accept,arguments)},req.acceptsCharset=deprecate["function"](req.acceptsCharsets,"req.acceptsCharset: Use acceptsCharsets instead"),req.acceptsLanguages=function(){var accept=accepts(this);return accept.languages.apply(accept,arguments)},req.acceptsLanguage=deprecate["function"](req.acceptsLanguages,"req.acceptsLanguage: Use acceptsLanguages instead"),req.range=function(size){var range=this.get("Range");if(range)return parseRange(size,range)},req.param=function(name,defaultValue){var params=this.params||{},body=this.body||{},query=this.query||{},args=1===arguments.length?"name":"name, default";return deprecate("req.param("+args+"): Use req.params, req.body, or req.query instead"),null!=params[name]&&params.hasOwnProperty(name)?params[name]:null!=body[name]?body[name]:null!=query[name]?query[name]:defaultValue},req.is=function(types){var arr=types;if(!Array.isArray(types)){arr=new Array(arguments.length);for(var i=0;i<arr.length;i++)arr[i]=arguments[i]}return typeis(this,arr)},defineGetter(req,"protocol",function(){var proto=this.connection.encrypted?"https":"http",trust=this.app.get("trust proxy fn");return trust(this.connection.remoteAddress,0)?(proto=this.get("X-Forwarded-Proto")||proto,proto.split(/\s*,\s*/)[0]):proto}),defineGetter(req,"secure",function(){return"https"===this.protocol}),defineGetter(req,"ip",function(){var trust=this.app.get("trust proxy fn");return proxyaddr(this,trust)}),defineGetter(req,"ips",function(){var trust=this.app.get("trust proxy fn"),addrs=proxyaddr.all(this,trust);return addrs.slice(1).reverse()}),defineGetter(req,"subdomains",function subdomains(){var hostname=this.hostname;if(!hostname)return[];var offset=this.app.get("subdomain offset"),subdomains=isIP(hostname)?[hostname]:hostname.split(".").reverse();return subdomains.slice(offset)}),defineGetter(req,"path",function(){return parse(this).pathname}),defineGetter(req,"hostname",function(){var trust=this.app.get("trust proxy fn"),host=this.get("X-Forwarded-Host");if(host&&trust(this.connection.remoteAddress,0)||(host=this.get("Host")),host){var offset="["===host[0]?host.indexOf("]")+1:0,index=host.indexOf(":",offset);return-1!==index?host.substring(0,index):host}}),defineGetter(req,"host",deprecate["function"](function(){return this.hostname},"req.host: Use req.hostname instead")),defineGetter(req,"fresh",function(){var method=this.method,s=this.res.statusCode;return"GET"!=method&&"HEAD"!=method?!1:s>=200&&300>s||304==s?fresh(this.headers,this.res._headers||{}):!1}),defineGetter(req,"stale",function(){return!this.fresh}),defineGetter(req,"xhr",function(){var val=this.get("X-Requested-With")||"";return"xmlhttprequest"===val.toLowerCase()})},{accepts:135,depd:152,fresh:160,http:void 0,net:void 0,parseurl:165,"proxy-addr":167,"range-parser":174,"type-is":200}],129:[function(require,module,exports){"use strict";function sendfile(res,file,options,callback){function onaborted(){if(!done){done=!0;var err=new Error("Request aborted");err.code="ECONNABORTED",callback(err)}}function ondirectory(){if(!done){done=!0;var err=new Error("EISDIR, read");err.code="EISDIR",callback(err)}}function onerror(err){done||(done=!0,callback(err))}function onend(){done||(done=!0,callback())}function onfile(){streaming=!1}function onfinish(err){return err&&"ECONNRESET"===err.code?onaborted():err?onerror(err):void(done||setImmediate(function(){return streaming===!1||done?void(done||(done=!0,callback())):void onaborted()}))}function onstream(){streaming=!0}var streaming,done=!1;file.on("directory",ondirectory),file.on("end",onend),file.on("error",onerror),file.on("file",onfile),file.on("stream",onstream),onFinished(res,onfinish),options.headers&&file.on("headers",function(res){for(var obj=options.headers,keys=Object.keys(obj),i=0;i<keys.length;i++){var k=keys[i];res.setHeader(k,obj[k])}}),file.pipe(res)}var contentDisposition=require("content-disposition"),deprecate=require("depd")("express"),escapeHtml=require("escape-html"),http=require("http"),isAbsolute=require("./utils").isAbsolute,onFinished=require("on-finished"),path=require("path"),merge=require("utils-merge"),sign=require("cookie-signature").sign,normalizeType=require("./utils").normalizeType,normalizeTypes=require("./utils").normalizeTypes,setCharset=require("./utils").setCharset,statusCodes=http.STATUS_CODES,cookie=require("cookie"),send=require("send"),extname=path.extname,mime=send.mime,resolve=path.resolve,vary=require("vary"),res=module.exports={__proto__:http.ServerResponse.prototype},charsetRegExp=/;\s*charset\s*=/;res.status=function(code){return this.statusCode=code,this},res.links=function(links){var link=this.get("Link")||"";return link&&(link+=", "),this.set("Link",link+Object.keys(links).map(function(rel){return"<"+links[rel]+'>; rel="'+rel+'"'}).join(", "))},res.send=function(body){var encoding,len,type,chunk=body,req=this.req,app=this.app;switch(2===arguments.length&&("number"!=typeof arguments[0]&&"number"==typeof arguments[1]?(deprecate("res.send(body, status): Use res.status(status).send(body) instead"),this.statusCode=arguments[1]):(deprecate("res.send(status, body): Use res.status(status).send(body) instead"),this.statusCode=arguments[0],chunk=arguments[1])),"number"==typeof chunk&&1===arguments.length&&(this.get("Content-Type")||this.type("txt"),deprecate("res.send(status): Use res.sendStatus(status) instead"),this.statusCode=chunk,chunk=statusCodes[chunk]),typeof chunk){case"string":this.get("Content-Type")||this.type("html");break;case"boolean":case"number":case"object":if(null===chunk)chunk="";else{if(!Buffer.isBuffer(chunk))return this.json(chunk);this.get("Content-Type")||this.type("bin")}}"string"==typeof chunk&&(encoding="utf8",type=this.get("Content-Type"),"string"==typeof type&&this.set("Content-Type",setCharset(type,"utf-8"))),void 0!==chunk&&(Buffer.isBuffer(chunk)||(chunk=new Buffer(chunk,encoding),encoding=void 0),len=chunk.length,this.set("Content-Length",len));var etag,generateETag=void 0!==len&&app.get("etag fn");return"function"!=typeof generateETag||this.get("ETag")||(etag=generateETag(chunk,encoding))&&this.set("ETag",etag),req.fresh&&(this.statusCode=304),204!=this.statusCode&&304!=this.statusCode||(this.removeHeader("Content-Type"),this.removeHeader("Content-Length"),this.removeHeader("Transfer-Encoding"),chunk=""),"HEAD"===req.method?this.end():this.end(chunk,encoding),this},res.json=function(obj){var val=obj;2===arguments.length&&("number"==typeof arguments[1]?(deprecate("res.json(obj, status): Use res.status(status).json(obj) instead"),this.statusCode=arguments[1]):(deprecate("res.json(status, obj): Use res.status(status).json(obj) instead"),this.statusCode=arguments[0],val=arguments[1]));var app=this.app,replacer=app.get("json replacer"),spaces=app.get("json spaces"),body=JSON.stringify(val,replacer,spaces);return this.get("Content-Type")||this.set("Content-Type","application/json"),this.send(body)},res.jsonp=function(obj){var val=obj;2===arguments.length&&("number"==typeof arguments[1]?(deprecate("res.jsonp(obj, status): Use res.status(status).json(obj) instead"),this.statusCode=arguments[1]):(deprecate("res.jsonp(status, obj): Use res.status(status).jsonp(obj) instead"),this.statusCode=arguments[0],val=arguments[1]));var app=this.app,replacer=app.get("json replacer"),spaces=app.get("json spaces"),body=JSON.stringify(val,replacer,spaces),callback=this.req.query[app.get("jsonp callback name")];return this.get("Content-Type")||(this.set("X-Content-Type-Options","nosniff"),this.set("Content-Type","application/json")),Array.isArray(callback)&&(callback=callback[0]),"string"==typeof callback&&0!==callback.length&&(this.charset="utf-8",this.set("X-Content-Type-Options","nosniff"),this.set("Content-Type","text/javascript"),callback=callback.replace(/[^\[\]\w$.]/g,""),body=body.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029"),body="/**/ typeof "+callback+" === 'function' && "+callback+"("+body+");"),this.send(body)},res.sendStatus=function(statusCode){var body=statusCodes[statusCode]||String(statusCode);return this.statusCode=statusCode,this.type("txt"),this.send(body)},res.sendFile=function(path,options,callback){var done=callback,req=this.req,res=this,next=req.next,opts=options||{};if(!path)throw new TypeError("path argument is required to res.sendFile");if("function"==typeof options&&(done=options,opts={}),!opts.root&&!isAbsolute(path))throw new TypeError("path must be absolute or specify root to res.sendFile");var pathname=encodeURI(path),file=send(req,pathname,opts);sendfile(res,file,opts,function(err){return done?done(err):err&&"EISDIR"===err.code?next():void(err&&"ECONNABORTED"!==err.code&&"write"!==err.syscall&&next(err))})},res.sendfile=function(path,options,callback){var done=callback,req=this.req,res=this,next=req.next,opts=options||{};"function"==typeof options&&(done=options,opts={});var file=send(req,path,opts);sendfile(res,file,opts,function(err){return done?done(err):err&&"EISDIR"===err.code?next():void(err&&"ECONNABORT"!==err.code&&"write"!==err.syscall&&next(err))})},res.sendfile=deprecate["function"](res.sendfile,"res.sendfile: Use res.sendFile instead"),res.download=function(path,filename,callback){var done=callback,name=filename;"function"==typeof filename&&(done=filename,name=null);var headers={"Content-Disposition":contentDisposition(name||path)},fullPath=resolve(path);return this.sendFile(fullPath,{headers:headers},done)},res.contentType=res.type=function(type){var ct=-1===type.indexOf("/")?mime.lookup(type):type;return this.set("Content-Type",ct)},res.format=function(obj){var req=this.req,next=req.next,fn=obj["default"];fn&&delete obj["default"];var keys=Object.keys(obj),key=keys.length>0?req.accepts(keys):!1;if(this.vary("Accept"),key)this.set("Content-Type",normalizeType(key).value),obj[key](req,this,next);else if(fn)fn();else{var err=new Error("Not Acceptable");err.status=err.statusCode=406,err.types=normalizeTypes(keys).map(function(o){return o.value}),next(err)}return this},res.attachment=function(filename){return filename&&this.type(extname(filename)),this.set("Content-Disposition",contentDisposition(filename)),this},res.append=function(field,val){var prev=this.get(field),value=val;return prev&&(value=Array.isArray(prev)?prev.concat(val):Array.isArray(val)?[prev].concat(val):[prev,val]),this.set(field,value)},res.set=res.header=function(field,val){if(2===arguments.length){var value=Array.isArray(val)?val.map(String):String(val);if("content-type"===field.toLowerCase()&&!charsetRegExp.test(value)){var charset=mime.charsets.lookup(value.split(";")[0]);charset&&(value+="; charset="+charset.toLowerCase())}this.setHeader(field,value)}else for(var key in field)this.set(key,field[key]);return this},res.get=function(field){return this.getHeader(field)},res.clearCookie=function(name,options){var opts=merge({expires:new Date(1),path:"/"},options);return this.cookie(name,"",opts)},res.cookie=function(name,value,options){var opts=merge({},options),secret=this.req.secret,signed=opts.signed;if(signed&&!secret)throw new Error('cookieParser("secret") required for signed cookies');var val="object"==typeof value?"j:"+JSON.stringify(value):String(value);return signed&&(val="s:"+sign(val,secret)),"maxAge"in opts&&(opts.expires=new Date(Date.now()+opts.maxAge),opts.maxAge/=1e3),null==opts.path&&(opts.path="/"),this.append("Set-Cookie",cookie.serialize(name,String(val),opts)),this},res.location=function(url){var loc=url;return"back"===url&&(loc=this.req.get("Referrer")||"/"),this.set("Location",loc),this},res.redirect=function(url){var body,address=url,status=302;2===arguments.length&&("number"==typeof arguments[0]?(status=arguments[0],address=arguments[1]):(deprecate("res.redirect(url, status): Use res.redirect(status, url) instead"),status=arguments[1])),this.location(address),address=this.get("Location"),this.format({text:function(){body=statusCodes[status]+". Redirecting to "+encodeURI(address)},html:function(){var u=escapeHtml(address);body="<p>"+statusCodes[status]+'. Redirecting to <a href="'+u+'">'+u+"</a></p>"},"default":function(){body=""}}),this.statusCode=status,this.set("Content-Length",Buffer.byteLength(body)),"HEAD"===this.req.method?this.end():this.end(body)},res.vary=function(field){return!field||Array.isArray(field)&&!field.length?(deprecate("res.vary(): Provide a field name"),this):(vary(this,field),this)},res.render=function(view,options,callback){var app=this.req.app,done=callback,opts=options||{},req=this.req,self=this;"function"==typeof options&&(done=options,opts={}),opts._locals=self.locals,done=done||function(err,str){return err?req.next(err):void self.send(str)},app.render(view,opts,done)}},{"./utils":133,"content-disposition":145,cookie:148,"cookie-signature":147,depd:152,"escape-html":156,http:void 0,"on-finished":163,path:void 0,send:175,"utils-merge":205,vary:206}],130:[function(require,module,exports){"use strict";function appendMethods(list,addition){for(var i=0;i<addition.length;i++){var method=addition[i];-1===list.indexOf(method)&&list.push(method)}}function getPathname(req){try{return parseUrl(req).pathname}catch(err){return}}function gettype(obj){var type=typeof obj;return"object"!==type?type:toString.call(obj).replace(objectRegExp,"$1")}function matchLayer(layer,path){try{return layer.match(path)}catch(err){return err}}function mergeParams(params,parent){if("object"!=typeof parent||!parent)return params;var obj=mixin({},parent);if(!(0 in params&&0 in parent))return mixin(obj,params);for(var i=0,o=0;i in params;)i++;for(;o in parent;)o++;for(i--;i>=0;i--)params[i+o]=params[i],o>i&&delete params[i];return mixin(obj,params)}function restore(fn,obj){for(var props=new Array(arguments.length-2),vals=new Array(arguments.length-2),i=0;i<props.length;i++)props[i]=arguments[i+2],vals[i]=obj[props[i]];return function(err){for(var i=0;i<props.length;i++)obj[props[i]]=vals[i];return fn.apply(this,arguments)}}function sendOptionsResponse(res,options,next){try{var body=options.join(",");res.set("Allow",body),res.send(body)}catch(err){next(err)}}function wrap(old,fn){return function(){var args=new Array(arguments.length+1);args[0]=old;for(var i=0,len=arguments.length;len>i;i++)args[i+1]=arguments[i];fn.apply(this,args)}}var Route=require("./route"),Layer=require("./layer"),methods=require("methods"),mixin=require("utils-merge"),debug=require("debug")("express:router"),deprecate=require("depd")("express"),flatten=require("array-flatten"),parseUrl=require("parseurl"),objectRegExp=/^\[object (\S+)\]$/,slice=Array.prototype.slice,toString=Object.prototype.toString,proto=module.exports=function(options){function router(req,res,next){router.handle(req,res,next)}var opts=options||{};return router.__proto__=proto,router.params={},router._params=[],router.caseSensitive=opts.caseSensitive,router.mergeParams=opts.mergeParams,router.strict=opts.strict,router.stack=[],router};proto.param=function(name,fn){if("function"==typeof name)return deprecate("router.param(fn): Refactor to use path params"),void this._params.push(name);var ret,params=this._params,len=params.length;":"===name[0]&&(deprecate("router.param("+JSON.stringify(name)+", fn): Use router.param("+JSON.stringify(name.substr(1))+", fn) instead"),name=name.substr(1));for(var i=0;len>i;++i)(ret=params[i](name,fn))&&(fn=ret);if("function"!=typeof fn)throw new Error("invalid param() call for "+name+", got "+fn);return(this.params[name]=this.params[name]||[]).push(fn),this},proto.handle=function(req,res,out){function next(err){var layerError="route"===err?null:err;if(slashAdded&&(req.url=req.url.substr(1),slashAdded=!1),0!==removed.length&&(req.baseUrl=parentUrl,req.url=protohost+removed+req.url.substr(protohost.length),removed=""),idx>=stack.length)return void setImmediate(done,layerError);var path=getPathname(req);if(null==path)return done(layerError);for(var layer,match,route;match!==!0&&idx<stack.length;)if(layer=stack[idx++],match=matchLayer(layer,path),route=layer.route,"boolean"!=typeof match&&(layerError=layerError||match),match===!0&&route)if(layerError)match=!1;else{var method=req.method,has_method=route._handles_method(method);has_method||"OPTIONS"!==method||appendMethods(options,route._options()),has_method||"HEAD"===method||(match=!1)}if(match!==!0)return done(layerError);route&&(req.route=route),req.params=self.mergeParams?mergeParams(layer.params,parentParams):layer.params;var layerPath=layer.path;self.process_params(layer,paramcalled,req,res,function(err){return err?next(layerError||err):route?layer.handle_request(req,res,next):void trim_prefix(layer,layerError,layerPath,path)})}function trim_prefix(layer,layerError,layerPath,path){var c=path[layerPath.length];return c&&"/"!==c&&"."!==c?next(layerError):(0!==layerPath.length&&(debug("trim prefix (%s) from url %s",layerPath,req.url),removed=layerPath,req.url=protohost+req.url.substr(protohost.length+removed.length),fqdn||"/"===req.url[0]||(req.url="/"+req.url,slashAdded=!0),req.baseUrl=parentUrl+("/"===removed[removed.length-1]?removed.substring(0,removed.length-1):removed)),debug("%s %s : %s",layer.name,layerPath,req.originalUrl),void(layerError?layer.handle_error(layerError,req,res,next):layer.handle_request(req,res,next)))}var self=this;debug("dispatching %s %s",req.method,req.url);var search=1+req.url.indexOf("?"),pathlength=search?search-1:req.url.length,fqdn="/"!==req.url[0]&&1+req.url.substr(0,pathlength).indexOf("://"),protohost=fqdn?req.url.substr(0,req.url.indexOf("/",2+fqdn)):"",idx=0,removed="",slashAdded=!1,paramcalled={},options=[],stack=self.stack,parentParams=req.params,parentUrl=req.baseUrl||"",done=restore(out,req,"baseUrl","next","params");req.next=next,"OPTIONS"===req.method&&(done=wrap(done,function(old,err){return err||0===options.length?old(err):void sendOptionsResponse(res,options,old)})),req.baseUrl=parentUrl,req.originalUrl=req.originalUrl||req.url,next()},proto.process_params=function(layer,called,req,res,done){function param(err){return err?done(err):i>=keys.length?done():(paramIndex=0,(key=keys[i++])?(name=key.name,paramVal=req.params[name],paramCallbacks=params[name],paramCalled=called[name],void 0!==paramVal&&paramCallbacks?paramCalled&&(paramCalled.match===paramVal||paramCalled.error&&"route"!==paramCalled.error)?(req.params[name]=paramCalled.value,param(paramCalled.error)):(called[name]=paramCalled={error:null,match:paramVal,value:paramVal},void paramCallback()):param()):done())}function paramCallback(err){var fn=paramCallbacks[paramIndex++];if(paramCalled.value=req.params[key.name],err)return paramCalled.error=err,void param(err);if(!fn)return param();try{fn(req,res,paramCallback,paramVal,key.name)}catch(e){paramCallback(e)}}var params=this.params,keys=layer.keys;if(!keys||0===keys.length)return done();var name,key,paramVal,paramCallbacks,paramCalled,i=0,paramIndex=0;param()},proto.use=function(fn){var offset=0,path="/";if("function"!=typeof fn){for(var arg=fn;Array.isArray(arg)&&0!==arg.length;)arg=arg[0];"function"!=typeof arg&&(offset=1,path=fn)}var callbacks=flatten(slice.call(arguments,offset));if(0===callbacks.length)throw new TypeError("Router.use() requires middleware functions");for(var i=0;i<callbacks.length;i++){var fn=callbacks[i];if("function"!=typeof fn)throw new TypeError("Router.use() requires middleware function but got a "+gettype(fn));debug("use %s %s",path,fn.name||"<anonymous>");var layer=new Layer(path,{sensitive:this.caseSensitive,strict:!1,end:!1},fn);layer.route=void 0,this.stack.push(layer)}return this},proto.route=function route(path){var route=new Route(path),layer=new Layer(path,{sensitive:this.caseSensitive,strict:this.strict,end:!0},route.dispatch.bind(route));return layer.route=route,this.stack.push(layer),route},methods.concat("all").forEach(function(method){proto[method]=function(path){var route=this.route(path);return route[method].apply(route,slice.call(arguments,1)),this}})},{"./layer":131,"./route":132,"array-flatten":144,debug:150,depd:152,methods:162,parseurl:165,"utils-merge":205}],131:[function(require,module,exports){"use strict";function Layer(path,options,fn){if(!(this instanceof Layer))return new Layer(path,options,fn);debug("new %s",path);var opts=options||{};this.handle=fn,this.name=fn.name||"<anonymous>",this.params=void 0,this.path=void 0,this.regexp=pathRegexp(path,this.keys=[],opts),"/"===path&&opts.end===!1&&(this.regexp.fast_slash=!0)}function decode_param(val){if("string"!=typeof val||0===val.length)return val;try{return decodeURIComponent(val)}catch(err){throw err instanceof URIError&&(err.message="Failed to decode param '"+val+"'",err.status=err.statusCode=400),err}}var pathRegexp=require("path-to-regexp"),debug=require("debug")("express:router:layer"),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=Layer,Layer.prototype.handle_error=function(error,req,res,next){var fn=this.handle;if(4!==fn.length)return next(error);try{fn(error,req,res,next)}catch(err){next(err)}},Layer.prototype.handle_request=function(req,res,next){var fn=this.handle;if(fn.length>3)return next();try{fn(req,res,next)}catch(err){next(err)}},Layer.prototype.match=function(path){if(null==path)return this.params=void 0,this.path=void 0,!1;if(this.regexp.fast_slash)return this.params={},this.path="",!0;var m=this.regexp.exec(path);if(!m)return this.params=void 0,this.path=void 0,!1;this.params={},this.path=m[0];for(var keys=this.keys,params=this.params,i=1;i<m.length;i++){var key=keys[i-1],prop=key.name,val=decode_param(m[i]);void 0===val&&hasOwnProperty.call(params,prop)||(params[prop]=val)}return!0}},{debug:150,"path-to-regexp":166}],132:[function(require,module,exports){"use strict";function Route(path){this.path=path,this.stack=[],debug("new %s",path),this.methods={}}var debug=require("debug")("express:router:route"),flatten=require("array-flatten"),Layer=require("./layer"),methods=require("methods"),slice=Array.prototype.slice,toString=Object.prototype.toString;module.exports=Route,Route.prototype._handles_method=function(method){if(this.methods._all)return!0;var name=method.toLowerCase();return"head"!==name||this.methods.head||(name="get"),Boolean(this.methods[name])},Route.prototype._options=function(){var methods=Object.keys(this.methods);this.methods.get&&!this.methods.head&&methods.push("head");for(var i=0;i<methods.length;i++)methods[i]=methods[i].toUpperCase();return methods},Route.prototype.dispatch=function(req,res,done){function next(err){if(err&&"route"===err)return done();var layer=stack[idx++];return layer?layer.method&&layer.method!==method?next(err):void(err?layer.handle_error(err,req,res,next):layer.handle_request(req,res,next)):done(err)}var idx=0,stack=this.stack;if(0===stack.length)return done();var method=req.method.toLowerCase();"head"!==method||this.methods.head||(method="get"),req.route=this,next()},Route.prototype.all=function(){for(var handles=flatten(slice.call(arguments)),i=0;i<handles.length;i++){var handle=handles[i];if("function"!=typeof handle){var type=toString.call(handle),msg="Route.all() requires callback functions but got a "+type;throw new TypeError(msg)}var layer=Layer("/",{},handle);layer.method=void 0,this.methods._all=!0,this.stack.push(layer)}return this},methods.forEach(function(method){Route.prototype[method]=function(){for(var handles=flatten(slice.call(arguments)),i=0;i<handles.length;i++){var handle=handles[i];if("function"!=typeof handle){var type=toString.call(handle),msg="Route."+method+"() requires callback functions but got a "+type;throw new Error(msg)}debug("%s %s",method,this.path);var layer=Layer("/",{},handle);layer.method=method,this.methods[method]=!0,this.stack.push(layer)}return this}})},{"./layer":131,"array-flatten":144,debug:150,methods:162}],133:[function(require,module,exports){"use strict";function acceptParams(str,index){for(var parts=str.split(/ *; */),ret={value:parts[0],quality:1,params:{},originalIndex:index},i=1;i<parts.length;++i){var pms=parts[i].split(/ *= */);"q"==pms[0]?ret.quality=parseFloat(pms[1]):ret.params[pms[0]]=pms[1]}return ret}function parseExtendedQueryString(str){return qs.parse(str,{allowDots:!1,allowPrototypes:!0})}function newObject(){return{}}var contentDisposition=require("content-disposition"),contentType=require("content-type"),deprecate=require("depd")("express"),flatten=require("array-flatten"),mime=require("send").mime,etag=(require("path").basename,require("etag")),proxyaddr=require("proxy-addr"),qs=require("qs"),querystring=require("querystring");exports.etag=function(body,encoding){var buf=Buffer.isBuffer(body)?body:new Buffer(body,encoding);return etag(buf,{weak:!1})},exports.wetag=function(body,encoding){var buf=Buffer.isBuffer(body)?body:new Buffer(body,encoding);return etag(buf,{weak:!0})},exports.isAbsolute=function(path){return"/"==path[0]?!0:":"==path[1]&&"\\"==path[2]?!0:"\\\\"==path.substring(0,2)?!0:void 0},exports.flatten=deprecate["function"](flatten,"utils.flatten: use array-flatten npm module instead"),exports.normalizeType=function(type){return~type.indexOf("/")?acceptParams(type):{value:mime.lookup(type),params:{}}},exports.normalizeTypes=function(types){for(var ret=[],i=0;i<types.length;++i)ret.push(exports.normalizeType(types[i]));return ret},exports.contentDisposition=deprecate["function"](contentDisposition,"utils.contentDisposition: use content-disposition npm module instead"),exports.compileETag=function(val){var fn;if("function"==typeof val)return val;switch(val){case!0:fn=exports.wetag;break;case!1:break;case"strong":fn=exports.etag;break;case"weak":fn=exports.wetag;break;default:throw new TypeError("unknown value for etag function: "+val)}return fn},exports.compileQueryParser=function(val){var fn;if("function"==typeof val)return val;switch(val){case!0:fn=querystring.parse;break;case!1:fn=newObject;break;case"extended":fn=parseExtendedQueryString;break;case"simple":fn=querystring.parse;break;default:throw new TypeError("unknown value for query parser function: "+val)}return fn},exports.compileTrust=function(val){return"function"==typeof val?val:val===!0?function(){return!0}:"number"==typeof val?function(a,i){return val>i}:("string"==typeof val&&(val=val.split(/ *, */)),proxyaddr.compile(val||[]))},exports.setCharset=function(type,charset){if(!type||!charset)return type;var parsed=contentType.parse(type);return parsed.parameters.charset=charset,contentType.format(parsed);
}},{"array-flatten":144,"content-disposition":145,"content-type":146,depd:152,etag:157,path:void 0,"proxy-addr":167,qs:170,querystring:void 0,send:175}],134:[function(require,module,exports){"use strict";function View(name,options){var opts=options||{};if(this.defaultEngine=opts.defaultEngine,this.ext=extname(name),this.name=name,this.root=opts.root,!this.ext&&!this.defaultEngine)throw new Error("No default engine was specified and no extension was provided.");var fileName=name;this.ext||(this.ext="."!==this.defaultEngine[0]?"."+this.defaultEngine:this.defaultEngine,fileName+=this.ext),opts.engines[this.ext]||(opts.engines[this.ext]=require(this.ext.substr(1)).__express),this.engine=opts.engines[this.ext],this.path=this.lookup(fileName)}function tryStat(path){debug('stat "%s"',path);try{return fs.statSync(path)}catch(e){return}}var debug=require("debug")("express:view"),path=require("path"),fs=require("fs"),dirname=(require("./utils"),path.dirname),basename=path.basename,extname=path.extname,join=path.join,resolve=path.resolve;module.exports=View,View.prototype.lookup=function(name){var path,roots=[].concat(this.root);debug('lookup "%s"',name);for(var i=0;i<roots.length&&!path;i++){var root=roots[i],loc=resolve(root,name),dir=dirname(loc),file=basename(loc);path=this.resolve(dir,file)}return path},View.prototype.render=function(options,callback){debug('render "%s"',this.path),this.engine(this.path,options,callback)},View.prototype.resolve=function(dir,file){var ext=this.ext,path=join(dir,file),stat=tryStat(path);return stat&&stat.isFile()?path:(path=join(dir,basename(file,ext),"index"+ext),stat=tryStat(path),stat&&stat.isFile()?path:void 0)}},{"./utils":133,debug:150,fs:void 0,path:void 0}],135:[function(require,module,exports){"use strict";function Accepts(req){return this instanceof Accepts?(this.headers=req.headers,void(this.negotiator=new Negotiator(req))):new Accepts(req)}function extToMime(type){return-1===type.indexOf("/")?mime.lookup(type):type}function validMime(type){return"string"==typeof type}var Negotiator=require("negotiator"),mime=require("mime-types");module.exports=Accepts,Accepts.prototype.type=Accepts.prototype.types=function(types_){var types=types_;if(types&&!Array.isArray(types)){types=new Array(arguments.length);for(var i=0;i<types.length;i++)types[i]=arguments[i]}if(!types||0===types.length)return this.negotiator.mediaTypes();if(!this.headers.accept)return types[0];var mimes=types.map(extToMime),accepts=this.negotiator.mediaTypes(mimes.filter(validMime)),first=accepts[0];return first?types[mimes.indexOf(first)]:!1},Accepts.prototype.encoding=Accepts.prototype.encodings=function(encodings_){var encodings=encodings_;if(encodings&&!Array.isArray(encodings)){encodings=new Array(arguments.length);for(var i=0;i<encodings.length;i++)encodings[i]=arguments[i]}return encodings&&0!==encodings.length?this.negotiator.encodings(encodings)[0]||!1:this.negotiator.encodings()},Accepts.prototype.charset=Accepts.prototype.charsets=function(charsets_){var charsets=charsets_;if(charsets&&!Array.isArray(charsets)){charsets=new Array(arguments.length);for(var i=0;i<charsets.length;i++)charsets[i]=arguments[i]}return charsets&&0!==charsets.length?this.negotiator.charsets(charsets)[0]||!1:this.negotiator.charsets()},Accepts.prototype.lang=Accepts.prototype.langs=Accepts.prototype.language=Accepts.prototype.languages=function(languages_){var languages=languages_;if(languages&&!Array.isArray(languages)){languages=new Array(arguments.length);for(var i=0;i<languages.length;i++)languages[i]=arguments[i]}return languages&&0!==languages.length?this.negotiator.languages(languages)[0]||!1:this.negotiator.languages()}},{"mime-types":136,negotiator:139}],136:[function(require,module,exports){arguments[4][107][0].apply(exports,arguments)},{dup:107,"mime-db":138,path:void 0}],137:[function(require,module,exports){arguments[4][108][0].apply(exports,arguments)},{dup:108}],138:[function(require,module,exports){arguments[4][109][0].apply(exports,arguments)},{"./db.json":137,dup:109}],139:[function(require,module,exports){function Negotiator(request){return this instanceof Negotiator?void(this.request=request):new Negotiator(request)}var preferredCharsets=require("./lib/charset"),preferredEncodings=require("./lib/encoding"),preferredLanguages=require("./lib/language"),preferredMediaTypes=require("./lib/mediaType");module.exports=Negotiator,Negotiator.Negotiator=Negotiator,Negotiator.prototype.charset=function(available){var set=this.charsets(available);return set&&set[0]},Negotiator.prototype.charsets=function(available){return preferredCharsets(this.request.headers["accept-charset"],available)},Negotiator.prototype.encoding=function(available){var set=this.encodings(available);return set&&set[0]},Negotiator.prototype.encodings=function(available){return preferredEncodings(this.request.headers["accept-encoding"],available)},Negotiator.prototype.language=function(available){var set=this.languages(available);return set&&set[0]},Negotiator.prototype.languages=function(available){return preferredLanguages(this.request.headers["accept-language"],available)},Negotiator.prototype.mediaType=function(available){var set=this.mediaTypes(available);return set&&set[0]},Negotiator.prototype.mediaTypes=function(available){return preferredMediaTypes(this.request.headers.accept,available)},Negotiator.prototype.preferredCharset=Negotiator.prototype.charset,Negotiator.prototype.preferredCharsets=Negotiator.prototype.charsets,Negotiator.prototype.preferredEncoding=Negotiator.prototype.encoding,Negotiator.prototype.preferredEncodings=Negotiator.prototype.encodings,Negotiator.prototype.preferredLanguage=Negotiator.prototype.language,Negotiator.prototype.preferredLanguages=Negotiator.prototype.languages,Negotiator.prototype.preferredMediaType=Negotiator.prototype.mediaType,Negotiator.prototype.preferredMediaTypes=Negotiator.prototype.mediaTypes},{"./lib/charset":140,"./lib/encoding":141,"./lib/language":142,"./lib/mediaType":143}],140:[function(require,module,exports){function parseAcceptCharset(accept){for(var accepts=accept.split(","),i=0,j=0;i<accepts.length;i++){var charset=parseCharset(accepts[i].trim(),i);charset&&(accepts[j++]=charset)}return accepts.length=j,accepts}function parseCharset(s,i){var match=s.match(/^\s*(\S+?)\s*(?:;(.*))?$/);if(!match)return null;var charset=match[1],q=1;if(match[2])for(var params=match[2].split(";"),i=0;i<params.length;i++){var p=params[i].trim().split("=");if("q"===p[0]){q=parseFloat(p[1]);break}}return{charset:charset,q:q,i:i}}function getCharsetPriority(charset,accepted,index){for(var priority={o:-1,q:0,s:0},i=0;i<accepted.length;i++){var spec=specify(charset,accepted[i],index);spec&&(priority.s-spec.s||priority.q-spec.q||priority.o-spec.o)<0&&(priority=spec)}return priority}function specify(charset,spec,index){var s=0;if(spec.charset.toLowerCase()===charset.toLowerCase())s|=1;else if("*"!==spec.charset)return null;return{i:index,o:spec.i,q:spec.q,s:s}}function preferredCharsets(accept,provided){var accepts=parseAcceptCharset(void 0===accept?"*":accept||"");if(!provided)return accepts.filter(isQuality).sort(compareSpecs).map(function(spec){return spec.charset});var priorities=provided.map(function(type,index){return getCharsetPriority(type,accepts,index)});return priorities.filter(isQuality).sort(compareSpecs).map(function(priority){return provided[priorities.indexOf(priority)]})}function compareSpecs(a,b){return b.q-a.q||b.s-a.s||a.o-b.o||a.i-b.i||0}function isQuality(spec){return spec.q>0}module.exports=preferredCharsets,preferredCharsets.preferredCharsets=preferredCharsets},{}],141:[function(require,module,exports){function parseAcceptEncoding(accept){for(var accepts=accept.split(","),hasIdentity=!1,minQuality=1,i=0,j=0;i<accepts.length;i++){var encoding=parseEncoding(accepts[i].trim(),i);encoding&&(accepts[j++]=encoding,hasIdentity=hasIdentity||specify("identity",encoding),minQuality=Math.min(minQuality,encoding.q||1))}return hasIdentity||(accepts[j++]={encoding:"identity",q:minQuality,i:i}),accepts.length=j,accepts}function parseEncoding(s,i){var match=s.match(/^\s*(\S+?)\s*(?:;(.*))?$/);if(!match)return null;var encoding=match[1],q=1;if(match[2])for(var params=match[2].split(";"),i=0;i<params.length;i++){var p=params[i].trim().split("=");if("q"===p[0]){q=parseFloat(p[1]);break}}return{encoding:encoding,q:q,i:i}}function getEncodingPriority(encoding,accepted,index){for(var priority={o:-1,q:0,s:0},i=0;i<accepted.length;i++){var spec=specify(encoding,accepted[i],index);spec&&(priority.s-spec.s||priority.q-spec.q||priority.o-spec.o)<0&&(priority=spec)}return priority}function specify(encoding,spec,index){var s=0;if(spec.encoding.toLowerCase()===encoding.toLowerCase())s|=1;else if("*"!==spec.encoding)return null;return{i:index,o:spec.i,q:spec.q,s:s}}function preferredEncodings(accept,provided){var accepts=parseAcceptEncoding(accept||"");if(!provided)return accepts.filter(isQuality).sort(compareSpecs).map(function(spec){return spec.encoding});var priorities=provided.map(function(type,index){return getEncodingPriority(type,accepts,index)});return priorities.filter(isQuality).sort(compareSpecs).map(function(priority){return provided[priorities.indexOf(priority)]})}function compareSpecs(a,b){return b.q-a.q||b.s-a.s||a.o-b.o||a.i-b.i||0}function isQuality(spec){return spec.q>0}module.exports=preferredEncodings,preferredEncodings.preferredEncodings=preferredEncodings},{}],142:[function(require,module,exports){function parseAcceptLanguage(accept){for(var accepts=accept.split(","),i=0,j=0;i<accepts.length;i++){var langauge=parseLanguage(accepts[i].trim(),i);langauge&&(accepts[j++]=langauge)}return accepts.length=j,accepts}function parseLanguage(s,i){var match=s.match(/^\s*(\S+?)(?:-(\S+?))?\s*(?:;(.*))?$/);if(!match)return null;var prefix=match[1],suffix=match[2],full=prefix;suffix&&(full+="-"+suffix);var q=1;if(match[3])for(var params=match[3].split(";"),i=0;i<params.length;i++){var p=params[i].split("=");"q"===p[0]&&(q=parseFloat(p[1]))}return{prefix:prefix,suffix:suffix,q:q,i:i,full:full}}function getLanguagePriority(language,accepted,index){for(var priority={o:-1,q:0,s:0},i=0;i<accepted.length;i++){var spec=specify(language,accepted[i],index);spec&&(priority.s-spec.s||priority.q-spec.q||priority.o-spec.o)<0&&(priority=spec)}return priority}function specify(language,spec,index){var p=parseLanguage(language);if(!p)return null;var s=0;if(spec.full.toLowerCase()===p.full.toLowerCase())s|=4;else if(spec.prefix.toLowerCase()===p.full.toLowerCase())s|=2;else if(spec.full.toLowerCase()===p.prefix.toLowerCase())s|=1;else if("*"!==spec.full)return null;return{i:index,o:spec.i,q:spec.q,s:s}}function preferredLanguages(accept,provided){var accepts=parseAcceptLanguage(void 0===accept?"*":accept||"");if(!provided)return accepts.filter(isQuality).sort(compareSpecs).map(function(spec){return spec.full});var priorities=provided.map(function(type,index){return getLanguagePriority(type,accepts,index)});return priorities.filter(isQuality).sort(compareSpecs).map(function(priority){return provided[priorities.indexOf(priority)]})}function compareSpecs(a,b){return b.q-a.q||b.s-a.s||a.o-b.o||a.i-b.i||0}function isQuality(spec){return spec.q>0}module.exports=preferredLanguages,preferredLanguages.preferredLanguages=preferredLanguages},{}],143:[function(require,module,exports){function parseAccept(accept){for(var accepts=splitMediaTypes(accept),i=0,j=0;i<accepts.length;i++){var mediaType=parseMediaType(accepts[i].trim(),i);mediaType&&(accepts[j++]=mediaType)}return accepts.length=j,accepts}function parseMediaType(s,i){var match=s.match(/\s*(\S+?)\/([^;\s]+)\s*(?:;(.*))?/);if(!match)return null;var type=match[1],subtype=match[2],full=""+type+"/"+subtype,params={},q=1;return match[3]&&(params=match[3].split(";").map(function(s){return s.trim().split("=")}).reduce(function(set,p){var name=p[0].toLowerCase(),value=p[1];return set[name]=value&&'"'===value[0]&&'"'===value[value.length-1]?value.substr(1,value.length-2):value,set},params),null!=params.q&&(q=parseFloat(params.q),delete params.q)),{type:type,subtype:subtype,params:params,q:q,i:i,full:full}}function getMediaTypePriority(type,accepted,index){for(var priority={o:-1,q:0,s:0},i=0;i<accepted.length;i++){var spec=specify(type,accepted[i],index);spec&&(priority.s-spec.s||priority.q-spec.q||priority.o-spec.o)<0&&(priority=spec)}return priority}function specify(type,spec,index){var p=parseMediaType(type),s=0;if(!p)return null;if(spec.type.toLowerCase()==p.type.toLowerCase())s|=4;else if("*"!=spec.type)return null;if(spec.subtype.toLowerCase()==p.subtype.toLowerCase())s|=2;else if("*"!=spec.subtype)return null;var keys=Object.keys(spec.params);if(keys.length>0){if(!keys.every(function(k){return"*"==spec.params[k]||(spec.params[k]||"").toLowerCase()==(p.params[k]||"").toLowerCase()}))return null;s|=1}return{i:index,o:spec.i,q:spec.q,s:s}}function preferredMediaTypes(accept,provided){var accepts=parseAccept(void 0===accept?"*/*":accept||"");if(!provided)return accepts.filter(isQuality).sort(compareSpecs).map(function(spec){return spec.full});var priorities=provided.map(function(type,index){return getMediaTypePriority(type,accepts,index)});return priorities.filter(isQuality).sort(compareSpecs).map(function(priority){return provided[priorities.indexOf(priority)]})}function compareSpecs(a,b){return b.q-a.q||b.s-a.s||a.o-b.o||a.i-b.i||0}function isQuality(spec){return spec.q>0}function quoteCount(string){for(var count=0,index=0;-1!==(index=string.indexOf('"',index));)count++,index++;return count}function splitMediaTypes(accept){for(var accepts=accept.split(","),i=1,j=0;i<accepts.length;i++)quoteCount(accepts[j])%2==0?accepts[++j]=accepts[i]:accepts[j]+=","+accepts[i];return accepts.length=j+1,accepts}module.exports=preferredMediaTypes,preferredMediaTypes.preferredMediaTypes=preferredMediaTypes},{}],144:[function(require,module,exports){"use strict";function flattenWithDepth(array,result,depth){for(var i=0;i<array.length;i++){var value=array[i];depth>0&&Array.isArray(value)?flattenWithDepth(value,result,depth-1):result.push(value)}return result}function flattenForever(array,result){for(var i=0;i<array.length;i++){var value=array[i];Array.isArray(value)?flattenForever(value,result):result.push(value)}return result}function arrayFlatten(array,depth){return null==depth?flattenForever(array,[]):flattenWithDepth(array,[],depth)}module.exports=arrayFlatten},{}],145:[function(require,module,exports){function contentDisposition(filename,options){var opts=options||{},type=opts.type||"attachment",params=createparams(filename,opts.fallback);return format(new ContentDisposition(type,params))}function createparams(filename,fallback){if(void 0!==filename){var params={};if("string"!=typeof filename)throw new TypeError("filename must be a string");if(void 0===fallback&&(fallback=!0),"string"!=typeof fallback&&"boolean"!=typeof fallback)throw new TypeError("fallback must be a string or boolean");if("string"==typeof fallback&&nonLatin1RegExp.test(fallback))throw new TypeError("fallback must be ISO-8859-1 string");var name=basename(filename),isQuotedString=textRegExp.test(name),fallbackName="string"!=typeof fallback?fallback&&getlatin1(name):basename(fallback),hasFallback="string"==typeof fallbackName&&fallbackName!==name;return(hasFallback||!isQuotedString||hexEscapeRegExp.test(name))&&(params["filename*"]=name),(isQuotedString||hasFallback)&&(params.filename=hasFallback?fallbackName:name),params}}function format(obj){var parameters=obj.parameters,type=obj.type;if(!type||"string"!=typeof type||!tokenRegExp.test(type))throw new TypeError("invalid type");var string=String(type).toLowerCase();if(parameters&&"object"==typeof parameters)for(var param,params=Object.keys(parameters).sort(),i=0;i<params.length;i++){param=params[i];var val="*"===param.substr(-1)?ustring(parameters[param]):qstring(parameters[param]);string+="; "+param+"="+val}return string}function decodefield(str){var match=extValueRegExp.exec(str);if(!match)throw new TypeError("invalid extended field value");var value,charset=match[1].toLowerCase(),encoded=match[2],binary=encoded.replace(hexEscapeReplaceRegExp,pdecode);switch(charset){case"iso-8859-1":value=getlatin1(binary);break;case"utf-8":value=new Buffer(binary,"binary").toString("utf8");break;default:throw new TypeError("unsupported charset in extended field")}return value}function getlatin1(val){return String(val).replace(nonLatin1RegExp,"?")}function parse(string){if(!string||"string"!=typeof string)throw new TypeError("argument string is required");var match=dispositionTypeRegExp.exec(string);if(!match)throw new TypeError("invalid type format");var key,value,index=match[0].length,type=match[1].toLowerCase(),names=[],params={};for(index=paramRegExp.lastIndex=";"===match[0].substr(-1)?index-1:index;match=paramRegExp.exec(string);){if(match.index!==index)throw new TypeError("invalid parameter format");if(index+=match[0].length,key=match[1].toLowerCase(),value=match[2],-1!==names.indexOf(key))throw new TypeError("invalid duplicate parameter");names.push(key),key.indexOf("*")+1!==key.length?"string"!=typeof params[key]&&('"'===value[0]&&(value=value.substr(1,value.length-2).replace(qescRegExp,"$1")),params[key]=value):(key=key.slice(0,-1),value=decodefield(value),params[key]=value)}if(-1!==index&&index!==string.length)throw new TypeError("invalid parameter format");return new ContentDisposition(type,params)}function pdecode(str,hex){return String.fromCharCode(parseInt(hex,16))}function pencode(char){var hex=String(char).charCodeAt(0).toString(16).toUpperCase();return 1===hex.length?"%0"+hex:"%"+hex}function qstring(val){var str=String(val);return'"'+str.replace(quoteRegExp,"\\$1")+'"'}function ustring(val){var str=String(val),encoded=encodeURIComponent(str).replace(encodeUriAttrCharRegExp,pencode);return"UTF-8''"+encoded}function ContentDisposition(type,parameters){this.type=type,this.parameters=parameters}module.exports=contentDisposition,module.exports.parse=parse;var basename=require("path").basename,encodeUriAttrCharRegExp=/[\x00-\x20"'\(\)*,\/:;<=>?@\[\\\]\{\}\x7f]/g,hexEscapeRegExp=/%[0-9A-Fa-f]{2}/,hexEscapeReplaceRegExp=/%([0-9A-Fa-f]{2})/g,nonLatin1RegExp=/[^\x20-\x7e\xa0-\xff]/g,qescRegExp=/\\([\u0000-\u007f])/g,quoteRegExp=/([\\"])/g,paramRegExp=/; *([!#$%&'\*\+\-\.0-9A-Z\^_`a-z\|~]+) *= *("(?:[ !\x23-\x5b\x5d-\x7e\x80-\xff]|\\[\x20-\x7e])*"|[!#$%&'\*\+\-\.0-9A-Z\^_`a-z\|~]+) */g,textRegExp=/^[\x20-\x7e\x80-\xff]+$/,tokenRegExp=/^[!#$%&'\*\+\-\.0-9A-Z\^_`a-z\|~]+$/,extValueRegExp=/^([A-Za-z0-9!#$%&+\-^_`{}~]+)'(?:[A-Za-z]{2,3}(?:-[A-Za-z]{3}){0,3}|[A-Za-z]{4,8}|)'((?:%[0-9A-Fa-f]{2}|[A-Za-z0-9!#$&+\-\.^_`|~])+)$/,dispositionTypeRegExp=/^([!#$%&'\*\+\-\.0-9A-Z\^_`a-z\|~]+) *(?:$|;)/},{path:void 0}],146:[function(require,module,exports){arguments[4][41][0].apply(exports,arguments)},{dup:41}],147:[function(require,module,exports){function sha1(str){return crypto.createHash("sha1").update(str).digest("hex")}var crypto=require("crypto");exports.sign=function(val,secret){if("string"!=typeof val)throw new TypeError("Cookie value must be provided as a string.");if("string"!=typeof secret)throw new TypeError("Secret string must be provided.");return val+"."+crypto.createHmac("sha256",secret).update(val).digest("base64").replace(/\=+$/,"")},exports.unsign=function(val,secret){if("string"!=typeof val)throw new TypeError("Signed cookie string must be provided.");if("string"!=typeof secret)throw new TypeError("Secret string must be provided.");var str=val.slice(0,val.lastIndexOf(".")),mac=exports.sign(str,secret);return sha1(mac)==sha1(val)?str:!1}},{crypto:void 0}],148:[function(require,module,exports){function parse(str,options){var obj={},opt=options||{},pairs=str.split(/; */),dec=opt.decode||decode;return pairs.forEach(function(pair){var eq_idx=pair.indexOf("=");if(!(0>eq_idx)){var key=pair.substr(0,eq_idx).trim(),val=pair.substr(++eq_idx,pair.length).trim();'"'==val[0]&&(val=val.slice(1,-1)),void 0==obj[key]&&(obj[key]=tryDecode(val,dec))}}),obj}function serialize(name,val,options){var opt=options||{},enc=opt.encode||encode,pairs=[name+"="+enc(val)];if(null!=opt.maxAge){var maxAge=opt.maxAge-0;if(isNaN(maxAge))throw new Error("maxAge should be a Number");pairs.push("Max-Age="+maxAge)}return opt.domain&&pairs.push("Domain="+opt.domain),opt.path&&pairs.push("Path="+opt.path),opt.expires&&pairs.push("Expires="+opt.expires.toUTCString()),opt.httpOnly&&pairs.push("HttpOnly"),opt.secure&&pairs.push("Secure"),pairs.join("; ")}function tryDecode(str,decode){try{return decode(str)}catch(e){return str}}exports.parse=parse,exports.serialize=serialize;var decode=decodeURIComponent,encode=encodeURIComponent},{}],149:[function(require,module,exports){arguments[4][42][0].apply(exports,arguments)},{dup:42,ms:151}],150:[function(require,module,exports){arguments[4][43][0].apply(exports,arguments)},{"./debug":149,dup:43,fs:void 0,net:void 0,tty:void 0,util:void 0}],151:[function(require,module,exports){arguments[4][44][0].apply(exports,arguments)},{dup:44}],152:[function(require,module,exports){function containsNamespace(str,namespace){var val=str.split(/[ ,]+/);namespace=String(namespace).toLowerCase();for(var i=0;i<val.length;i++)if((str=val[i])&&("*"===str||str.toLowerCase()===namespace))return!0;return!1}function convertDataDescriptorToAccessor(obj,prop,message){var descriptor=Object.getOwnPropertyDescriptor(obj,prop),value=descriptor.value;return descriptor.get=function(){return value},descriptor.writable&&(descriptor.set=function(val){return value=val}),delete descriptor.value,delete descriptor.writable,Object.defineProperty(obj,prop,descriptor),descriptor}function createArgumentsString(arity){for(var str="",i=0;arity>i;i++)str+=", arg"+i;return str.substr(2)}function createStackString(stack){var str=this.name+": "+this.namespace;this.message&&(str+=" deprecated "+this.message);for(var i=0;i<stack.length;i++)str+="\n    at "+callSiteToString(stack[i]);return str}function depd(namespace){function deprecate(message){log.call(deprecate,message)}if(!namespace)throw new TypeError("argument namespace is required");var stack=getStack(),site=callSiteLocation(stack[1]),file=site[0];return deprecate._file=file,deprecate._ignored=isignored(namespace),deprecate._namespace=namespace,deprecate._traced=istraced(namespace),deprecate._warned=Object.create(null),deprecate["function"]=wrapfunction,deprecate.property=wrapproperty,deprecate}function isignored(namespace){if(process.noDeprecation)return!0;var str=process.env.NO_DEPRECATION||"";return containsNamespace(str,namespace)}function istraced(namespace){if(process.traceDeprecation)return!0;var str=process.env.TRACE_DEPRECATION||"";return containsNamespace(str,namespace)}function log(message,site){var haslisteners=0!==eventListenerCount(process,"deprecation");if(haslisteners||!this._ignored){var caller,callFile,callSite,i=0,seen=!1,stack=getStack(),file=this._file;for(site?(callSite=callSiteLocation(stack[1]),callSite.name=site.name,file=callSite[0]):(i=2,site=callSiteLocation(stack[i]),callSite=site);i<stack.length;i++)if(caller=callSiteLocation(stack[i]),callFile=caller[0],callFile===file)seen=!0;else if(callFile===this._file)file=this._file;else if(seen)break;var key=caller?site.join(":")+"__"+caller.join(":"):void 0;if(!(void 0!==key&&key in this._warned)){if(this._warned[key]=!0,message||(message=defaultMessage(callSite!==site&&callSite.name?callSite:site)),haslisteners){var err=DeprecationError(this._namespace,message,stack.slice(i));return void process.emit("deprecation",err)}var format=process.stderr.isTTY?formatColor:formatPlain,msg=format.call(this,message,caller,stack.slice(i));process.stderr.write(msg+"\n","utf8")}}}function callSiteLocation(callSite){var file=callSite.getFileName()||"<anonymous>",line=callSite.getLineNumber(),colm=callSite.getColumnNumber();callSite.isEval()&&(file=callSite.getEvalOrigin()+", "+file);var site=[file,line,colm];return site.callSite=callSite,site.name=callSite.getFunctionName(),site}function defaultMessage(site){var callSite=site.callSite,funcName=site.name;funcName||(funcName="<anonymous@"+formatLocation(site)+">");var context=callSite.getThis(),typeName=context&&callSite.getTypeName();return"Object"===typeName&&(typeName=void 0),"Function"===typeName&&(typeName=context.name||typeName),typeName&&callSite.getMethodName()?typeName+"."+funcName:funcName}function formatPlain(msg,caller,stack){var timestamp=(new Date).toUTCString(),formatted=timestamp+" "+this._namespace+" deprecated "+msg;if(this._traced){for(var i=0;i<stack.length;i++)formatted+="\n    at "+callSiteToString(stack[i]);return formatted}return caller&&(formatted+=" at "+formatLocation(caller)),formatted}function formatColor(msg,caller,stack){var formatted="[36;1m"+this._namespace+"[22;39m [33;1mdeprecated[22;39m [0m"+msg+"[39m";if(this._traced){for(var i=0;i<stack.length;i++)formatted+="\n    [36mat "+callSiteToString(stack[i])+"[39m";return formatted}return caller&&(formatted+=" [36m"+formatLocation(caller)+"[39m"),formatted}function formatLocation(callSite){return relative(basePath,callSite[0])+":"+callSite[1]+":"+callSite[2]}function getStack(){var limit=Error.stackTraceLimit,obj={},prep=Error.prepareStackTrace;Error.prepareStackTrace=prepareObjectStackTrace,Error.stackTraceLimit=Math.max(10,limit),Error.captureStackTrace(obj);var stack=obj.stack.slice(1);return Error.prepareStackTrace=prep,Error.stackTraceLimit=limit,stack}function prepareObjectStackTrace(obj,stack){return stack}function wrapfunction(fn,message){if("function"!=typeof fn)throw new TypeError("argument fn must be a function");var args=createArgumentsString(fn.length),deprecate=this,stack=getStack(),site=callSiteLocation(stack[1]);site.name=fn.name;var deprecatedfn=eval("(function ("+args+') {\n"use strict"\nlog.call(deprecate, message, site)\nreturn fn.apply(this, arguments)\n})');return deprecatedfn}function wrapproperty(obj,prop,message){if(!obj||"object"!=typeof obj&&"function"!=typeof obj)throw new TypeError("argument obj must be object");var descriptor=Object.getOwnPropertyDescriptor(obj,prop);if(!descriptor)throw new TypeError("must call property on owner object");if(!descriptor.configurable)throw new TypeError("property must be configurable");var deprecate=this,stack=getStack(),site=callSiteLocation(stack[1]);site.name=prop,"value"in descriptor&&(descriptor=convertDataDescriptorToAccessor(obj,prop,message));var get=descriptor.get,set=descriptor.set;"function"==typeof get&&(descriptor.get=function(){return log.call(deprecate,message,site),get.apply(this,arguments)}),"function"==typeof set&&(descriptor.set=function(){return log.call(deprecate,message,site),set.apply(this,arguments)}),Object.defineProperty(obj,prop,descriptor)}function DeprecationError(namespace,message,stack){var stackString,error=new Error;return Object.defineProperty(error,"constructor",{value:DeprecationError}),Object.defineProperty(error,"message",{configurable:!0,enumerable:!1,value:message,writable:!0}),Object.defineProperty(error,"name",{enumerable:!1,configurable:!0,value:"DeprecationError",writable:!0}),Object.defineProperty(error,"namespace",{configurable:!0,enumerable:!1,value:namespace,writable:!0}),Object.defineProperty(error,"stack",{configurable:!0,enumerable:!1,get:function(){return void 0!==stackString?stackString:stackString=createStackString.call(this,stack)},set:function(val){stackString=val}}),error}var callSiteToString=require("./lib/compat").callSiteToString,EventEmitter=require("events").EventEmitter,relative=require("path").relative;module.exports=depd;var basePath=process.cwd(),eventListenerCount=EventEmitter.listenerCount||function(emitter,type){return emitter.listeners(type).length}},{"./lib/compat":155,events:void 0,path:void 0}],153:[function(require,module,exports){function bufferConcat(bufs){for(var length=0,i=0,len=bufs.length;len>i;i++)length+=bufs[i].length;for(var buf=new Buffer(length),pos=0,i=0,len=bufs.length;len>i;i++)bufs[i].copy(buf,pos),pos+=bufs[i].length;return buf}module.exports=bufferConcat},{}],154:[function(require,module,exports){function callSiteFileLocation(callSite){var fileName,fileLocation="";if(callSite.isNative()?fileLocation="native":callSite.isEval()?(fileName=callSite.getScriptNameOrSourceURL(),fileName||(fileLocation=callSite.getEvalOrigin())):fileName=callSite.getFileName(),fileName){fileLocation+=fileName;var lineNumber=callSite.getLineNumber();if(null!=lineNumber){fileLocation+=":"+lineNumber;var columnNumber=callSite.getColumnNumber();columnNumber&&(fileLocation+=":"+columnNumber)}}return fileLocation||"unknown source"}function callSiteToString(callSite){var addSuffix=!0,fileLocation=callSiteFileLocation(callSite),functionName=callSite.getFunctionName(),isConstructor=callSite.isConstructor(),isMethodCall=!(callSite.isToplevel()||isConstructor),line="";if(isMethodCall){var methodName=callSite.getMethodName(),typeName=getConstructorName(callSite);functionName?(typeName&&0!==functionName.indexOf(typeName)&&(line+=typeName+"."),line+=functionName,methodName&&functionName.lastIndexOf("."+methodName)!==functionName.length-methodName.length-1&&(line+=" [as "+methodName+"]")):line+=typeName+"."+(methodName||"<anonymous>")}else isConstructor?line+="new "+(functionName||"<anonymous>"):functionName?line+=functionName:(addSuffix=!1,line+=fileLocation);return addSuffix&&(line+=" ("+fileLocation+")"),line}function getConstructorName(obj){var receiver=obj.receiver;return receiver.constructor&&receiver.constructor.name||null}module.exports=callSiteToString},{}],155:[function(require,module,exports){function lazyProperty(obj,prop,getter){function get(){var val=getter();return Object.defineProperty(obj,prop,{configurable:!0,enumerable:!0,value:val}),val}Object.defineProperty(obj,prop,{configurable:!0,enumerable:!0,get:get})}function toString(obj){return obj.toString()}lazyProperty(module.exports,"bufferConcat",function(){return Buffer.concat||require("./buffer-concat")}),lazyProperty(module.exports,"callSiteToString",function(){function prepareObjectStackTrace(obj,stack){return stack}var limit=Error.stackTraceLimit,obj={},prep=Error.prepareStackTrace;Error.prepareStackTrace=prepareObjectStackTrace,Error.stackTraceLimit=2,Error.captureStackTrace(obj);var stack=obj.stack.slice();return Error.prepareStackTrace=prep,Error.stackTraceLimit=limit,stack[0].toString?toString:require("./callsite-tostring")})},{"./buffer-concat":153,"./callsite-tostring":154}],156:[function(require,module,exports){function escapeHtml(html){return String(html).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}module.exports=escapeHtml},{}],157:[function(require,module,exports){"use strict";function entitytag(entity){if(0===entity.length)return'"0-1B2M2Y8AsgTpgAmY7PhCfg"';var hash=crypto.createHash("md5").update(entity,"utf8").digest("base64").replace(base64PadCharRegExp,""),len="string"==typeof entity?Buffer.byteLength(entity,"utf8"):entity.length;return'"'+len.toString(16)+"-"+hash+'"'}function etag(entity,options){if(null==entity)throw new TypeError("argument entity is required");var isStats=isstats(entity),weak=options&&"boolean"==typeof options.weak?options.weak:isStats;if(!isStats&&"string"!=typeof entity&&!Buffer.isBuffer(entity))throw new TypeError("argument entity must be string, Buffer, or fs.Stats");var tag=isStats?stattag(entity):entitytag(entity);return weak?"W/"+tag:tag}function isstats(obj){return"function"==typeof Stats&&obj instanceof Stats?!0:obj&&"object"==typeof obj&&"ctime"in obj&&"[object Date]"===toString.call(obj.ctime)&&"mtime"in obj&&"[object Date]"===toString.call(obj.mtime)&&"ino"in obj&&"number"==typeof obj.ino&&"size"in obj&&"number"==typeof obj.size}function stattag(stat){var mtime=stat.mtime.getTime().toString(16),size=stat.size.toString(16);return'"'+size+"-"+mtime+'"'}module.exports=etag;var crypto=require("crypto"),Stats=require("fs").Stats,base64PadCharRegExp=/=+$/,toString=Object.prototype.toString;
},{crypto:void 0,fs:void 0}],158:[function(require,module,exports){"use strict";function finalhandler(req,res,options){var opts=options||{},env=opts.env||process.env.NODE_ENV||"development",onerror=opts.onerror;return function(err){var status=res.statusCode;if(!err&&res._header)return void debug("cannot 404 after headers sent");if(err){err.statusCode&&(status=err.statusCode),err.status&&(status=err.status),(!status||400>status)&&(status=500);var msg="production"===env?http.STATUS_CODES[status]:err.stack||err.toString();msg=escapeHtml(msg).replace(/\n/g,"<br>").replace(/  /g," &nbsp;")+"\n"}else status=404,msg="Cannot "+escapeHtml(req.method)+" "+escapeHtml(req.originalUrl||req.url)+"\n";return debug("default %s",status),err&&onerror&&defer(onerror,err,req,res),res._header?req.socket.destroy():void send(req,res,status,msg)}}function send(req,res,status,body){function write(){return res.statusCode=status,res.setHeader("X-Content-Type-Options","nosniff"),res.setHeader("Content-Type","text/html; charset=utf-8"),res.setHeader("Content-Length",Buffer.byteLength(body,"utf8")),"HEAD"===req.method?void res.end():void res.end(body,"utf8")}return isFinished(req)?void write():(unpipe(req),onFinished(req,write),void req.resume())}var debug=require("debug")("finalhandler"),escapeHtml=require("escape-html"),http=require("http"),onFinished=require("on-finished"),unpipe=require("unpipe"),defer="function"==typeof setImmediate?setImmediate:function(fn){process.nextTick(fn.bind.apply(fn,arguments))},isFinished=onFinished.isFinished;module.exports=finalhandler},{debug:150,"escape-html":156,http:void 0,"on-finished":163,unpipe:159}],159:[function(require,module,exports){arguments[4][104][0].apply(exports,arguments)},{dup:104}],160:[function(require,module,exports){function fresh(req,res){var etagMatches=!0,notModified=!0,modifiedSince=req["if-modified-since"],noneMatch=req["if-none-match"],lastModified=res["last-modified"],etag=res.etag,cc=req["cache-control"];return modifiedSince||noneMatch?cc&&-1!==cc.indexOf("no-cache")?!1:(noneMatch&&(noneMatch=noneMatch.split(/ *, */)),noneMatch&&(etagMatches=noneMatch.some(function(match){return"*"===match||match===etag||match==="W/"+etag})),modifiedSince&&(modifiedSince=new Date(modifiedSince),lastModified=new Date(lastModified),notModified=modifiedSince>=lastModified),!(!etagMatches||!notModified)):!1}module.exports=fresh},{}],161:[function(require,module,exports){function merge(dest,src,redefine){if(!dest)throw new TypeError("argument dest is required");if(!src)throw new TypeError("argument src is required");return void 0===redefine&&(redefine=!0),Object.getOwnPropertyNames(src).forEach(function(name){if(redefine||!hasOwnProperty.call(dest,name)){var descriptor=Object.getOwnPropertyDescriptor(src,name);Object.defineProperty(dest,name,descriptor)}}),dest}module.exports=merge;var hasOwnProperty=Object.prototype.hasOwnProperty},{}],162:[function(require,module,exports){"use strict";function getCurrentNodeMethods(){return http.METHODS&&http.METHODS.map(function(method){return method.toLowerCase()})}function getBasicNodeMethods(){return["get","post","put","head","delete","options","trace","copy","lock","mkcol","move","purge","propfind","proppatch","unlock","report","mkactivity","checkout","merge","m-search","notify","subscribe","unsubscribe","patch","search","connect"]}var http=require("http");module.exports=getCurrentNodeMethods()||getBasicNodeMethods()},{http:void 0}],163:[function(require,module,exports){arguments[4][75][0].apply(exports,arguments)},{dup:75,"ee-first":164}],164:[function(require,module,exports){arguments[4][76][0].apply(exports,arguments)},{dup:76}],165:[function(require,module,exports){"use strict";function parseurl(req){var url=req.url;if(void 0!==url){var parsed=req._parsedUrl;return fresh(url,parsed)?parsed:(parsed=fastparse(url),parsed._raw=url,req._parsedUrl=parsed)}}function originalurl(req){var url=req.originalUrl;if("string"!=typeof url)return parseurl(req);var parsed=req._parsedOriginalUrl;return fresh(url,parsed)?parsed:(parsed=fastparse(url),parsed._raw=url,req._parsedOriginalUrl=parsed)}function fastparse(str){var simplePath="string"==typeof str&&simplePathRegExp.exec(str);if(simplePath){var pathname=simplePath[1],search=simplePath[2]||null,url=void 0!==Url?new Url:{};return url.path=str,url.href=str,url.pathname=pathname,url.search=search,url.query=search&&search.substr(1),url}return parse(str)}function fresh(url,parsedUrl){return"object"==typeof parsedUrl&&null!==parsedUrl&&(void 0===Url||parsedUrl instanceof Url)&&parsedUrl._raw===url}var url=require("url"),parse=url.parse,Url=url.Url,simplePathRegExp=/^(\/\/?(?!\/)[^\?#\s]*)(\?[^#\s]*)?$/;module.exports=parseurl,module.exports.original=originalurl},{url:void 0}],166:[function(require,module,exports){function pathtoRegexp(path,keys,options){options=options||{},keys=keys||[];var m,strict=options.strict,end=options.end!==!1,flags=options.sensitive?"":"i",extraOffset=0,keysOffset=keys.length,i=0,name=0;if(path instanceof RegExp){for(;m=MATCHING_GROUP_REGEXP.exec(path.source);)keys.push({name:name++,optional:!1,offset:m.index});return path}if(Array.isArray(path))return path=path.map(function(value){return pathtoRegexp(value,keys,options).source}),new RegExp("(?:"+path.join("|")+")",flags);for(path=("^"+path+(strict?"":"/"===path[path.length-1]?"?":"/?")).replace(/\/\(/g,"/(?:").replace(/([\/\.])/g,"\\$1").replace(/(\\\/)?(\\\.)?:(\w+)(\(.*?\))?(\*)?(\?)?/g,function(match,slash,format,key,capture,star,optional,offset){slash=slash||"",format=format||"",capture=capture||"([^\\/"+format+"]+?)",optional=optional||"",keys.push({name:key,optional:!!optional,offset:offset+extraOffset});var result=""+(optional?"":slash)+"(?:"+format+(optional?slash:"")+capture+(star?"((?:[\\/"+format+"].+?)?)":"")+")"+optional;return extraOffset+=result.length-match.length,result}).replace(/\*/g,function(star,index){for(var len=keys.length;len-- >keysOffset&&keys[len].offset>index;)keys[len].offset+=3;return"(.*)"});m=MATCHING_GROUP_REGEXP.exec(path);){for(var escapeCount=0,index=m.index;"\\"===path.charAt(--index);)escapeCount++;escapeCount%2!==1&&((keysOffset+i===keys.length||keys[keysOffset+i].offset>m.index)&&keys.splice(keysOffset+i,0,{name:name++,optional:!1,offset:m.index}),i++)}return path+=end?"$":"/"===path[path.length-1]?"":"(?=\\/|$)",new RegExp(path,flags)}module.exports=pathtoRegexp;var MATCHING_GROUP_REGEXP=/\((?!\?)/g},{}],167:[function(require,module,exports){"use strict";function alladdrs(req,trust){var addrs=forwarded(req);if(!trust)return addrs;"function"!=typeof trust&&(trust=compile(trust));for(var i=0;i<addrs.length-1;i++)trust(addrs[i],i)||(addrs.length=i+1);return addrs}function compile(val){if(!val)throw new TypeError("argument is required");var trust="string"==typeof val?[val]:val;if(!Array.isArray(trust))throw new TypeError("unsupported trust argument");for(var i=0;i<trust.length;i++)val=trust[i],ipranges.hasOwnProperty(val)&&(val=ipranges[val],trust.splice.apply(trust,[i,1].concat(val)),i+=val.length-1);return compileTrust(compileRangeSubnets(trust))}function compileRangeSubnets(arr){for(var rangeSubnets=new Array(arr.length),i=0;i<arr.length;i++)rangeSubnets[i]=parseipNotation(arr[i]);return rangeSubnets}function compileTrust(rangeSubnets){var len=rangeSubnets.length;return 0===len?trustNone:1===len?trustSingle(rangeSubnets[0]):trustMulti(rangeSubnets)}function parseipNotation(note){var ip,kind,max,range,pos=note.lastIndexOf("/");if(ip=-1!==pos?note.substring(0,pos):note,!isip(ip))throw new TypeError("invalid IP address: "+ip);if(ip=parseip(ip),kind=ip.kind(),max="ipv6"===kind?128:32,range=-1!==pos?note.substring(pos+1,note.length):max,"number"!=typeof range&&(range=digitre.test(range)?parseInt(range,10):isip(range)?parseNetmask(range):0),"ipv6"===ip.kind()&&ip.isIPv4MappedAddress()&&(ip=ip.toIPv4Address(),range=max>=range?range-96:range),0>=range||range>max)throw new TypeError("invalid range on address: "+note);return[ip,range]}function parseNetmask(netmask){var parts,size,ip=parseip(netmask);switch(ip.kind()){case"ipv4":parts=ip.octets,size=8;break;case"ipv6":parts=ip.parts,size=16}for(var part,max=Math.pow(2,size)-1,range=0,i=0;i<parts.length;i++){part=parts[i]&max;{if(part!==max){for(;part;)part=part<<1&max,range+=1;break}range+=size}}return range}function proxyaddr(req,trust){if(!req)throw new TypeError("req argument is required");if(!trust)throw new TypeError("trust argument is required");var addrs=alladdrs(req,trust),addr=addrs[addrs.length-1];return addr}function trustNone(){return!1}function trustMulti(subnets){return function(addr){if(!isip(addr))return!1;for(var ipv4,subnet,subnetip,subnetkind,subnetrange,trusted,ip=parseip(addr),kind=ip.kind(),i=0;i<subnets.length;i++){if(subnet=subnets[i],subnetip=subnet[0],subnetkind=subnetip.kind(),subnetrange=subnet[1],trusted=ip,kind!==subnetkind){if("ipv6"!==kind||"ipv4"!==subnetkind||!ip.isIPv4MappedAddress())continue;ipv4=ipv4||ip.toIPv4Address(),trusted=ipv4}if(trusted.match(subnetip,subnetrange))return!0}return!1}}function trustSingle(subnet){var subnetip=subnet[0],subnetkind=subnetip.kind(),subnetisipv4="ipv4"===subnetkind,subnetrange=subnet[1];return function(addr){if(!isip(addr))return!1;var ip=parseip(addr),kind=ip.kind();return kind===subnetkind?ip.match(subnetip,subnetrange):subnetisipv4&&"ipv6"===kind&&ip.isIPv4MappedAddress()?ip.toIPv4Address().match(subnetip,subnetrange):!1}}module.exports=proxyaddr,module.exports.all=alladdrs,module.exports.compile=compile;var forwarded=require("forwarded"),ipaddr=require("ipaddr.js"),digitre=/^[0-9]+$/,isip=ipaddr.isValid,parseip=ipaddr.parse,ipranges={linklocal:["169.254.0.0/16","fe80::/10"],loopback:["127.0.0.1/8","::1/128"],uniquelocal:["10.0.0.0/8","172.16.0.0/12","192.168.0.0/16","fc00::/7"]}},{forwarded:168,"ipaddr.js":169}],168:[function(require,module,exports){function forwarded(req){if(!req)throw new TypeError("argument req is required");var proxyAddrs=(req.headers["x-forwarded-for"]||"").split(/ *, */).filter(Boolean).reverse(),socketAddr=req.connection.remoteAddress,addrs=[socketAddr].concat(proxyAddrs);return addrs}module.exports=forwarded},{}],169:[function(require,module,exports){(function(){var expandIPv6,ipaddr,ipv4Part,ipv4Regexes,ipv6Part,ipv6Regexes,matchCIDR,root;ipaddr={},root=this,"undefined"!=typeof module&&null!==module&&module.exports?module.exports=ipaddr:root.ipaddr=ipaddr,matchCIDR=function(first,second,partSize,cidrBits){var part,shift;if(first.length!==second.length)throw new Error("ipaddr: cannot match CIDR for objects with different lengths");for(part=0;cidrBits>0;){if(shift=partSize-cidrBits,0>shift&&(shift=0),first[part]>>shift!==second[part]>>shift)return!1;cidrBits-=partSize,part+=1}return!0},ipaddr.subnetMatch=function(address,rangeList,defaultName){var rangeName,rangeSubnets,subnet,_i,_len;null==defaultName&&(defaultName="unicast");for(rangeName in rangeList)for(rangeSubnets=rangeList[rangeName],!rangeSubnets[0]||rangeSubnets[0]instanceof Array||(rangeSubnets=[rangeSubnets]),_i=0,_len=rangeSubnets.length;_len>_i;_i++)if(subnet=rangeSubnets[_i],address.match.apply(address,subnet))return rangeName;return defaultName},ipaddr.IPv4=function(){function IPv4(octets){var octet,_i,_len;if(4!==octets.length)throw new Error("ipaddr: ipv4 octet count should be 4");for(_i=0,_len=octets.length;_len>_i;_i++)if(octet=octets[_i],!(octet>=0&&255>=octet))throw new Error("ipaddr: ipv4 octet is a byte");this.octets=octets}return IPv4.prototype.kind=function(){return"ipv4"},IPv4.prototype.toString=function(){return this.octets.join(".")},IPv4.prototype.toByteArray=function(){return this.octets.slice(0)},IPv4.prototype.match=function(other,cidrRange){var _ref;if(void 0===cidrRange&&(_ref=other,other=_ref[0],cidrRange=_ref[1]),"ipv4"!==other.kind())throw new Error("ipaddr: cannot match ipv4 address with non-ipv4 one");return matchCIDR(this.octets,other.octets,8,cidrRange)},IPv4.prototype.SpecialRanges={unspecified:[[new IPv4([0,0,0,0]),8]],broadcast:[[new IPv4([255,255,255,255]),32]],multicast:[[new IPv4([224,0,0,0]),4]],linkLocal:[[new IPv4([169,254,0,0]),16]],loopback:[[new IPv4([127,0,0,0]),8]],"private":[[new IPv4([10,0,0,0]),8],[new IPv4([172,16,0,0]),12],[new IPv4([192,168,0,0]),16]],reserved:[[new IPv4([192,0,0,0]),24],[new IPv4([192,0,2,0]),24],[new IPv4([192,88,99,0]),24],[new IPv4([198,51,100,0]),24],[new IPv4([203,0,113,0]),24],[new IPv4([240,0,0,0]),4]]},IPv4.prototype.range=function(){return ipaddr.subnetMatch(this,this.SpecialRanges)},IPv4.prototype.toIPv4MappedAddress=function(){return ipaddr.IPv6.parse("::ffff:"+this.toString())},IPv4}(),ipv4Part="(0?\\d+|0x[a-f0-9]+)",ipv4Regexes={fourOctet:new RegExp("^"+ipv4Part+"\\."+ipv4Part+"\\."+ipv4Part+"\\."+ipv4Part+"$","i"),longValue:new RegExp("^"+ipv4Part+"$","i")},ipaddr.IPv4.parser=function(string){var match,parseIntAuto,part,shift,value;if(parseIntAuto=function(string){return"0"===string[0]&&"x"!==string[1]?parseInt(string,8):parseInt(string)},match=string.match(ipv4Regexes.fourOctet))return function(){var _i,_len,_ref,_results;for(_ref=match.slice(1,6),_results=[],_i=0,_len=_ref.length;_len>_i;_i++)part=_ref[_i],_results.push(parseIntAuto(part));return _results}();if(match=string.match(ipv4Regexes.longValue)){if(value=parseIntAuto(match[1]),value>4294967295||0>value)throw new Error("ipaddr: address outside defined range");return function(){var _i,_results;for(_results=[],shift=_i=0;24>=_i;shift=_i+=8)_results.push(value>>shift&255);return _results}().reverse()}return null},ipaddr.IPv6=function(){function IPv6(parts){var part,_i,_len;if(8!==parts.length)throw new Error("ipaddr: ipv6 part count should be 8");for(_i=0,_len=parts.length;_len>_i;_i++)if(part=parts[_i],!(part>=0&&65535>=part))throw new Error("ipaddr: ipv6 part should fit to two octets");this.parts=parts}return IPv6.prototype.kind=function(){return"ipv6"},IPv6.prototype.toString=function(){var compactStringParts,part,pushPart,state,stringParts,_i,_len;for(stringParts=function(){var _i,_len,_ref,_results;for(_ref=this.parts,_results=[],_i=0,_len=_ref.length;_len>_i;_i++)part=_ref[_i],_results.push(part.toString(16));return _results}.call(this),compactStringParts=[],pushPart=function(part){return compactStringParts.push(part)},state=0,_i=0,_len=stringParts.length;_len>_i;_i++)switch(part=stringParts[_i],state){case 0:pushPart("0"===part?"":part),state=1;break;case 1:"0"===part?state=2:pushPart(part);break;case 2:"0"!==part&&(pushPart(""),pushPart(part),state=3);break;case 3:pushPart(part)}return 2===state&&(pushPart(""),pushPart("")),compactStringParts.join(":")},IPv6.prototype.toByteArray=function(){var bytes,part,_i,_len,_ref;for(bytes=[],_ref=this.parts,_i=0,_len=_ref.length;_len>_i;_i++)part=_ref[_i],bytes.push(part>>8),bytes.push(255&part);return bytes},IPv6.prototype.toNormalizedString=function(){var part;return function(){var _i,_len,_ref,_results;for(_ref=this.parts,_results=[],_i=0,_len=_ref.length;_len>_i;_i++)part=_ref[_i],_results.push(part.toString(16));return _results}.call(this).join(":")},IPv6.prototype.match=function(other,cidrRange){var _ref;if(void 0===cidrRange&&(_ref=other,other=_ref[0],cidrRange=_ref[1]),"ipv6"!==other.kind())throw new Error("ipaddr: cannot match ipv6 address with non-ipv6 one");return matchCIDR(this.parts,other.parts,16,cidrRange)},IPv6.prototype.SpecialRanges={unspecified:[new IPv6([0,0,0,0,0,0,0,0]),128],linkLocal:[new IPv6([65152,0,0,0,0,0,0,0]),10],multicast:[new IPv6([65280,0,0,0,0,0,0,0]),8],loopback:[new IPv6([0,0,0,0,0,0,0,1]),128],uniqueLocal:[new IPv6([64512,0,0,0,0,0,0,0]),7],ipv4Mapped:[new IPv6([0,0,0,0,0,65535,0,0]),96],rfc6145:[new IPv6([0,0,0,0,65535,0,0,0]),96],rfc6052:[new IPv6([100,65435,0,0,0,0,0,0]),96],"6to4":[new IPv6([8194,0,0,0,0,0,0,0]),16],teredo:[new IPv6([8193,0,0,0,0,0,0,0]),32],reserved:[[new IPv6([8193,3512,0,0,0,0,0,0]),32]]},IPv6.prototype.range=function(){return ipaddr.subnetMatch(this,this.SpecialRanges)},IPv6.prototype.isIPv4MappedAddress=function(){return"ipv4Mapped"===this.range()},IPv6.prototype.toIPv4Address=function(){var high,low,_ref;if(!this.isIPv4MappedAddress())throw new Error("ipaddr: trying to convert a generic ipv6 address to ipv4");return _ref=this.parts.slice(-2),high=_ref[0],low=_ref[1],new ipaddr.IPv4([high>>8,255&high,low>>8,255&low])},IPv6}(),ipv6Part="(?:[0-9a-f]+::?)+",ipv6Regexes={"native":new RegExp("^(::)?("+ipv6Part+")?([0-9a-f]+)?(::)?$","i"),transitional:new RegExp("^((?:"+ipv6Part+")|(?:::)(?:"+ipv6Part+")?)"+(""+ipv4Part+"\\."+ipv4Part+"\\."+ipv4Part+"\\."+ipv4Part+"$"),"i")},expandIPv6=function(string,parts){var colonCount,lastColon,part,replacement,replacementCount;if(string.indexOf("::")!==string.lastIndexOf("::"))return null;for(colonCount=0,lastColon=-1;(lastColon=string.indexOf(":",lastColon+1))>=0;)colonCount++;if("::"===string.substr(0,2)&&colonCount--,"::"===string.substr(-2,2)&&colonCount--,colonCount>parts)return null;for(replacementCount=parts-colonCount,replacement=":";replacementCount--;)replacement+="0:";return string=string.replace("::",replacement),":"===string[0]&&(string=string.slice(1)),":"===string[string.length-1]&&(string=string.slice(0,-1)),function(){var _i,_len,_ref,_results;for(_ref=string.split(":"),_results=[],_i=0,_len=_ref.length;_len>_i;_i++)part=_ref[_i],_results.push(parseInt(part,16));return _results}()},ipaddr.IPv6.parser=function(string){var match,parts;return string.match(ipv6Regexes["native"])?expandIPv6(string,8):(match=string.match(ipv6Regexes.transitional))&&(parts=expandIPv6(match[1].slice(0,-1),6))?(parts.push(parseInt(match[2])<<8|parseInt(match[3])),parts.push(parseInt(match[4])<<8|parseInt(match[5])),parts):null},ipaddr.IPv4.isIPv4=ipaddr.IPv6.isIPv6=function(string){return null!==this.parser(string)},ipaddr.IPv4.isValid=function(string){var e;try{return new this(this.parser(string)),!0}catch(_error){return e=_error,!1}},ipaddr.IPv6.isValid=function(string){var e;if("string"==typeof string&&-1===string.indexOf(":"))return!1;try{return new this(this.parser(string)),!0}catch(_error){return e=_error,!1}},ipaddr.IPv4.parse=ipaddr.IPv6.parse=function(string){var parts;if(parts=this.parser(string),null===parts)throw new Error("ipaddr: string is not formatted like ip address");return new this(parts)},ipaddr.IPv4.parseCIDR=function(string){var maskLength,match;if((match=string.match(/^(.+)\/(\d+)$/))&&(maskLength=parseInt(match[2]),maskLength>=0&&32>=maskLength))return[this.parse(match[1]),maskLength];throw new Error("ipaddr: string is not formatted like an IPv4 CIDR range")},ipaddr.IPv6.parseCIDR=function(string){var maskLength,match;if((match=string.match(/^(.+)\/(\d+)$/))&&(maskLength=parseInt(match[2]),maskLength>=0&&128>=maskLength))return[this.parse(match[1]),maskLength];throw new Error("ipaddr: string is not formatted like an IPv6 CIDR range")},ipaddr.isValid=function(string){return ipaddr.IPv6.isValid(string)||ipaddr.IPv4.isValid(string)},ipaddr.parse=function(string){if(ipaddr.IPv6.isValid(string))return ipaddr.IPv6.parse(string);if(ipaddr.IPv4.isValid(string))return ipaddr.IPv4.parse(string);throw new Error("ipaddr: the address has neither IPv6 nor IPv4 format")},ipaddr.parseCIDR=function(string){var e;try{return ipaddr.IPv6.parseCIDR(string)}catch(_error){e=_error;try{return ipaddr.IPv4.parseCIDR(string)}catch(_error){throw e=_error,new Error("ipaddr: the address has neither IPv6 nor IPv4 CIDR format")}}},ipaddr.process=function(string){var addr;return addr=this.parse(string),"ipv6"===addr.kind()&&addr.isIPv4MappedAddress()?addr.toIPv4Address():addr}}).call(this)},{}],170:[function(require,module,exports){arguments[4][77][0].apply(exports,arguments)},{"./parse":171,"./stringify":172,dup:77}],171:[function(require,module,exports){var Utils=require("./utils"),internals={delimiter:"&",depth:5,arrayLimit:20,parameterLimit:1e3,strictNullHandling:!1,plainObjects:!1,allowPrototypes:!1};internals.parseValues=function(str,options){for(var obj={},parts=str.split(options.delimiter,options.parameterLimit===1/0?void 0:options.parameterLimit),i=0,il=parts.length;il>i;++i){var part=parts[i],pos=-1===part.indexOf("]=")?part.indexOf("="):part.indexOf("]=")+1;if(-1===pos)obj[Utils.decode(part)]="",options.strictNullHandling&&(obj[Utils.decode(part)]=null);else{var key=Utils.decode(part.slice(0,pos)),val=Utils.decode(part.slice(pos+1));Object.prototype.hasOwnProperty.call(obj,key)?obj[key]=[].concat(obj[key]).concat(val):obj[key]=val}}return obj},internals.parseObject=function(chain,val,options){if(!chain.length)return val;var obj,root=chain.shift();if("[]"===root)obj=[],obj=obj.concat(internals.parseObject(chain,val,options));else{obj=options.plainObjects?Object.create(null):{};var cleanRoot="["===root[0]&&"]"===root[root.length-1]?root.slice(1,root.length-1):root,index=parseInt(cleanRoot,10),indexString=""+index;!isNaN(index)&&root!==cleanRoot&&indexString===cleanRoot&&index>=0&&options.parseArrays&&index<=options.arrayLimit?(obj=[],obj[index]=internals.parseObject(chain,val,options)):obj[cleanRoot]=internals.parseObject(chain,val,options)}return obj},internals.parseKeys=function(key,val,options){if(key){options.allowDots&&(key=key.replace(/\.([^\.\[]+)/g,"[$1]"));var parent=/^([^\[\]]*)/,child=/(\[[^\[\]]*\])/g,segment=parent.exec(key),keys=[];if(segment[1]){if(!options.plainObjects&&Object.prototype.hasOwnProperty(segment[1])&&!options.allowPrototypes)return;keys.push(segment[1])}for(var i=0;null!==(segment=child.exec(key))&&i<options.depth;)++i,(options.plainObjects||!Object.prototype.hasOwnProperty(segment[1].replace(/\[|\]/g,""))||options.allowPrototypes)&&keys.push(segment[1]);return segment&&keys.push("["+key.slice(segment.index)+"]"),internals.parseObject(keys,val,options)}},module.exports=function(str,options){if(options=options||{},options.delimiter="string"==typeof options.delimiter||Utils.isRegExp(options.delimiter)?options.delimiter:internals.delimiter,options.depth="number"==typeof options.depth?options.depth:internals.depth,options.arrayLimit="number"==typeof options.arrayLimit?options.arrayLimit:internals.arrayLimit,options.parseArrays=options.parseArrays!==!1,options.allowDots=options.allowDots!==!1,options.plainObjects="boolean"==typeof options.plainObjects?options.plainObjects:internals.plainObjects,options.allowPrototypes="boolean"==typeof options.allowPrototypes?options.allowPrototypes:internals.allowPrototypes,options.parameterLimit="number"==typeof options.parameterLimit?options.parameterLimit:internals.parameterLimit,options.strictNullHandling="boolean"==typeof options.strictNullHandling?options.strictNullHandling:internals.strictNullHandling,""===str||null===str||"undefined"==typeof str)return options.plainObjects?Object.create(null):{};for(var tempObj="string"==typeof str?internals.parseValues(str,options):str,obj=options.plainObjects?Object.create(null):{},keys=Object.keys(tempObj),i=0,il=keys.length;il>i;++i){var key=keys[i],newObj=internals.parseKeys(key,tempObj[key],options);obj=Utils.merge(obj,newObj,options)}return Utils.compact(obj)}},{"./utils":173}],172:[function(require,module,exports){var Utils=require("./utils"),internals={delimiter:"&",arrayPrefixGenerators:{brackets:function(prefix,key){return prefix+"[]"},indices:function(prefix,key){return prefix+"["+key+"]"},repeat:function(prefix,key){return prefix}},strictNullHandling:!1};internals.stringify=function(obj,prefix,generateArrayPrefix,strictNullHandling,filter){if("function"==typeof filter)obj=filter(prefix,obj);else if(Utils.isBuffer(obj))obj=obj.toString();else if(obj instanceof Date)obj=obj.toISOString();else if(null===obj){if(strictNullHandling)return Utils.encode(prefix);obj=""}if("string"==typeof obj||"number"==typeof obj||"boolean"==typeof obj)return[Utils.encode(prefix)+"="+Utils.encode(obj)];var values=[];if("undefined"==typeof obj)return values;for(var objKeys=Array.isArray(filter)?filter:Object.keys(obj),i=0,il=objKeys.length;il>i;++i){var key=objKeys[i];values=Array.isArray(obj)?values.concat(internals.stringify(obj[key],generateArrayPrefix(prefix,key),generateArrayPrefix,strictNullHandling,filter)):values.concat(internals.stringify(obj[key],prefix+"["+key+"]",generateArrayPrefix,strictNullHandling,filter))}return values},module.exports=function(obj,options){options=options||{};var objKeys,filter,delimiter="undefined"==typeof options.delimiter?internals.delimiter:options.delimiter,strictNullHandling="boolean"==typeof options.strictNullHandling?options.strictNullHandling:internals.strictNullHandling;"function"==typeof options.filter?(filter=options.filter,obj=filter("",obj)):Array.isArray(options.filter)&&(objKeys=filter=options.filter);var keys=[];if("object"!=typeof obj||null===obj)return"";var arrayFormat;arrayFormat=options.arrayFormat in internals.arrayPrefixGenerators?options.arrayFormat:"indices"in options?options.indices?"indices":"repeat":"indices";var generateArrayPrefix=internals.arrayPrefixGenerators[arrayFormat];objKeys||(objKeys=Object.keys(obj));for(var i=0,il=objKeys.length;il>i;++i){var key=objKeys[i];keys=keys.concat(internals.stringify(obj[key],key,generateArrayPrefix,strictNullHandling,filter))}return keys.join(delimiter)}},{"./utils":173}],173:[function(require,module,exports){arguments[4][80][0].apply(exports,arguments)},{dup:80}],174:[function(require,module,exports){"use strict";function rangeParser(size,str){var valid=!0,i=str.indexOf("=");if(-1==i)return-2;var arr=str.slice(i+1).split(",").map(function(range){var range=range.split("-"),start=parseInt(range[0],10),end=parseInt(range[1],10);return isNaN(start)?(start=size-end,end=size-1):isNaN(end)&&(end=size-1),end>size-1&&(end=size-1),(isNaN(start)||isNaN(end)||start>end||0>start)&&(valid=!1),{start:start,end:end}});return arr.type=str.slice(0,i),valid?arr:-1}module.exports=rangeParser},{}],175:[function(require,module,exports){"use strict";function send(req,path,options){return new SendStream(req,path,options)}function SendStream(req,path,options){var opts=options||{};if(this.options=opts,this.path=path,this.req=req,this._etag=void 0!==opts.etag?Boolean(opts.etag):!0,this._dotfiles=void 0!==opts.dotfiles?opts.dotfiles:"ignore","ignore"!==this._dotfiles&&"allow"!==this._dotfiles&&"deny"!==this._dotfiles)throw new TypeError('dotfiles option must be "allow", "deny", or "ignore"');this._hidden=Boolean(opts.hidden),void 0!==opts.hidden&&deprecate("hidden: use dotfiles: '"+(this._hidden?"allow":"ignore")+"' instead"),void 0===opts.dotfiles&&(this._dotfiles=void 0),this._extensions=void 0!==opts.extensions?normalizeList(opts.extensions,"extensions option"):[],this._index=void 0!==opts.index?normalizeList(opts.index,"index option"):["index.html"],this._lastModified=void 0!==opts.lastModified?Boolean(opts.lastModified):!0,this._maxage=opts.maxAge||opts.maxage,this._maxage="string"==typeof this._maxage?ms(this._maxage):Number(this._maxage),this._maxage=isNaN(this._maxage)?0:Math.min(Math.max(0,this._maxage),maxMaxAge),this._root=opts.root?resolve(opts.root):null,!this._root&&opts.from&&this.from(opts.from)}function containsDotFile(parts){for(var i=0;i<parts.length;i++)if("."===parts[i][0])return!0;return!1}function decode(path){try{return decodeURIComponent(path)}catch(err){return-1}}function normalizeList(val,name){for(var list=[].concat(val||[]),i=0;i<list.length;i++)if("string"!=typeof list[i])throw new TypeError(name+" must be array of strings or false");return list}var createError=require("http-errors"),debug=require("debug")("send"),deprecate=require("depd")("send"),destroy=require("destroy"),escapeHtml=require("escape-html"),parseRange=require("range-parser"),Stream=require("stream"),mime=require("mime"),fresh=require("fresh"),path=require("path"),fs=require("fs"),normalize=path.normalize,join=path.join,etag=require("etag"),EventEmitter=require("events").EventEmitter,ms=require("ms"),onFinished=require("on-finished"),statuses=require("statuses"),extname=path.extname,maxMaxAge=31536e6,resolve=path.resolve,sep=path.sep,upPathRegexp=(Object.prototype.toString,/(?:^|[\\\/])\.\.(?:[\\\/]|$)/);module.exports=send,module.exports.mime=mime;var listenerCount=EventEmitter.listenerCount||function(emitter,type){return emitter.listeners(type).length};SendStream.prototype.__proto__=Stream.prototype,SendStream.prototype.etag=deprecate["function"](function(val){return val=Boolean(val),debug("etag %s",val),this._etag=val,this},"send.etag: pass etag as option"),SendStream.prototype.hidden=deprecate["function"](function(val){return val=Boolean(val),debug("hidden %s",val),this._hidden=val,this._dotfiles=void 0,this},"send.hidden: use dotfiles option"),SendStream.prototype.index=deprecate["function"](function index(paths){var index=paths?normalizeList(paths,"paths argument"):[];return debug("index %o",paths),this._index=index,this},"send.index: pass index as option"),SendStream.prototype.root=function(path){return path=String(path),this._root=resolve(path),this},SendStream.prototype.from=deprecate["function"](SendStream.prototype.root,"send.from: pass root as option"),SendStream.prototype.root=deprecate["function"](SendStream.prototype.root,"send.root: pass root as option"),SendStream.prototype.maxage=deprecate["function"](function(maxAge){return maxAge="string"==typeof maxAge?ms(maxAge):Number(maxAge),isNaN(maxAge)&&(maxAge=0),1/0==maxAge&&(maxAge=31536e6),debug("max-age %d",maxAge),this._maxage=maxAge,this},"send.maxage: pass maxAge as option"),SendStream.prototype.error=function error(status,error){if(0!==listenerCount(this,"error"))return this.emit("error",createError(error,status,{expose:!1}));var res=this.res,msg=statuses[status];res._headers=null,res.statusCode=status,res.setHeader("Content-Type","text/plain; charset=UTF-8"),res.setHeader("Content-Length",Buffer.byteLength(msg)),res.setHeader("X-Content-Type-Options","nosniff"),res.end(msg)},SendStream.prototype.hasTrailingSlash=function(){return"/"==this.path[this.path.length-1]},SendStream.prototype.isConditionalGET=function(){return this.req.headers["if-none-match"]||this.req.headers["if-modified-since"]},SendStream.prototype.removeContentHeaderFields=function(){for(var res=this.res,headers=Object.keys(res._headers||{}),i=0;i<headers.length;i++){var header=headers[i];"content-"===header.substr(0,8)&&"content-location"!==header&&res.removeHeader(header)}},SendStream.prototype.notModified=function(){var res=this.res;debug("not modified"),this.removeContentHeaderFields(),res.statusCode=304,res.end()},SendStream.prototype.headersAlreadySent=function(){var err=new Error("Can't set headers after they are sent.");debug("headers already sent"),this.error(500,err)},SendStream.prototype.isCachable=function(){var res=this.res;return res.statusCode>=200&&res.statusCode<300||304==res.statusCode},SendStream.prototype.onStatError=function(error){switch(error.code){case"ENAMETOOLONG":case"ENOENT":case"ENOTDIR":this.error(404,error);break;default:this.error(500,error)}},SendStream.prototype.isFresh=function(){return fresh(this.req.headers,this.res._headers)},SendStream.prototype.isRangeFresh=function(){var ifRange=this.req.headers["if-range"];return ifRange?~ifRange.indexOf('"')?~ifRange.indexOf(this.res._headers.etag):Date.parse(this.res._headers["last-modified"])<=Date.parse(ifRange):!0},SendStream.prototype.redirect=function(path){if(0!==listenerCount(this,"directory"))return void this.emit("directory");if(this.hasTrailingSlash())return void this.error(403);var loc=path+"/",msg='Redirecting to <a href="'+escapeHtml(loc)+'">'+escapeHtml(loc)+"</a>\n",res=this.res;res.statusCode=301,res.setHeader("Content-Type","text/html; charset=UTF-8"),res.setHeader("Content-Length",Buffer.byteLength(msg)),res.setHeader("X-Content-Type-Options","nosniff"),res.setHeader("Location",loc),res.end(msg)},SendStream.prototype.pipe=function(res){var root=this._root;this.res=res;var path=decode(this.path);if(-1===path)return this.error(400);if(~path.indexOf("\x00"))return this.error(400);var parts;if(null!==root){if(upPathRegexp.test(normalize("."+sep+path)))return debug('malicious path "%s"',path),this.error(403);path=normalize(join(root,path)),
root=normalize(root+sep),parts=path.substr(root.length).split(sep)}else{if(upPathRegexp.test(path))return debug('malicious path "%s"',path),this.error(403);parts=normalize(path).split(sep),path=resolve(path)}if(containsDotFile(parts)){var access=this._dotfiles;switch(void 0===access&&(access="."===parts[parts.length-1][0]?this._hidden?"allow":"ignore":"allow"),debug('%s dotfile "%s"',access,path),access){case"allow":break;case"deny":return this.error(403);case"ignore":default:return this.error(404)}}return this._index.length&&"/"===this.path[this.path.length-1]?(this.sendIndex(path),res):(this.sendFile(path),res)},SendStream.prototype.send=function(path,stat){var len=stat.size,options=this.options,opts={},res=this.res,req=this.req,ranges=req.headers.range,offset=options.start||0;if(res._header)return this.headersAlreadySent();if(debug('pipe "%s"',path),this.setHeader(path,stat),this.type(path),this.isConditionalGET()&&this.isCachable()&&this.isFresh())return this.notModified();if(len=Math.max(0,len-offset),void 0!==options.end){var bytes=options.end-offset+1;len>bytes&&(len=bytes)}if(ranges){if(ranges=parseRange(len,ranges),this.isRangeFresh()||(debug("range stale"),ranges=-2),-1==ranges)return debug("range unsatisfiable"),res.setHeader("Content-Range","bytes */"+stat.size),this.error(416);-2!=ranges&&1===ranges.length&&(debug("range %j",ranges),res.statusCode=206,res.setHeader("Content-Range","bytes "+ranges[0].start+"-"+ranges[0].end+"/"+len),offset+=ranges[0].start,len=ranges[0].end-ranges[0].start+1)}for(var prop in options)opts[prop]=options[prop];return opts.start=offset,opts.end=Math.max(offset,offset+len-1),res.setHeader("Content-Length",len),"HEAD"==req.method?res.end():void this.stream(path,opts)},SendStream.prototype.sendFile=function(path){function next(err){if(self._extensions.length<=i)return err?self.onStatError(err):self.error(404);var p=path+"."+self._extensions[i++];debug('stat "%s"',p),fs.stat(p,function(err,stat){return err?next(err):stat.isDirectory()?next():(self.emit("file",p,stat),void self.send(p,stat))})}var i=0,self=this;debug('stat "%s"',path),fs.stat(path,function(err,stat){return err&&"ENOENT"===err.code&&!extname(path)&&path[path.length-1]!==sep?next(err):err?self.onStatError(err):stat.isDirectory()?self.redirect(self.path):(self.emit("file",path,stat),void self.send(path,stat))})},SendStream.prototype.sendIndex=function(path){function next(err){if(++i>=self._index.length)return err?self.onStatError(err):self.error(404);var p=join(path,self._index[i]);debug('stat "%s"',p),fs.stat(p,function(err,stat){return err?next(err):stat.isDirectory()?next():(self.emit("file",p,stat),void self.send(p,stat))})}var i=-1,self=this;next()},SendStream.prototype.stream=function(path,options){var finished=!1,self=this,res=this.res,stream=(this.req,fs.createReadStream(path,options));this.emit("stream",stream),stream.pipe(res),onFinished(res,function(){finished=!0,destroy(stream)}),stream.on("error",function(err){finished||(finished=!0,destroy(stream),self.onStatError(err))}),stream.on("end",function(){self.emit("end")})},SendStream.prototype.type=function(path){var res=this.res;if(!res.getHeader("Content-Type")){var type=mime.lookup(path),charset=mime.charsets.lookup(type);debug("content-type %s",type),res.setHeader("Content-Type",type+(charset?"; charset="+charset:""))}},SendStream.prototype.setHeader=function(path,stat){var res=this.res;if(this.emit("headers",res,path,stat),res.getHeader("Accept-Ranges")||res.setHeader("Accept-Ranges","bytes"),res.getHeader("Cache-Control")||res.setHeader("Cache-Control","public, max-age="+Math.floor(this._maxage/1e3)),this._lastModified&&!res.getHeader("Last-Modified")){var modified=stat.mtime.toUTCString();debug("modified %s",modified),res.setHeader("Last-Modified",modified)}if(this._etag&&!res.getHeader("ETag")){var val=etag(stat);debug("etag %s",val),res.setHeader("ETag",val)}}},{debug:150,depd:152,destroy:176,"escape-html":156,etag:157,events:void 0,fresh:160,fs:void 0,"http-errors":177,mime:179,ms:181,"on-finished":163,path:void 0,"range-parser":174,statuses:183,stream:void 0}],176:[function(require,module,exports){function destroyReadStream(stream){return stream.destroy(),"function"==typeof stream.close&&stream.on("open",onopenClose),stream}function onopenClose(){"number"==typeof this.fd&&this.close()}var ReadStream=require("fs").ReadStream,Stream=require("stream");module.exports=function(stream){return stream instanceof ReadStream?destroyReadStream(stream):stream instanceof Stream?("function"==typeof stream.destroy&&stream.destroy(),stream):stream}},{fs:void 0,stream:void 0}],177:[function(require,module,exports){arguments[4][50][0].apply(exports,arguments)},{dup:50,inherits:178,statuses:183}],178:[function(require,module,exports){arguments[4][51][0].apply(exports,arguments)},{dup:51,util:void 0}],179:[function(require,module,exports){function Mime(){this.types=Object.create(null),this.extensions=Object.create(null)}var fs=(require("path"),require("fs"));Mime.prototype.define=function(map){for(var type in map){for(var exts=map[type],i=0;i<exts.length;i++)process.env.DEBUG_MIME&&this.types[exts]&&console.warn(this._loading.replace(/.*\//,""),'changes "'+exts[i]+'" extension type from '+this.types[exts]+" to "+type),this.types[exts[i]]=type;this.extensions[type]||(this.extensions[type]=exts[0])}},Mime.prototype.load=function(file){this._loading=file;var map={},content=fs.readFileSync(file,"ascii"),lines=content.split(/[\r\n]+/);lines.forEach(function(line){var fields=line.replace(/\s*#.*|^\s*|\s*$/g,"").split(/\s+/);map[fields.shift()]=fields}),this.define(map),this._loading=null},Mime.prototype.lookup=function(path,fallback){var ext=path.replace(/.*[\.\/\\]/,"").toLowerCase();return this.types[ext]||fallback||this.default_type},Mime.prototype.extension=function(mimeType){var type=mimeType.match(/^\s*([^;\s]*)(?:;|\s|$)/)[1].toLowerCase();return this.extensions[type]};var mime=new Mime;mime.define(require("./types.json")),mime.default_type=mime.lookup("bin"),mime.Mime=Mime,mime.charsets={lookup:function(mimeType,fallback){return/^text\//.test(mimeType)?"UTF-8":fallback}},module.exports=mime},{"./types.json":180,fs:void 0,path:void 0}],180:[function(require,module,exports){module.exports={"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomsvc+xml":["atomsvc"],"application/ccxml+xml":["ccxml"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mdp"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["ecma"],"application/emma+xml":["emma"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/font-tdpfr":["pfr"],"application/font-woff":["woff"],"application/font-woff2":["woff2"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/java-archive":["jar"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/prs.cww":["cww"],"application/pskc+xml":["pskcxml"],"application/rdf+xml":["rdf"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/vnd.3gpp.pic-bw-large":["plb"],"application/vnd.3gpp.pic-bw-small":["psb"],"application/vnd.3gpp.pic-bw-var":["pvb"],"application/vnd.3gpp2.tcap":["tcap"],"application/vnd.3m.post-it-notes":["pwn"],"application/vnd.accpac.simply.aso":["aso"],"application/vnd.accpac.simply.imp":["imp"],"application/vnd.acucobol":["acu"],"application/vnd.acucorp":["atc","acutc"],"application/vnd.adobe.air-application-installer-package+zip":["air"],"application/vnd.adobe.formscentral.fcdt":["fcdt"],"application/vnd.adobe.fxp":["fxp","fxpl"],"application/vnd.adobe.xdp+xml":["xdp"],"application/vnd.adobe.xfdf":["xfdf"],"application/vnd.ahead.space":["ahead"],"application/vnd.airzip.filesecure.azf":["azf"],"application/vnd.airzip.filesecure.azs":["azs"],"application/vnd.amazon.ebook":["azw"],"application/vnd.americandynamics.acc":["acc"],"application/vnd.amiga.ami":["ami"],"application/vnd.android.package-archive":["apk"],"application/vnd.anser-web-certificate-issue-initiation":["cii"],"application/vnd.anser-web-funds-transfer-initiation":["fti"],"application/vnd.antix.game-component":["atx"],"application/vnd.apple.installer+xml":["mpkg"],"application/vnd.apple.mpegurl":["m3u8"],"application/vnd.aristanetworks.swi":["swi"],"application/vnd.astraea-software.iota":["iota"],"application/vnd.audiograph":["aep"],"application/vnd.blueice.multipass":["mpm"],"application/vnd.bmi":["bmi"],"application/vnd.businessobjects":["rep"],"application/vnd.chemdraw+xml":["cdxml"],"application/vnd.chipnuts.karaoke-mmd":["mmd"],"application/vnd.cinderella":["cdy"],"application/vnd.claymore":["cla"],"application/vnd.cloanto.rp9":["rp9"],"application/vnd.clonk.c4group":["c4g","c4d","c4f","c4p","c4u"],"application/vnd.cluetrust.cartomobile-config":["c11amc"],"application/vnd.cluetrust.cartomobile-config-pkg":["c11amz"],"application/vnd.commonspace":["csp"],"application/vnd.contact.cmsg":["cdbcmsg"],"application/vnd.cosmocaller":["cmc"],"application/vnd.crick.clicker":["clkx"],"application/vnd.crick.clicker.keyboard":["clkk"],"application/vnd.crick.clicker.palette":["clkp"],"application/vnd.crick.clicker.template":["clkt"],"application/vnd.crick.clicker.wordbank":["clkw"],"application/vnd.criticaltools.wbs+xml":["wbs"],"application/vnd.ctc-posml":["pml"],"application/vnd.cups-ppd":["ppd"],"application/vnd.curl.car":["car"],"application/vnd.curl.pcurl":["pcurl"],"application/vnd.dart":["dart"],"application/vnd.data-vision.rdz":["rdz"],"application/vnd.dece.data":["uvf","uvvf","uvd","uvvd"],"application/vnd.dece.ttml+xml":["uvt","uvvt"],"application/vnd.dece.unspecified":["uvx","uvvx"],"application/vnd.dece.zip":["uvz","uvvz"],"application/vnd.denovo.fcselayout-link":["fe_launch"],"application/vnd.dna":["dna"],"application/vnd.dolby.mlp":["mlp"],"application/vnd.dpgraph":["dpg"],"application/vnd.dreamfactory":["dfac"],"application/vnd.ds-keypoint":["kpxx"],"application/vnd.dvb.ait":["ait"],"application/vnd.dvb.service":["svc"],"application/vnd.dynageo":["geo"],"application/vnd.ecowin.chart":["mag"],"application/vnd.enliven":["nml"],"application/vnd.epson.esf":["esf"],"application/vnd.epson.msf":["msf"],"application/vnd.epson.quickanime":["qam"],"application/vnd.epson.salt":["slt"],"application/vnd.epson.ssf":["ssf"],"application/vnd.eszigno3+xml":["es3","et3"],"application/vnd.ezpix-album":["ez2"],"application/vnd.ezpix-package":["ez3"],"application/vnd.fdf":["fdf"],"application/vnd.fdsn.mseed":["mseed"],"application/vnd.fdsn.seed":["seed","dataless"],"application/vnd.flographit":["gph"],"application/vnd.fluxtime.clip":["ftc"],"application/vnd.framemaker":["fm","frame","maker","book"],"application/vnd.frogans.fnc":["fnc"],"application/vnd.frogans.ltf":["ltf"],"application/vnd.fsc.weblaunch":["fsc"],"application/vnd.fujitsu.oasys":["oas"],"application/vnd.fujitsu.oasys2":["oa2"],"application/vnd.fujitsu.oasys3":["oa3"],"application/vnd.fujitsu.oasysgp":["fg5"],"application/vnd.fujitsu.oasysprs":["bh2"],"application/vnd.fujixerox.ddd":["ddd"],"application/vnd.fujixerox.docuworks":["xdw"],"application/vnd.fujixerox.docuworks.binder":["xbd"],"application/vnd.fuzzysheet":["fzs"],"application/vnd.genomatix.tuxedo":["txd"],"application/vnd.geogebra.file":["ggb"],"application/vnd.geogebra.tool":["ggt"],"application/vnd.geometry-explorer":["gex","gre"],"application/vnd.geonext":["gxt"],"application/vnd.geoplan":["g2w"],"application/vnd.geospace":["g3w"],"application/vnd.gmx":["gmx"],"application/vnd.google-earth.kml+xml":["kml"],"application/vnd.google-earth.kmz":["kmz"],"application/vnd.grafeq":["gqf","gqs"],"application/vnd.groove-account":["gac"],"application/vnd.groove-help":["ghf"],"application/vnd.groove-identity-message":["gim"],"application/vnd.groove-injector":["grv"],"application/vnd.groove-tool-message":["gtm"],"application/vnd.groove-tool-template":["tpl"],"application/vnd.groove-vcard":["vcg"],"application/vnd.hal+xml":["hal"],"application/vnd.handheld-entertainment+xml":["zmm"],"application/vnd.hbci":["hbci"],"application/vnd.hhe.lesson-player":["les"],"application/vnd.hp-hpgl":["hpgl"],"application/vnd.hp-hpid":["hpid"],"application/vnd.hp-hps":["hps"],"application/vnd.hp-jlyt":["jlt"],"application/vnd.hp-pcl":["pcl"],"application/vnd.hp-pclxl":["pclxl"],"application/vnd.ibm.minipay":["mpy"],"application/vnd.ibm.modcap":["afp","listafp","list3820"],"application/vnd.ibm.rights-management":["irm"],"application/vnd.ibm.secure-container":["sc"],"application/vnd.iccprofile":["icc","icm"],"application/vnd.igloader":["igl"],"application/vnd.immervision-ivp":["ivp"],"application/vnd.immervision-ivu":["ivu"],"application/vnd.insors.igm":["igm"],"application/vnd.intercon.formnet":["xpw","xpx"],"application/vnd.intergeo":["i2g"],"application/vnd.intu.qbo":["qbo"],"application/vnd.intu.qfx":["qfx"],"application/vnd.ipunplugged.rcprofile":["rcprofile"],"application/vnd.irepository.package+xml":["irp"],"application/vnd.is-xpr":["xpr"],"application/vnd.isac.fcs":["fcs"],"application/vnd.jam":["jam"],"application/vnd.jcp.javame.midlet-rms":["rms"],"application/vnd.jisp":["jisp"],"application/vnd.joost.joda-archive":["joda"],"application/vnd.kahootz":["ktz","ktr"],"application/vnd.kde.karbon":["karbon"],"application/vnd.kde.kchart":["chrt"],"application/vnd.kde.kformula":["kfo"],"application/vnd.kde.kivio":["flw"],"application/vnd.kde.kontour":["kon"],"application/vnd.kde.kpresenter":["kpr","kpt"],"application/vnd.kde.kspread":["ksp"],"application/vnd.kde.kword":["kwd","kwt"],"application/vnd.kenameaapp":["htke"],"application/vnd.kidspiration":["kia"],"application/vnd.kinar":["kne","knp"],"application/vnd.koan":["skp","skd","skt","skm"],"application/vnd.kodak-descriptor":["sse"],"application/vnd.las.las+xml":["lasxml"],"application/vnd.llamagraphics.life-balance.desktop":["lbd"],"application/vnd.llamagraphics.life-balance.exchange+xml":["lbe"],"application/vnd.lotus-1-2-3":["123"],"application/vnd.lotus-approach":["apr"],"application/vnd.lotus-freelance":["pre"],"application/vnd.lotus-notes":["nsf"],"application/vnd.lotus-organizer":["org"],"application/vnd.lotus-screencam":["scm"],"application/vnd.lotus-wordpro":["lwp"],"application/vnd.macports.portpkg":["portpkg"],"application/vnd.mcd":["mcd"],"application/vnd.medcalcdata":["mc1"],"application/vnd.mediastation.cdkey":["cdkey"],"application/vnd.mfer":["mwf"],"application/vnd.mfmp":["mfm"],"application/vnd.micrografx.flo":["flo"],"application/vnd.micrografx.igx":["igx"],"application/vnd.mif":["mif"],"application/vnd.mobius.daf":["daf"],"application/vnd.mobius.dis":["dis"],"application/vnd.mobius.mbk":["mbk"],"application/vnd.mobius.mqy":["mqy"],"application/vnd.mobius.msl":["msl"],"application/vnd.mobius.plc":["plc"],"application/vnd.mobius.txf":["txf"],"application/vnd.mophun.application":["mpn"],"application/vnd.mophun.certificate":["mpc"],"application/vnd.mozilla.xul+xml":["xul"],"application/vnd.ms-artgalry":["cil"],"application/vnd.ms-cab-compressed":["cab"],"application/vnd.ms-excel":["xls","xlm","xla","xlc","xlt","xlw"],"application/vnd.ms-excel.addin.macroenabled.12":["xlam"],"application/vnd.ms-excel.sheet.binary.macroenabled.12":["xlsb"],"application/vnd.ms-excel.sheet.macroenabled.12":["xlsm"],"application/vnd.ms-excel.template.macroenabled.12":["xltm"],"application/vnd.ms-fontobject":["eot"],"application/vnd.ms-htmlhelp":["chm"],"application/vnd.ms-ims":["ims"],"application/vnd.ms-lrm":["lrm"],"application/vnd.ms-officetheme":["thmx"],"application/vnd.ms-pki.seccat":["cat"],"application/vnd.ms-pki.stl":["stl"],"application/vnd.ms-powerpoint":["ppt","pps","pot"],"application/vnd.ms-powerpoint.addin.macroenabled.12":["ppam"],"application/vnd.ms-powerpoint.presentation.macroenabled.12":["pptm"],"application/vnd.ms-powerpoint.slide.macroenabled.12":["sldm"],"application/vnd.ms-powerpoint.slideshow.macroenabled.12":["ppsm"],"application/vnd.ms-powerpoint.template.macroenabled.12":["potm"],"application/vnd.ms-project":["mpp","mpt"],"application/vnd.ms-word.document.macroenabled.12":["docm"],"application/vnd.ms-word.template.macroenabled.12":["dotm"],"application/vnd.ms-works":["wps","wks","wcm","wdb"],"application/vnd.ms-wpl":["wpl"],"application/vnd.ms-xpsdocument":["xps"],"application/vnd.mseq":["mseq"],"application/vnd.musician":["mus"],"application/vnd.muvee.style":["msty"],"application/vnd.mynfc":["taglet"],"application/vnd.neurolanguage.nlu":["nlu"],"application/vnd.nitf":["ntf","nitf"],"application/vnd.noblenet-directory":["nnd"],"application/vnd.noblenet-sealer":["nns"],"application/vnd.noblenet-web":["nnw"],"application/vnd.nokia.n-gage.data":["ngdat"],"application/vnd.nokia.radio-preset":["rpst"],"application/vnd.nokia.radio-presets":["rpss"],"application/vnd.novadigm.edm":["edm"],"application/vnd.novadigm.edx":["edx"],"application/vnd.novadigm.ext":["ext"],"application/vnd.oasis.opendocument.chart":["odc"],"application/vnd.oasis.opendocument.chart-template":["otc"],"application/vnd.oasis.opendocument.database":["odb"],"application/vnd.oasis.opendocument.formula":["odf"],"application/vnd.oasis.opendocument.formula-template":["odft"],"application/vnd.oasis.opendocument.graphics":["odg"],"application/vnd.oasis.opendocument.graphics-template":["otg"],"application/vnd.oasis.opendocument.image":["odi"],"application/vnd.oasis.opendocument.image-template":["oti"],"application/vnd.oasis.opendocument.presentation":["odp"],"application/vnd.oasis.opendocument.presentation-template":["otp"],"application/vnd.oasis.opendocument.spreadsheet":["ods"],"application/vnd.oasis.opendocument.spreadsheet-template":["ots"],"application/vnd.oasis.opendocument.text":["odt"],"application/vnd.oasis.opendocument.text-master":["odm"],"application/vnd.oasis.opendocument.text-template":["ott"],"application/vnd.oasis.opendocument.text-web":["oth"],"application/vnd.olpc-sugar":["xo"],"application/vnd.oma.dd2+xml":["dd2"],"application/vnd.openofficeorg.extension":["oxt"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":["pptx"],"application/vnd.openxmlformats-officedocument.presentationml.slide":["sldx"],"application/vnd.openxmlformats-officedocument.presentationml.slideshow":["ppsx"],"application/vnd.openxmlformats-officedocument.presentationml.template":["potx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":["xlsx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.template":["xltx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":["docx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.template":["dotx"],"application/vnd.osgeo.mapguide.package":["mgp"],"application/vnd.osgi.dp":["dp"],"application/vnd.osgi.subsystem":["esa"],"application/vnd.palm":["pdb","pqa","oprc"],"application/vnd.pawaafile":["paw"],"application/vnd.pg.format":["str"],"application/vnd.pg.osasli":["ei6"],"application/vnd.picsel":["efif"],"application/vnd.pmi.widget":["wg"],"application/vnd.pocketlearn":["plf"],"application/vnd.powerbuilder6":["pbd"],"application/vnd.previewsystems.box":["box"],"application/vnd.proteus.magazine":["mgz"],"application/vnd.publishare-delta-tree":["qps"],"application/vnd.pvi.ptid1":["ptid"],"application/vnd.quark.quarkxpress":["qxd","qxt","qwd","qwt","qxl","qxb"],"application/vnd.realvnc.bed":["bed"],"application/vnd.recordare.musicxml":["mxl"],"application/vnd.recordare.musicxml+xml":["musicxml"],"application/vnd.rig.cryptonote":["cryptonote"],"application/vnd.rim.cod":["cod"],"application/vnd.rn-realmedia":["rm"],"application/vnd.rn-realmedia-vbr":["rmvb"],"application/vnd.route66.link66+xml":["link66"],"application/vnd.sailingtracker.track":["st"],"application/vnd.seemail":["see"],"application/vnd.sema":["sema"],"application/vnd.semd":["semd"],"application/vnd.semf":["semf"],"application/vnd.shana.informed.formdata":["ifm"],"application/vnd.shana.informed.formtemplate":["itp"],"application/vnd.shana.informed.interchange":["iif"],"application/vnd.shana.informed.package":["ipk"],"application/vnd.simtech-mindmapper":["twd","twds"],"application/vnd.smaf":["mmf"],"application/vnd.smart.teacher":["teacher"],"application/vnd.solent.sdkm+xml":["sdkm","sdkd"],"application/vnd.spotfire.dxp":["dxp"],"application/vnd.spotfire.sfs":["sfs"],"application/vnd.stardivision.calc":["sdc"],"application/vnd.stardivision.draw":["sda"],"application/vnd.stardivision.impress":["sdd"],"application/vnd.stardivision.math":["smf"],"application/vnd.stardivision.writer":["sdw","vor"],"application/vnd.stardivision.writer-global":["sgl"],"application/vnd.stepmania.package":["smzip"],"application/vnd.stepmania.stepchart":["sm"],"application/vnd.sun.xml.calc":["sxc"],"application/vnd.sun.xml.calc.template":["stc"],"application/vnd.sun.xml.draw":["sxd"],"application/vnd.sun.xml.draw.template":["std"],"application/vnd.sun.xml.impress":["sxi"],"application/vnd.sun.xml.impress.template":["sti"],"application/vnd.sun.xml.math":["sxm"],"application/vnd.sun.xml.writer":["sxw"],"application/vnd.sun.xml.writer.global":["sxg"],"application/vnd.sun.xml.writer.template":["stw"],"application/vnd.sus-calendar":["sus","susp"],"application/vnd.svd":["svd"],"application/vnd.symbian.install":["sis","sisx"],"application/vnd.syncml+xml":["xsm"],"application/vnd.syncml.dm+wbxml":["bdm"],"application/vnd.syncml.dm+xml":["xdm"],"application/vnd.tao.intent-module-archive":["tao"],"application/vnd.tcpdump.pcap":["pcap","cap","dmp"],"application/vnd.tmobile-livetv":["tmo"],"application/vnd.trid.tpt":["tpt"],"application/vnd.triscape.mxs":["mxs"],"application/vnd.trueapp":["tra"],"application/vnd.ufdl":["ufd","ufdl"],"application/vnd.uiq.theme":["utz"],"application/vnd.umajin":["umj"],"application/vnd.unity":["unityweb"],"application/vnd.uoml+xml":["uoml"],"application/vnd.vcx":["vcx"],"application/vnd.visio":["vsd","vst","vss","vsw"],"application/vnd.visionary":["vis"],"application/vnd.vsf":["vsf"],"application/vnd.wap.wbxml":["wbxml"],"application/vnd.wap.wmlc":["wmlc"],"application/vnd.wap.wmlscriptc":["wmlsc"],"application/vnd.webturbo":["wtb"],"application/vnd.wolfram.player":["nbp"],"application/vnd.wordperfect":["wpd"],"application/vnd.wqd":["wqd"],"application/vnd.wt.stf":["stf"],"application/vnd.xara":["xar"],"application/vnd.xfdl":["xfdl"],"application/vnd.yamaha.hv-dic":["hvd"],"application/vnd.yamaha.hv-script":["hvs"],"application/vnd.yamaha.hv-voice":["hvp"],"application/vnd.yamaha.openscoreformat":["osf"],"application/vnd.yamaha.openscoreformat.osfpvg+xml":["osfpvg"],"application/vnd.yamaha.smaf-audio":["saf"],"application/vnd.yamaha.smaf-phrase":["spf"],"application/vnd.yellowriver-custom-menu":["cmp"],"application/vnd.zul":["zir","zirz"],"application/vnd.zzazz.deck+xml":["zaz"],"application/voicexml+xml":["vxml"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/x-7z-compressed":["7z"],"application/x-abiword":["abw"],"application/x-ace-compressed":["ace"],"application/x-apple-diskimage":["dmg"],"application/x-authorware-bin":["aab","x32","u32","vox"],"application/x-authorware-map":["aam"],"application/x-authorware-seg":["aas"],"application/x-bcpio":["bcpio"],"application/x-bittorrent":["torrent"],"application/x-blorb":["blb","blorb"],"application/x-bzip":["bz"],"application/x-bzip2":["bz2","boz"],"application/x-cbr":["cbr","cba","cbt","cbz","cb7"],"application/x-cdlink":["vcd"],"application/x-cfs-compressed":["cfs"],"application/x-chat":["chat"],"application/x-chess-pgn":["pgn"],"application/x-chrome-extension":["crx"],"application/x-conference":["nsc"],"application/x-cpio":["cpio"],"application/x-csh":["csh"],"application/x-debian-package":["deb","udeb"],"application/x-dgc-compressed":["dgc"],"application/x-director":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"],"application/x-doom":["wad"],"application/x-dtbncx+xml":["ncx"],"application/x-dtbook+xml":["dtb"],"application/x-dtbresource+xml":["res"],"application/x-dvi":["dvi"],"application/x-envoy":["evy"],"application/x-eva":["eva"],"application/x-font-bdf":["bdf"],"application/x-font-ghostscript":["gsf"],"application/x-font-linux-psf":["psf"],"application/x-font-otf":["otf"],"application/x-font-pcf":["pcf"],"application/x-font-snf":["snf"],"application/x-font-ttf":["ttf","ttc"],"application/x-font-type1":["pfa","pfb","pfm","afm"],"application/x-freearc":["arc"],"application/x-futuresplash":["spl"],"application/x-gca-compressed":["gca"],"application/x-glulx":["ulx"],"application/x-gnumeric":["gnumeric"],"application/x-gramps-xml":["gramps"],"application/x-gtar":["gtar"],"application/x-hdf":["hdf"],"application/x-install-instructions":["install"],"application/x-iso9660-image":["iso"],"application/x-java-jnlp-file":["jnlp"],"application/x-latex":["latex"],"application/x-lua-bytecode":["luac"],"application/x-lzh-compressed":["lzh","lha"],"application/x-mie":["mie"],"application/x-mobipocket-ebook":["prc","mobi"],"application/x-ms-application":["application"],"application/x-ms-shortcut":["lnk"],"application/x-ms-wmd":["wmd"],"application/x-ms-wmz":["wmz"],"application/x-ms-xbap":["xbap"],"application/x-msaccess":["mdb"],"application/x-msbinder":["obd"],"application/x-mscardfile":["crd"],"application/x-msclip":["clp"],"application/x-msdownload":["exe","dll","com","bat","msi"],"application/x-msmediaview":["mvb","m13","m14"],"application/x-msmetafile":["wmf","wmz","emf","emz"],"application/x-msmoney":["mny"],"application/x-mspublisher":["pub"],"application/x-msschedule":["scd"],"application/x-msterminal":["trm"],"application/x-mswrite":["wri"],"application/x-netcdf":["nc","cdf"],"application/x-nzb":["nzb"],"application/x-pkcs12":["p12","pfx"],"application/x-pkcs7-certificates":["p7b","spc"],"application/x-pkcs7-certreqresp":["p7r"],"application/x-rar-compressed":["rar"],"application/x-research-info-systems":["ris"],"application/x-sh":["sh"],"application/x-shar":["shar"],"application/x-shockwave-flash":["swf"],"application/x-silverlight-app":["xap"],"application/x-sql":["sql"],"application/x-stuffit":["sit"],"application/x-stuffitx":["sitx"],"application/x-subrip":["srt"],"application/x-sv4cpio":["sv4cpio"],"application/x-sv4crc":["sv4crc"],"application/x-t3vm-image":["t3"],"application/x-tads":["gam"],"application/x-tar":["tar"],"application/x-tcl":["tcl"],"application/x-tex":["tex"],"application/x-tex-tfm":["tfm"],"application/x-texinfo":["texinfo","texi"],"application/x-tgif":["obj"],"application/x-ustar":["ustar"],"application/x-wais-source":["src"],"application/x-web-app-manifest+json":["webapp"],"application/x-x509-ca-cert":["der","crt"],"application/x-xfig":["fig"],"application/x-xliff+xml":["xlf"],"application/x-xpinstall":["xpi"],"application/x-xz":["xz"],"application/x-zmachine":["z1","z2","z3","z4","z5","z6","z7","z8"],"application/xaml+xml":["xaml"],"application/xcap-diff+xml":["xdf"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xml":["xml","xsl","xsd"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/adpcm":["adp"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mp4":["mp4a","m4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/vnd.dece.audio":["uva","uvva"],"audio/vnd.digital-winds":["eol"],"audio/vnd.dra":["dra"],"audio/vnd.dts":["dts"],"audio/vnd.dts.hd":["dtshd"],"audio/vnd.lucent.voice":["lvp"],"audio/vnd.ms-playready.media.pya":["pya"],"audio/vnd.nuera.ecelp4800":["ecelp4800"],"audio/vnd.nuera.ecelp7470":["ecelp7470"],"audio/vnd.nuera.ecelp9600":["ecelp9600"],"audio/vnd.rip":["rip"],"audio/webm":["weba"],"audio/x-aac":["aac"],"audio/x-aiff":["aif","aiff","aifc"],"audio/x-caf":["caf"],"audio/x-flac":["flac"],"audio/x-matroska":["mka"],"audio/x-mpegurl":["m3u"],"audio/x-ms-wax":["wax"],"audio/x-ms-wma":["wma"],"audio/x-pn-realaudio":["ram","ra"],"audio/x-pn-realaudio-plugin":["rmp"],"audio/x-wav":["wav"],"audio/xm":["xm"],"chemical/x-cdx":["cdx"],"chemical/x-cif":["cif"],"chemical/x-cmdf":["cmdf"],"chemical/x-cml":["cml"],"chemical/x-csml":["csml"],"chemical/x-xyz":["xyz"],"font/opentype":["otf"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/g3fax":["g3"],"image/gif":["gif"],"image/ief":["ief"],"image/jpeg":["jpeg","jpg","jpe"],"image/ktx":["ktx"],"image/png":["png"],"image/prs.btif":["btif"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/tiff":["tiff","tif"],"image/vnd.adobe.photoshop":["psd"],"image/vnd.dece.graphic":["uvi","uvvi","uvg","uvvg"],"image/vnd.djvu":["djvu","djv"],"image/vnd.dvb.subtitle":["sub"],"image/vnd.dwg":["dwg"],
"image/vnd.dxf":["dxf"],"image/vnd.fastbidsheet":["fbs"],"image/vnd.fpx":["fpx"],"image/vnd.fst":["fst"],"image/vnd.fujixerox.edmics-mmr":["mmr"],"image/vnd.fujixerox.edmics-rlc":["rlc"],"image/vnd.ms-modi":["mdi"],"image/vnd.ms-photo":["wdp"],"image/vnd.net-fpx":["npx"],"image/vnd.wap.wbmp":["wbmp"],"image/vnd.xiff":["xif"],"image/webp":["webp"],"image/x-3ds":["3ds"],"image/x-cmu-raster":["ras"],"image/x-cmx":["cmx"],"image/x-freehand":["fh","fhc","fh4","fh5","fh7"],"image/x-icon":["ico"],"image/x-mrsid-image":["sid"],"image/x-pcx":["pcx"],"image/x-pict":["pic","pct"],"image/x-portable-anymap":["pnm"],"image/x-portable-bitmap":["pbm"],"image/x-portable-graymap":["pgm"],"image/x-portable-pixmap":["ppm"],"image/x-rgb":["rgb"],"image/x-tga":["tga"],"image/x-xbitmap":["xbm"],"image/x-xpixmap":["xpm"],"image/x-xwindowdump":["xwd"],"message/rfc822":["eml","mime"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/vnd.collada+xml":["dae"],"model/vnd.dwf":["dwf"],"model/vnd.gdl":["gdl"],"model/vnd.gtw":["gtw"],"model/vnd.mts":["mts"],"model/vnd.vtu":["vtu"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["x3db","x3dbz"],"model/x3d+vrml":["x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee"],"text/css":["css"],"text/csv":["csv"],"text/hjson":["hjson"],"text/html":["html","htm"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/prs.lines.tag":["dsc"],"text/richtext":["rtx"],"text/sgml":["sgml","sgm"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vnd.curl":["curl"],"text/vnd.curl.dcurl":["dcurl"],"text/vnd.curl.mcurl":["mcurl"],"text/vnd.curl.scurl":["scurl"],"text/vnd.dvb.subtitle":["sub"],"text/vnd.fly":["fly"],"text/vnd.fmi.flexstor":["flx"],"text/vnd.graphviz":["gv"],"text/vnd.in3d.3dml":["3dml"],"text/vnd.in3d.spot":["spot"],"text/vnd.sun.j2me.app-descriptor":["jad"],"text/vnd.wap.wml":["wml"],"text/vnd.wap.wmlscript":["wmls"],"text/vtt":["vtt"],"text/x-asm":["s","asm"],"text/x-c":["c","cc","cxx","cpp","h","hh","dic"],"text/x-component":["htc"],"text/x-fortran":["f","for","f77","f90"],"text/x-handlebars-template":["hbs"],"text/x-java-source":["java"],"text/x-lua":["lua"],"text/x-markdown":["markdown","md","mkd"],"text/x-nfo":["nfo"],"text/x-opml":["opml"],"text/x-pascal":["p","pas"],"text/x-sass":["sass"],"text/x-scss":["scss"],"text/x-setext":["etx"],"text/x-sfv":["sfv"],"text/x-uuencode":["uu"],"text/x-vcalendar":["vcs"],"text/x-vcard":["vcf"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/jpeg":["jpgv"],"video/jpm":["jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/vnd.dece.hd":["uvh","uvvh"],"video/vnd.dece.mobile":["uvm","uvvm"],"video/vnd.dece.pd":["uvp","uvvp"],"video/vnd.dece.sd":["uvs","uvvs"],"video/vnd.dece.video":["uvv","uvvv"],"video/vnd.dvb.file":["dvb"],"video/vnd.fvt":["fvt"],"video/vnd.mpegurl":["mxu","m4u"],"video/vnd.ms-playready.media.pyv":["pyv"],"video/vnd.uvvu.mp4":["uvu","uvvu"],"video/vnd.vivo":["viv"],"video/webm":["webm"],"video/x-f4v":["f4v"],"video/x-fli":["fli"],"video/x-flv":["flv"],"video/x-m4v":["m4v"],"video/x-matroska":["mkv","mk3d","mks"],"video/x-mng":["mng"],"video/x-ms-asf":["asf","asx"],"video/x-ms-vob":["vob"],"video/x-ms-wm":["wm"],"video/x-ms-wmv":["wmv"],"video/x-ms-wmx":["wmx"],"video/x-ms-wvx":["wvx"],"video/x-msvideo":["avi"],"video/x-sgi-movie":["movie"],"video/x-smv":["smv"],"x-conference/x-cooltalk":["ice"]}},{}],181:[function(require,module,exports){arguments[4][44][0].apply(exports,arguments)},{dup:44}],182:[function(require,module,exports){arguments[4][52][0].apply(exports,arguments)},{dup:52}],183:[function(require,module,exports){arguments[4][53][0].apply(exports,arguments)},{"./codes.json":182,dup:53}],184:[function(require,module,exports){"use strict";function serveStatic(root,options){if(!root)throw new TypeError("root path required");if("string"!=typeof root)throw new TypeError("root path must be a string");var opts=Object.create(options||null),fallthrough=opts.fallthrough!==!1,redirect=opts.redirect!==!1,setHeaders=opts.setHeaders;if(setHeaders&&"function"!=typeof setHeaders)throw new TypeError("option setHeaders must be function");opts.maxage=opts.maxage||opts.maxAge||0,opts.root=resolve(root);var onDirectory=redirect?createRedirectDirectoryListener():createNotFoundDirectoryListener();return function(req,res,next){if("GET"!==req.method&&"HEAD"!==req.method)return fallthrough?next():(res.statusCode=405,res.setHeader("Allow","GET, HEAD"),res.setHeader("Content-Length","0"),void res.end());var forwardError=!fallthrough,originalUrl=parseUrl.original(req),path=parseUrl(req).pathname;"/"===path&&"/"!==originalUrl.pathname.substr(-1)&&(path="");var stream=send(req,path,opts);stream.on("directory",onDirectory),setHeaders&&stream.on("headers",setHeaders),fallthrough&&stream.on("file",function(){forwardError=!0}),stream.on("error",function(err){return!forwardError&&err.statusCode<500?void next():void next(err)}),stream.pipe(res)}}function collapseLeadingSlashes(str){for(var i=0;i<str.length&&"/"===str[i];i++);return i>1?"/"+str.substr(i):str}function createNotFoundDirectoryListener(){return function(){this.error(404)}}function createRedirectDirectoryListener(){return function(){if(this.hasTrailingSlash())return void this.error(404);var originalUrl=parseUrl.original(this.req);originalUrl.path=null,originalUrl.pathname=collapseLeadingSlashes(originalUrl.pathname+"/");var loc=url.format(originalUrl),msg='Redirecting to <a href="'+escapeHtml(loc)+'">'+escapeHtml(loc)+"</a>\n",res=this.res;res.statusCode=303,res.setHeader("Content-Type","text/html; charset=UTF-8"),res.setHeader("Content-Length",Buffer.byteLength(msg)),res.setHeader("X-Content-Type-Options","nosniff"),res.setHeader("Location",loc),res.end(msg)}}var escapeHtml=require("escape-html"),parseUrl=require("parseurl"),resolve=require("path").resolve,send=require("send"),url=require("url");module.exports=serveStatic,module.exports.mime=send.mime},{"escape-html":185,parseurl:165,path:void 0,send:186,url:void 0}],185:[function(require,module,exports){"use strict";function escapeHtml(string){var str=""+string,match=matchHtmlRegExp.exec(str);if(!match)return str;var escape,html="",index=0,lastIndex=0;for(index=match.index;index<str.length;index++){switch(str.charCodeAt(index)){case 34:escape="&quot;";break;case 38:escape="&amp;";break;case 39:escape="&#39;";break;case 60:escape="&lt;";break;case 62:escape="&gt;";break;default:continue}lastIndex!==index&&(html+=str.substring(lastIndex,index)),lastIndex=index+1,html+=escape}return lastIndex!==index?html+str.substring(lastIndex,index):html}var matchHtmlRegExp=/["'&<>]/;module.exports=escapeHtml},{}],186:[function(require,module,exports){arguments[4][175][0].apply(exports,arguments)},{debug:150,depd:187,destroy:192,dup:175,"escape-html":185,etag:157,events:void 0,fresh:160,fs:void 0,"http-errors":193,mime:195,ms:197,"on-finished":163,path:void 0,"range-parser":174,statuses:199,stream:void 0}],187:[function(require,module,exports){arguments[4][45][0].apply(exports,arguments)},{"./lib/compat":191,dup:45,path:void 0}],188:[function(require,module,exports){arguments[4][46][0].apply(exports,arguments)},{dup:46}],189:[function(require,module,exports){arguments[4][47][0].apply(exports,arguments)},{dup:47}],190:[function(require,module,exports){arguments[4][48][0].apply(exports,arguments)},{dup:48}],191:[function(require,module,exports){arguments[4][49][0].apply(exports,arguments)},{"./buffer-concat":188,"./callsite-tostring":189,"./event-listener-count":190,buffer:void 0,dup:49,events:void 0}],192:[function(require,module,exports){"use strict";function destroy(stream){return stream instanceof ReadStream?destroyReadStream(stream):stream instanceof Stream?("function"==typeof stream.destroy&&stream.destroy(),stream):stream}function destroyReadStream(stream){return stream.destroy(),"function"==typeof stream.close&&stream.on("open",onOpenClose),stream}function onOpenClose(){"number"==typeof this.fd&&this.close()}var ReadStream=require("fs").ReadStream,Stream=require("stream");module.exports=destroy},{fs:void 0,stream:void 0}],193:[function(require,module,exports){arguments[4][50][0].apply(exports,arguments)},{dup:50,inherits:194,statuses:199}],194:[function(require,module,exports){arguments[4][51][0].apply(exports,arguments)},{dup:51,util:void 0}],195:[function(require,module,exports){arguments[4][179][0].apply(exports,arguments)},{"./types.json":196,dup:179,fs:void 0,path:void 0}],196:[function(require,module,exports){arguments[4][180][0].apply(exports,arguments)},{dup:180}],197:[function(require,module,exports){arguments[4][44][0].apply(exports,arguments)},{dup:44}],198:[function(require,module,exports){arguments[4][52][0].apply(exports,arguments)},{dup:52}],199:[function(require,module,exports){arguments[4][53][0].apply(exports,arguments)},{"./codes.json":198,dup:53}],200:[function(require,module,exports){arguments[4][105][0].apply(exports,arguments)},{dup:105,"media-typer":201,"mime-types":202}],201:[function(require,module,exports){arguments[4][106][0].apply(exports,arguments)},{dup:106}],202:[function(require,module,exports){arguments[4][107][0].apply(exports,arguments)},{dup:107,"mime-db":204,path:void 0}],203:[function(require,module,exports){arguments[4][108][0].apply(exports,arguments)},{dup:108}],204:[function(require,module,exports){arguments[4][109][0].apply(exports,arguments)},{"./db.json":203,dup:109}],205:[function(require,module,exports){exports=module.exports=function(a,b){if(a&&b)for(var key in b)a[key]=b[key];return a}},{}],206:[function(require,module,exports){"use strict";function append(header,field){if("string"!=typeof header)throw new TypeError("header argument is required");if(!field)throw new TypeError("field argument is required");for(var fields=Array.isArray(field)?field:parse(String(field)),i=0;i<fields.length;i++)if(separators.test(fields[i]))throw new TypeError("field argument contains an invalid header");if("*"===header)return header;var val=header,vals=parse(header.toLowerCase());if(-1!==fields.indexOf("*")||-1!==vals.indexOf("*"))return"*";for(var i=0;i<fields.length;i++){var fld=fields[i].toLowerCase();-1===vals.indexOf(fld)&&(vals.push(fld),val=val?val+", "+fields[i]:fields[i])}return val}function parse(header){return header.trim().split(/ *, */)}function vary(res,field){if(!res||!res.getHeader||!res.setHeader)throw new TypeError("res argument is required");var val=res.getHeader("Vary")||"",header=Array.isArray(val)?val.join(", "):String(val);(val=append(header,field))&&res.setHeader("Vary",val)}module.exports=vary,module.exports.append=append;var separators=/[\(\)<>@,;:\\"\/\[\]\?=\{\}\u0020\u0009]/},{}],207:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function create(){var hb=_create();return hb.compile=function(input,options){return _handlebarsCompilerCompiler.compile(input,options,hb)},hb.precompile=function(input,options){return _handlebarsCompilerCompiler.precompile(input,options,hb)},hb.AST=_handlebarsCompilerAst2["default"],hb.Compiler=_handlebarsCompilerCompiler.Compiler,hb.JavaScriptCompiler=_handlebarsCompilerJavascriptCompiler2["default"],hb.Parser=_handlebarsCompilerBase.parser,hb.parse=_handlebarsCompilerBase.parse,hb}exports.__esModule=!0;var _handlebarsRuntime=require("./handlebars.runtime"),_handlebarsRuntime2=_interopRequireDefault(_handlebarsRuntime),_handlebarsCompilerAst=require("./handlebars/compiler/ast"),_handlebarsCompilerAst2=_interopRequireDefault(_handlebarsCompilerAst),_handlebarsCompilerBase=require("./handlebars/compiler/base"),_handlebarsCompilerCompiler=require("./handlebars/compiler/compiler"),_handlebarsCompilerJavascriptCompiler=require("./handlebars/compiler/javascript-compiler"),_handlebarsCompilerJavascriptCompiler2=_interopRequireDefault(_handlebarsCompilerJavascriptCompiler),_handlebarsCompilerVisitor=require("./handlebars/compiler/visitor"),_handlebarsCompilerVisitor2=_interopRequireDefault(_handlebarsCompilerVisitor),_handlebarsNoConflict=require("./handlebars/no-conflict"),_handlebarsNoConflict2=_interopRequireDefault(_handlebarsNoConflict),_create=_handlebarsRuntime2["default"].create,inst=create();inst.create=create,_handlebarsNoConflict2["default"](inst),inst.Visitor=_handlebarsCompilerVisitor2["default"],inst["default"]=inst,exports["default"]=inst,module.exports=exports["default"]},{"./handlebars.runtime":208,"./handlebars/compiler/ast":210,"./handlebars/compiler/base":211,"./handlebars/compiler/compiler":213,"./handlebars/compiler/javascript-compiler":215,"./handlebars/compiler/visitor":218,"./handlebars/no-conflict":232}],208:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj["default"]=obj,newObj}function create(){var hb=new base.HandlebarsEnvironment;return Utils.extend(hb,base),hb.SafeString=_handlebarsSafeString2["default"],hb.Exception=_handlebarsException2["default"],hb.Utils=Utils,hb.escapeExpression=Utils.escapeExpression,hb.VM=runtime,hb.template=function(spec){return runtime.template(spec,hb)},hb}exports.__esModule=!0;var _handlebarsBase=require("./handlebars/base"),base=_interopRequireWildcard(_handlebarsBase),_handlebarsSafeString=require("./handlebars/safe-string"),_handlebarsSafeString2=_interopRequireDefault(_handlebarsSafeString),_handlebarsException=require("./handlebars/exception"),_handlebarsException2=_interopRequireDefault(_handlebarsException),_handlebarsUtils=require("./handlebars/utils"),Utils=_interopRequireWildcard(_handlebarsUtils),_handlebarsRuntime=require("./handlebars/runtime"),runtime=_interopRequireWildcard(_handlebarsRuntime),_handlebarsNoConflict=require("./handlebars/no-conflict"),_handlebarsNoConflict2=_interopRequireDefault(_handlebarsNoConflict),inst=create();inst.create=create,_handlebarsNoConflict2["default"](inst),inst["default"]=inst,exports["default"]=inst,module.exports=exports["default"]},{"./handlebars/base":209,"./handlebars/exception":222,"./handlebars/no-conflict":232,"./handlebars/runtime":233,"./handlebars/safe-string":234,"./handlebars/utils":235}],209:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function HandlebarsEnvironment(helpers,partials,decorators){this.helpers=helpers||{},this.partials=partials||{},this.decorators=decorators||{},_helpers.registerDefaultHelpers(this),_decorators.registerDefaultDecorators(this)}exports.__esModule=!0,exports.HandlebarsEnvironment=HandlebarsEnvironment;var _utils=require("./utils"),_exception=require("./exception"),_exception2=_interopRequireDefault(_exception),_helpers=require("./helpers"),_decorators=require("./decorators"),_logger=require("./logger"),_logger2=_interopRequireDefault(_logger),VERSION="4.0.3";exports.VERSION=VERSION;var COMPILER_REVISION=7;exports.COMPILER_REVISION=COMPILER_REVISION;var REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};exports.REVISION_CHANGES=REVISION_CHANGES;var objectType="[object Object]";HandlebarsEnvironment.prototype={constructor:HandlebarsEnvironment,logger:_logger2["default"],log:_logger2["default"].log,registerHelper:function(name,fn){if(_utils.toString.call(name)===objectType){if(fn)throw new _exception2["default"]("Arg not supported with multiple helpers");_utils.extend(this.helpers,name)}else this.helpers[name]=fn},unregisterHelper:function(name){delete this.helpers[name]},registerPartial:function(name,partial){if(_utils.toString.call(name)===objectType)_utils.extend(this.partials,name);else{if("undefined"==typeof partial)throw new _exception2["default"]("Attempting to register a partial as undefined");this.partials[name]=partial}},unregisterPartial:function(name){delete this.partials[name]},registerDecorator:function(name,fn){if(_utils.toString.call(name)===objectType){if(fn)throw new _exception2["default"]("Arg not supported with multiple decorators");_utils.extend(this.decorators,name)}else this.decorators[name]=fn},unregisterDecorator:function(name){delete this.decorators[name]}};var log=_logger2["default"].log;exports.log=log,exports.createFrame=_utils.createFrame,exports.logger=_logger2["default"]},{"./decorators":220,"./exception":222,"./helpers":223,"./logger":231,"./utils":235}],210:[function(require,module,exports){"use strict";exports.__esModule=!0;var AST={helpers:{helperExpression:function(node){return"SubExpression"===node.type||("MustacheStatement"===node.type||"BlockStatement"===node.type)&&!!(node.params&&node.params.length||node.hash)},scopedId:function(path){return/^\.|this\b/.test(path.original)},simpleId:function(path){return 1===path.parts.length&&!AST.helpers.scopedId(path)&&!path.depth}}};exports["default"]=AST,module.exports=exports["default"]},{}],211:[function(require,module,exports){"use strict";function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj["default"]=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function parse(input,options){if("Program"===input.type)return input;_parser2["default"].yy=yy,yy.locInfo=function(locInfo){return new yy.SourceLocation(options&&options.srcName,locInfo)};var strip=new _whitespaceControl2["default"](options);return strip.accept(_parser2["default"].parse(input))}exports.__esModule=!0,exports.parse=parse;var _parser=require("./parser"),_parser2=_interopRequireDefault(_parser),_whitespaceControl=require("./whitespace-control"),_whitespaceControl2=_interopRequireDefault(_whitespaceControl),_helpers=require("./helpers"),Helpers=_interopRequireWildcard(_helpers),_utils=require("../utils");exports.parser=_parser2["default"];var yy={};_utils.extend(yy,Helpers)},{"../utils":235,"./helpers":214,"./parser":216,"./whitespace-control":219}],212:[function(require,module,exports){"use strict";function castChunk(chunk,codeGen,loc){if(_utils.isArray(chunk)){for(var ret=[],i=0,len=chunk.length;len>i;i++)ret.push(codeGen.wrap(chunk[i],loc));return ret}return"boolean"==typeof chunk||"number"==typeof chunk?chunk+"":chunk}function CodeGen(srcFile){this.srcFile=srcFile,this.source=[]}exports.__esModule=!0;var _utils=require("../utils"),SourceNode=void 0;try{if("function"!=typeof define||!define.amd){var SourceMap=require("source-map");SourceNode=SourceMap.SourceNode}}catch(err){}SourceNode||(SourceNode=function(line,column,srcFile,chunks){this.src="",chunks&&this.add(chunks)},SourceNode.prototype={add:function(chunks){_utils.isArray(chunks)&&(chunks=chunks.join("")),this.src+=chunks},prepend:function(chunks){_utils.isArray(chunks)&&(chunks=chunks.join("")),this.src=chunks+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}}),CodeGen.prototype={isEmpty:function(){return!this.source.length},prepend:function(source,loc){this.source.unshift(this.wrap(source,loc))},push:function(source,loc){this.source.push(this.wrap(source,loc))},merge:function(){var source=this.empty();return this.each(function(line){source.add(["  ",line,"\n"])}),source},each:function(iter){for(var i=0,len=this.source.length;len>i;i++)iter(this.source[i])},empty:function(){var loc=this.currentLocation||{start:{}};return new SourceNode(loc.start.line,loc.start.column,this.srcFile)},wrap:function(chunk){var loc=arguments.length<=1||void 0===arguments[1]?this.currentLocation||{start:{}}:arguments[1];return chunk instanceof SourceNode?chunk:(chunk=castChunk(chunk,this,loc),new SourceNode(loc.start.line,loc.start.column,this.srcFile,chunk))},functionCall:function(fn,type,params){return params=this.generateList(params),this.wrap([fn,type?"."+type+"(":"(",params,")"])},quotedString:function(str){return'"'+(str+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(obj){var pairs=[];for(var key in obj)if(obj.hasOwnProperty(key)){var value=castChunk(obj[key],this);"undefined"!==value&&pairs.push([this.quotedString(key),":",value])}var ret=this.generateList(pairs);return ret.prepend("{"),ret.add("}"),ret},generateList:function(entries){for(var ret=this.empty(),i=0,len=entries.length;len>i;i++)i&&ret.add(","),ret.add(castChunk(entries[i],this));return ret},generateArray:function(entries){var ret=this.generateList(entries);return ret.prepend("["),ret.add("]"),ret}},exports["default"]=CodeGen,module.exports=exports["default"]},{"../utils":235,"source-map":237}],213:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function Compiler(){}function precompile(input,options,env){if(null==input||"string"!=typeof input&&"Program"!==input.type)throw new _exception2["default"]("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+input);options=options||{},"data"in options||(options.data=!0),options.compat&&(options.useDepths=!0);var ast=env.parse(input,options),environment=(new env.Compiler).compile(ast,options);return(new env.JavaScriptCompiler).compile(environment,options)}function compile(input,options,env){function compileInput(){var ast=env.parse(input,options),environment=(new env.Compiler).compile(ast,options),templateSpec=(new env.JavaScriptCompiler).compile(environment,options,void 0,!0);return env.template(templateSpec)}function ret(context,execOptions){return compiled||(compiled=compileInput()),compiled.call(this,context,execOptions)}if(void 0===options&&(options={}),null==input||"string"!=typeof input&&"Program"!==input.type)throw new _exception2["default"]("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+input);"data"in options||(options.data=!0),options.compat&&(options.useDepths=!0);var compiled=void 0;return ret._setup=function(setupOptions){return compiled||(compiled=compileInput()),compiled._setup(setupOptions)},ret._child=function(i,data,blockParams,depths){return compiled||(compiled=compileInput()),compiled._child(i,data,blockParams,depths)},ret}function argEquals(a,b){if(a===b)return!0;if(_utils.isArray(a)&&_utils.isArray(b)&&a.length===b.length){for(var i=0;i<a.length;i++)if(!argEquals(a[i],b[i]))return!1;return!0}}function transformLiteralToPath(sexpr){if(!sexpr.path.parts){var literal=sexpr.path;sexpr.path={type:"PathExpression",data:!1,depth:0,parts:[literal.original+""],original:literal.original+"",loc:literal.loc}}}exports.__esModule=!0,exports.Compiler=Compiler,exports.precompile=precompile,exports.compile=compile;var _exception=require("../exception"),_exception2=_interopRequireDefault(_exception),_utils=require("../utils"),_ast=require("./ast"),_ast2=_interopRequireDefault(_ast),slice=[].slice;Compiler.prototype={compiler:Compiler,equals:function(other){var len=this.opcodes.length;if(other.opcodes.length!==len)return!1;for(var i=0;len>i;i++){var opcode=this.opcodes[i],otherOpcode=other.opcodes[i];if(opcode.opcode!==otherOpcode.opcode||!argEquals(opcode.args,otherOpcode.args))return!1}len=this.children.length;for(var i=0;len>i;i++)if(!this.children[i].equals(other.children[i]))return!1;return!0},guid:0,compile:function(program,options){this.sourceNode=[],this.opcodes=[],this.children=[],this.options=options,this.stringParams=options.stringParams,this.trackIds=options.trackIds,options.blockParams=options.blockParams||[];var knownHelpers=options.knownHelpers;if(options.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0,lookup:!0},knownHelpers)for(var _name in knownHelpers)_name in knownHelpers&&(options.knownHelpers[_name]=knownHelpers[_name]);return this.accept(program)},compileProgram:function(program){var childCompiler=new this.compiler,result=childCompiler.compile(program,this.options),guid=this.guid++;return this.usePartial=this.usePartial||result.usePartial,this.children[guid]=result,this.useDepths=this.useDepths||result.useDepths,guid},accept:function(node){if(!this[node.type])throw new _exception2["default"]("Unknown type: "+node.type,node);this.sourceNode.unshift(node);var ret=this[node.type](node);return this.sourceNode.shift(),ret},Program:function(program){this.options.blockParams.unshift(program.blockParams);for(var body=program.body,bodyLength=body.length,i=0;bodyLength>i;i++)this.accept(body[i]);return this.options.blockParams.shift(),this.isSimple=1===bodyLength,this.blockParams=program.blockParams?program.blockParams.length:0,this},BlockStatement:function(block){transformLiteralToPath(block);var program=block.program,inverse=block.inverse;program=program&&this.compileProgram(program),inverse=inverse&&this.compileProgram(inverse);var type=this.classifySexpr(block);"helper"===type?this.helperSexpr(block,program,inverse):"simple"===type?(this.simpleSexpr(block),this.opcode("pushProgram",program),this.opcode("pushProgram",inverse),this.opcode("emptyHash"),this.opcode("blockValue",block.path.original)):(this.ambiguousSexpr(block,program,inverse),this.opcode("pushProgram",program),this.opcode("pushProgram",inverse),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},DecoratorBlock:function(decorator){var program=decorator.program&&this.compileProgram(decorator.program),params=this.setupFullMustacheParams(decorator,program,void 0),path=decorator.path;this.useDecorators=!0,this.opcode("registerDecorator",params.length,path.original)},PartialStatement:function(partial){this.usePartial=!0;var program=partial.program;program&&(program=this.compileProgram(partial.program));var params=partial.params;if(params.length>1)throw new _exception2["default"]("Unsupported number of partial arguments: "+params.length,partial);params.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):params.push({type:"PathExpression",parts:[],depth:0}));var partialName=partial.name.original,isDynamic="SubExpression"===partial.name.type;isDynamic&&this.accept(partial.name),this.setupFullMustacheParams(partial,program,void 0,!0);var indent=partial.indent||"";this.options.preventIndent&&indent&&(this.opcode("appendContent",indent),indent=""),this.opcode("invokePartial",isDynamic,partialName,indent),this.opcode("append")},PartialBlockStatement:function(partialBlock){this.PartialStatement(partialBlock)},MustacheStatement:function(mustache){this.SubExpression(mustache),mustache.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function(decorator){this.DecoratorBlock(decorator)},ContentStatement:function(content){content.value&&this.opcode("appendContent",content.value)},CommentStatement:function(){},SubExpression:function(sexpr){transformLiteralToPath(sexpr);var type=this.classifySexpr(sexpr);"simple"===type?this.simpleSexpr(sexpr):"helper"===type?this.helperSexpr(sexpr):this.ambiguousSexpr(sexpr)},ambiguousSexpr:function(sexpr,program,inverse){var path=sexpr.path,name=path.parts[0],isBlock=null!=program||null!=inverse;this.opcode("getContext",path.depth),this.opcode("pushProgram",program),this.opcode("pushProgram",inverse),path.strict=!0,this.accept(path),this.opcode("invokeAmbiguous",name,isBlock)},simpleSexpr:function(sexpr){var path=sexpr.path;path.strict=!0,this.accept(path),this.opcode("resolvePossibleLambda")},helperSexpr:function(sexpr,program,inverse){var params=this.setupFullMustacheParams(sexpr,program,inverse),path=sexpr.path,name=path.parts[0];if(this.options.knownHelpers[name])this.opcode("invokeKnownHelper",params.length,name);else{if(this.options.knownHelpersOnly)throw new _exception2["default"]("You specified knownHelpersOnly, but used the unknown helper "+name,sexpr);path.strict=!0,path.falsy=!0,this.accept(path),this.opcode("invokeHelper",params.length,path.original,_ast2["default"].helpers.simpleId(path))}},PathExpression:function(path){this.addDepth(path.depth),this.opcode("getContext",path.depth);var name=path.parts[0],scoped=_ast2["default"].helpers.scopedId(path),blockParamId=!path.depth&&!scoped&&this.blockParamIndex(name);blockParamId?this.opcode("lookupBlockParam",blockParamId,path.parts):name?path.data?(this.options.data=!0,this.opcode("lookupData",path.depth,path.parts,path.strict)):this.opcode("lookupOnContext",path.parts,path.falsy,path.strict,scoped):this.opcode("pushContext")},StringLiteral:function(string){this.opcode("pushString",string.value)},NumberLiteral:function(number){this.opcode("pushLiteral",number.value)},BooleanLiteral:function(bool){this.opcode("pushLiteral",bool.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(hash){var pairs=hash.pairs,i=0,l=pairs.length;for(this.opcode("pushHash");l>i;i++)this.pushParam(pairs[i].value);for(;i--;)this.opcode("assignToHash",pairs[i].key);this.opcode("popHash")},opcode:function(name){this.opcodes.push({opcode:name,args:slice.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(depth){depth&&(this.useDepths=!0)},classifySexpr:function(sexpr){var isSimple=_ast2["default"].helpers.simpleId(sexpr.path),isBlockParam=isSimple&&!!this.blockParamIndex(sexpr.path.parts[0]),isHelper=!isBlockParam&&_ast2["default"].helpers.helperExpression(sexpr),isEligible=!isBlockParam&&(isHelper||isSimple);if(isEligible&&!isHelper){var _name2=sexpr.path.parts[0],options=this.options;options.knownHelpers[_name2]?isHelper=!0:options.knownHelpersOnly&&(isEligible=!1)}return isHelper?"helper":isEligible?"ambiguous":"simple"},pushParams:function(params){for(var i=0,l=params.length;l>i;i++)this.pushParam(params[i])},pushParam:function(val){var value=null!=val.value?val.value:val.original||"";if(this.stringParams)value.replace&&(value=value.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),val.depth&&this.addDepth(val.depth),this.opcode("getContext",val.depth||0),this.opcode("pushStringParam",value,val.type),"SubExpression"===val.type&&this.accept(val);else{if(this.trackIds){var blockParamIndex=void 0;if(!val.parts||_ast2["default"].helpers.scopedId(val)||val.depth||(blockParamIndex=this.blockParamIndex(val.parts[0])),blockParamIndex){var blockParamChild=val.parts.slice(1).join(".");this.opcode("pushId","BlockParam",blockParamIndex,blockParamChild)}else value=val.original||value,value.replace&&(value=value.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",val.type,value)}this.accept(val)}},setupFullMustacheParams:function(sexpr,program,inverse,omitEmpty){var params=sexpr.params;return this.pushParams(params),this.opcode("pushProgram",program),this.opcode("pushProgram",inverse),sexpr.hash?this.accept(sexpr.hash):this.opcode("emptyHash",omitEmpty),params},blockParamIndex:function(name){for(var depth=0,len=this.options.blockParams.length;len>depth;depth++){var blockParams=this.options.blockParams[depth],param=blockParams&&_utils.indexOf(blockParams,name);if(blockParams&&param>=0)return[depth,param]}}}},{"../exception":222,"../utils":235,"./ast":210}],214:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{
"default":obj}}function validateClose(open,close){if(close=close.path?close.path.original:close,open.path.original!==close){var errorNode={loc:open.path.loc};throw new _exception2["default"](open.path.original+" doesn't match "+close,errorNode)}}function SourceLocation(source,locInfo){this.source=source,this.start={line:locInfo.first_line,column:locInfo.first_column},this.end={line:locInfo.last_line,column:locInfo.last_column}}function id(token){return/^\[.*\]$/.test(token)?token.substr(1,token.length-2):token}function stripFlags(open,close){return{open:"~"===open.charAt(2),close:"~"===close.charAt(close.length-3)}}function stripComment(comment){return comment.replace(/^\{\{~?\!-?-?/,"").replace(/-?-?~?\}\}$/,"")}function preparePath(data,parts,loc){loc=this.locInfo(loc);for(var original=data?"@":"",dig=[],depth=0,depthString="",i=0,l=parts.length;l>i;i++){var part=parts[i].part,isLiteral=parts[i].original!==part;if(original+=(parts[i].separator||"")+part,isLiteral||".."!==part&&"."!==part&&"this"!==part)dig.push(part);else{if(dig.length>0)throw new _exception2["default"]("Invalid path: "+original,{loc:loc});".."===part&&(depth++,depthString+="../")}}return{type:"PathExpression",data:data,depth:depth,parts:dig,original:original,loc:loc}}function prepareMustache(path,params,hash,open,strip,locInfo){var escapeFlag=open.charAt(3)||open.charAt(2),escaped="{"!==escapeFlag&&"&"!==escapeFlag,decorator=/\*/.test(open);return{type:decorator?"Decorator":"MustacheStatement",path:path,params:params,hash:hash,escaped:escaped,strip:strip,loc:this.locInfo(locInfo)}}function prepareRawBlock(openRawBlock,contents,close,locInfo){validateClose(openRawBlock,close),locInfo=this.locInfo(locInfo);var program={type:"Program",body:contents,strip:{},loc:locInfo};return{type:"BlockStatement",path:openRawBlock.path,params:openRawBlock.params,hash:openRawBlock.hash,program:program,openStrip:{},inverseStrip:{},closeStrip:{},loc:locInfo}}function prepareBlock(openBlock,program,inverseAndProgram,close,inverted,locInfo){close&&close.path&&validateClose(openBlock,close);var decorator=/\*/.test(openBlock.open);program.blockParams=openBlock.blockParams;var inverse=void 0,inverseStrip=void 0;if(inverseAndProgram){if(decorator)throw new _exception2["default"]("Unexpected inverse block on decorator",inverseAndProgram);inverseAndProgram.chain&&(inverseAndProgram.program.body[0].closeStrip=close.strip),inverseStrip=inverseAndProgram.strip,inverse=inverseAndProgram.program}return inverted&&(inverted=inverse,inverse=program,program=inverted),{type:decorator?"DecoratorBlock":"BlockStatement",path:openBlock.path,params:openBlock.params,hash:openBlock.hash,program:program,inverse:inverse,openStrip:openBlock.strip,inverseStrip:inverseStrip,closeStrip:close&&close.strip,loc:this.locInfo(locInfo)}}function prepareProgram(statements,loc){if(!loc&&statements.length){var firstLoc=statements[0].loc,lastLoc=statements[statements.length-1].loc;firstLoc&&lastLoc&&(loc={source:firstLoc.source,start:{line:firstLoc.start.line,column:firstLoc.start.column},end:{line:lastLoc.end.line,column:lastLoc.end.column}})}return{type:"Program",body:statements,strip:{},loc:loc}}function preparePartialBlock(open,program,close,locInfo){return validateClose(open,close),{type:"PartialBlockStatement",name:open.path,params:open.params,hash:open.hash,program:program,openStrip:open.strip,closeStrip:close&&close.strip,loc:this.locInfo(locInfo)}}exports.__esModule=!0,exports.SourceLocation=SourceLocation,exports.id=id,exports.stripFlags=stripFlags,exports.stripComment=stripComment,exports.preparePath=preparePath,exports.prepareMustache=prepareMustache,exports.prepareRawBlock=prepareRawBlock,exports.prepareBlock=prepareBlock,exports.prepareProgram=prepareProgram,exports.preparePartialBlock=preparePartialBlock;var _exception=require("../exception"),_exception2=_interopRequireDefault(_exception)},{"../exception":222}],215:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function Literal(value){this.value=value}function JavaScriptCompiler(){}function strictLookup(requireTerminal,compiler,parts,type){var stack=compiler.popStack(),i=0,len=parts.length;for(requireTerminal&&len--;len>i;i++)stack=compiler.nameLookup(stack,parts[i],type);return requireTerminal?[compiler.aliasable("container.strict"),"(",stack,", ",compiler.quotedString(parts[i]),")"]:stack}exports.__esModule=!0;var _base=require("../base"),_exception=require("../exception"),_exception2=_interopRequireDefault(_exception),_utils=require("../utils"),_codeGen=require("./code-gen"),_codeGen2=_interopRequireDefault(_codeGen);JavaScriptCompiler.prototype={nameLookup:function(parent,name){return JavaScriptCompiler.isValidJavaScriptVariableName(name)?[parent,".",name]:[parent,"[",JSON.stringify(name),"]"]},depthedLookup:function(name){return[this.aliasable("container.lookup"),'(depths, "',name,'")']},compilerInfo:function(){var revision=_base.COMPILER_REVISION,versions=_base.REVISION_CHANGES[revision];return[revision,versions]},appendToBuffer:function(source,location,explicit){return _utils.isArray(source)||(source=[source]),source=this.source.wrap(source,location),this.environment.isSimple?["return ",source,";"]:explicit?["buffer += ",source,";"]:(source.appendToBuffer=!0,source)},initializeBuffer:function(){return this.quotedString("")},compile:function(environment,options,context,asObject){this.environment=environment,this.options=options,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!asObject,this.name=this.environment.name,this.isChild=!!context,this.context=context||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(environment,options),this.useDepths=this.useDepths||environment.useDepths||environment.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||environment.useBlockParams;var opcodes=environment.opcodes,opcode=void 0,firstLoc=void 0,i=void 0,l=void 0;for(i=0,l=opcodes.length;l>i;i++)opcode=opcodes[i],this.source.currentLocation=opcode.loc,firstLoc=firstLoc||opcode.loc,this[opcode.opcode].apply(this,opcode.args);if(this.source.currentLocation=firstLoc,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new _exception2["default"]("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend("var decorators = container.decorators;\n"),this.decorators.push("return fn;"),asObject?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n"),this.decorators.push("}\n"),this.decorators=this.decorators.merge()));var fn=this.createFunctionContext(asObject);if(this.isChild)return fn;var ret={compiler:this.compilerInfo(),main:fn};this.decorators&&(ret.main_d=this.decorators,ret.useDecorators=!0);var _context=this.context,programs=_context.programs,decorators=_context.decorators;for(i=0,l=programs.length;l>i;i++)programs[i]&&(ret[i]=programs[i],decorators[i]&&(ret[i+"_d"]=decorators[i],ret.useDecorators=!0));return this.environment.usePartial&&(ret.usePartial=!0),this.options.data&&(ret.useData=!0),this.useDepths&&(ret.useDepths=!0),this.useBlockParams&&(ret.useBlockParams=!0),this.options.compat&&(ret.compat=!0),asObject?ret.compilerOptions=this.options:(ret.compiler=JSON.stringify(ret.compiler),this.source.currentLocation={start:{line:1,column:0}},ret=this.objectLiteral(ret),options.srcName?(ret=ret.toStringWithSourceMap({file:options.destName}),ret.map=ret.map&&ret.map.toString()):ret=ret.toString()),ret},preamble:function(){this.lastContext=0,this.source=new _codeGen2["default"](this.options.srcName),this.decorators=new _codeGen2["default"](this.options.srcName)},createFunctionContext:function(asObject){var varDeclarations="",locals=this.stackVars.concat(this.registers.list);locals.length>0&&(varDeclarations+=", "+locals.join(", "));var aliasCount=0;for(var alias in this.aliases){var node=this.aliases[alias];this.aliases.hasOwnProperty(alias)&&node.children&&node.referenceCount>1&&(varDeclarations+=", alias"+ ++aliasCount+"="+alias,node.children[0]="alias"+aliasCount)}var params=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&params.push("blockParams"),this.useDepths&&params.push("depths");var source=this.mergeSource(varDeclarations);return asObject?(params.push(source),Function.apply(this,params)):this.source.wrap(["function(",params.join(","),") {\n  ",source,"}"])},mergeSource:function(varDeclarations){var isSimple=this.environment.isSimple,appendOnly=!this.forceBuffer,appendFirst=void 0,sourceSeen=void 0,bufferStart=void 0,bufferEnd=void 0;return this.source.each(function(line){line.appendToBuffer?(bufferStart?line.prepend("  + "):bufferStart=line,bufferEnd=line):(bufferStart&&(sourceSeen?bufferStart.prepend("buffer += "):appendFirst=!0,bufferEnd.add(";"),bufferStart=bufferEnd=void 0),sourceSeen=!0,isSimple||(appendOnly=!1))}),appendOnly?bufferStart?(bufferStart.prepend("return "),bufferEnd.add(";")):sourceSeen||this.source.push('return "";'):(varDeclarations+=", buffer = "+(appendFirst?"":this.initializeBuffer()),bufferStart?(bufferStart.prepend("return buffer + "),bufferEnd.add(";")):this.source.push("return buffer;")),varDeclarations&&this.source.prepend("var "+varDeclarations.substring(2)+(appendFirst?"":";\n")),this.source.merge()},blockValue:function(name){var blockHelperMissing=this.aliasable("helpers.blockHelperMissing"),params=[this.contextName(0)];this.setupHelperArgs(name,0,params);var blockName=this.popStack();params.splice(1,0,blockName),this.push(this.source.functionCall(blockHelperMissing,"call",params))},ambiguousBlockValue:function(){var blockHelperMissing=this.aliasable("helpers.blockHelperMissing"),params=[this.contextName(0)];this.setupHelperArgs("",0,params,!0),this.flushInline();var current=this.topStack();params.splice(1,0,current),this.pushSource(["if (!",this.lastHelper,") { ",current," = ",this.source.functionCall(blockHelperMissing,"call",params),"}"])},appendContent:function(content){this.pendingContent?content=this.pendingContent+content:this.pendingLocation=this.source.currentLocation,this.pendingContent=content},append:function(){if(this.isInline())this.replaceStack(function(current){return[" != null ? ",current,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));else{var local=this.popStack();this.pushSource(["if (",local," != null) { ",this.appendToBuffer(local,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(depth){this.lastContext=depth},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(parts,falsy,strict,scoped){var i=0;scoped||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(parts[i++])),this.resolvePath("context",parts,i,falsy,strict)},lookupBlockParam:function(blockParamId,parts){this.useBlockParams=!0,this.push(["blockParams[",blockParamId[0],"][",blockParamId[1],"]"]),this.resolvePath("context",parts,1)},lookupData:function(depth,parts,strict){depth?this.pushStackLiteral("container.data(data, "+depth+")"):this.pushStackLiteral("data"),this.resolvePath("data",parts,0,!0,strict)},resolvePath:function(type,parts,i,falsy,strict){var _this=this;if(this.options.strict||this.options.assumeObjects)return void this.push(strictLookup(this.options.strict&&strict,this,parts,type));for(var len=parts.length;len>i;i++)this.replaceStack(function(current){var lookup=_this.nameLookup(current,parts[i],type);return falsy?[" && ",lookup]:[" != null ? ",lookup," : ",current]})},resolvePossibleLambda:function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(string,type){this.pushContext(),this.pushString(type),"SubExpression"!==type&&("string"==typeof string?this.pushString(string):this.pushStackLiteral(string))},emptyHash:function(omitEmpty){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(omitEmpty?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:[],types:[],contexts:[],ids:[]}},popHash:function(){var hash=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(hash.ids)),this.stringParams&&(this.push(this.objectLiteral(hash.contexts)),this.push(this.objectLiteral(hash.types))),this.push(this.objectLiteral(hash.values))},pushString:function(string){this.pushStackLiteral(this.quotedString(string))},pushLiteral:function(value){this.pushStackLiteral(value)},pushProgram:function(guid){null!=guid?this.pushStackLiteral(this.programExpression(guid)):this.pushStackLiteral(null)},registerDecorator:function(paramSize,name){var foundDecorator=this.nameLookup("decorators",name,"decorator"),options=this.setupHelperArgs(name,paramSize);this.decorators.push(["fn = ",this.decorators.functionCall(foundDecorator,"",["fn","props","container",options])," || fn;"])},invokeHelper:function(paramSize,name,isSimple){var nonHelper=this.popStack(),helper=this.setupHelper(paramSize,name),simple=isSimple?[helper.name," || "]:"",lookup=["("].concat(simple,nonHelper);this.options.strict||lookup.push(" || ",this.aliasable("helpers.helperMissing")),lookup.push(")"),this.push(this.source.functionCall(lookup,"call",helper.callParams))},invokeKnownHelper:function(paramSize,name){var helper=this.setupHelper(paramSize,name);this.push(this.source.functionCall(helper.name,"call",helper.callParams))},invokeAmbiguous:function(name,helperCall){this.useRegister("helper");var nonHelper=this.popStack();this.emptyHash();var helper=this.setupHelper(0,name,helperCall),helperName=this.lastHelper=this.nameLookup("helpers",name,"helper"),lookup=["(","(helper = ",helperName," || ",nonHelper,")"];this.options.strict||(lookup[0]="(helper = ",lookup.push(" != null ? helper : ",this.aliasable("helpers.helperMissing"))),this.push(["(",lookup,helper.paramsInit?["),(",helper.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",helper.callParams)," : helper))"])},invokePartial:function(isDynamic,name,indent){var params=[],options=this.setupParams(name,1,params);isDynamic&&(name=this.popStack(),delete options.name),indent&&(options.indent=JSON.stringify(indent)),options.helpers="helpers",options.partials="partials",options.decorators="container.decorators",isDynamic?params.unshift(name):params.unshift(this.nameLookup("partials",name,"partial")),this.options.compat&&(options.depths="depths"),options=this.objectLiteral(options),params.push(options),this.push(this.source.functionCall("container.invokePartial","",params))},assignToHash:function(key){var value=this.popStack(),context=void 0,type=void 0,id=void 0;this.trackIds&&(id=this.popStack()),this.stringParams&&(type=this.popStack(),context=this.popStack());var hash=this.hash;context&&(hash.contexts[key]=context),type&&(hash.types[key]=type),id&&(hash.ids[key]=id),hash.values[key]=value},pushId:function(type,name,child){"BlockParam"===type?this.pushStackLiteral("blockParams["+name[0]+"].path["+name[1]+"]"+(child?" + "+JSON.stringify("."+child):"")):"PathExpression"===type?this.pushString(name):"SubExpression"===type?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:JavaScriptCompiler,compileChildren:function(environment,options){for(var children=environment.children,child=void 0,compiler=void 0,i=0,l=children.length;l>i;i++){child=children[i],compiler=new this.compiler;var index=this.matchExistingProgram(child);null==index?(this.context.programs.push(""),index=this.context.programs.length,child.index=index,child.name="program"+index,this.context.programs[index]=compiler.compile(child,options,this.context,!this.precompile),this.context.decorators[index]=compiler.decorators,this.context.environments[index]=child,this.useDepths=this.useDepths||compiler.useDepths,this.useBlockParams=this.useBlockParams||compiler.useBlockParams):(child.index=index,child.name="program"+index,this.useDepths=this.useDepths||child.useDepths,this.useBlockParams=this.useBlockParams||child.useBlockParams)}},matchExistingProgram:function(child){for(var i=0,len=this.context.environments.length;len>i;i++){var environment=this.context.environments[i];if(environment&&environment.equals(child))return i}},programExpression:function(guid){var child=this.environment.children[guid],programParams=[child.index,"data",child.blockParams];return(this.useBlockParams||this.useDepths)&&programParams.push("blockParams"),this.useDepths&&programParams.push("depths"),"container.program("+programParams.join(", ")+")"},useRegister:function(name){this.registers[name]||(this.registers[name]=!0,this.registers.list.push(name))},push:function(expr){return expr instanceof Literal||(expr=this.source.wrap(expr)),this.inlineStack.push(expr),expr},pushStackLiteral:function(item){this.push(new Literal(item))},pushSource:function(source){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),source&&this.source.push(source)},replaceStack:function(callback){var prefix=["("],stack=void 0,createdStack=void 0,usedLiteral=void 0;if(!this.isInline())throw new _exception2["default"]("replaceStack on non-inline");var top=this.popStack(!0);if(top instanceof Literal)stack=[top.value],prefix=["(",stack],usedLiteral=!0;else{createdStack=!0;var _name=this.incrStack();prefix=["((",this.push(_name)," = ",top,")"],stack=this.topStack()}var item=callback.call(this,stack);usedLiteral||this.popStack(),createdStack&&this.stackSlot--,this.push(prefix.concat(item,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var inlineStack=this.inlineStack;this.inlineStack=[];for(var i=0,len=inlineStack.length;len>i;i++){var entry=inlineStack[i];if(entry instanceof Literal)this.compileStack.push(entry);else{var stack=this.incrStack();this.pushSource([stack," = ",entry,";"]),this.compileStack.push(stack)}}},isInline:function(){return this.inlineStack.length},popStack:function(wrapped){var inline=this.isInline(),item=(inline?this.inlineStack:this.compileStack).pop();if(!wrapped&&item instanceof Literal)return item.value;if(!inline){if(!this.stackSlot)throw new _exception2["default"]("Invalid stack pop");this.stackSlot--}return item},topStack:function(){var stack=this.isInline()?this.inlineStack:this.compileStack,item=stack[stack.length-1];return item instanceof Literal?item.value:item},contextName:function(context){return this.useDepths&&context?"depths["+context+"]":"depth"+context},quotedString:function(str){return this.source.quotedString(str)},objectLiteral:function(obj){return this.source.objectLiteral(obj)},aliasable:function(name){var ret=this.aliases[name];return ret?(ret.referenceCount++,ret):(ret=this.aliases[name]=this.source.wrap(name),ret.aliasable=!0,ret.referenceCount=1,ret)},setupHelper:function(paramSize,name,blockHelper){var params=[],paramsInit=this.setupHelperArgs(name,paramSize,params,blockHelper),foundHelper=this.nameLookup("helpers",name,"helper"),callContext=this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : {}");return{params:params,paramsInit:paramsInit,name:foundHelper,callParams:[callContext].concat(params)}},setupParams:function(helper,paramSize,params){var options={},contexts=[],types=[],ids=[],objectArgs=!params,param=void 0;objectArgs&&(params=[]),options.name=this.quotedString(helper),options.hash=this.popStack(),this.trackIds&&(options.hashIds=this.popStack()),this.stringParams&&(options.hashTypes=this.popStack(),options.hashContexts=this.popStack());var inverse=this.popStack(),program=this.popStack();(program||inverse)&&(options.fn=program||"container.noop",options.inverse=inverse||"container.noop");for(var i=paramSize;i--;)param=this.popStack(),params[i]=param,this.trackIds&&(ids[i]=this.popStack()),this.stringParams&&(types[i]=this.popStack(),contexts[i]=this.popStack());return objectArgs&&(options.args=this.source.generateArray(params)),this.trackIds&&(options.ids=this.source.generateArray(ids)),this.stringParams&&(options.types=this.source.generateArray(types),options.contexts=this.source.generateArray(contexts)),this.options.data&&(options.data="data"),this.useBlockParams&&(options.blockParams="blockParams"),options},setupHelperArgs:function(helper,paramSize,params,useRegister){var options=this.setupParams(helper,paramSize,params);return options=this.objectLiteral(options),useRegister?(this.useRegister("options"),params.push("options"),["options=",options]):params?(params.push(options),""):options}},function(){for(var reservedWords="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),compilerWords=JavaScriptCompiler.RESERVED_WORDS={},i=0,l=reservedWords.length;l>i;i++)compilerWords[reservedWords[i]]=!0}(),JavaScriptCompiler.isValidJavaScriptVariableName=function(name){return!JavaScriptCompiler.RESERVED_WORDS[name]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(name)},exports["default"]=JavaScriptCompiler,module.exports=exports["default"]},{"../base":209,"../exception":222,"../utils":235,"./code-gen":212}],216:[function(require,module,exports){"use strict";var handlebars=function(){function Parser(){this.yy={}}var parser={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition_plus0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,1],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function(yytext,yyleng,yylineno,yy,yystate,$$,_$){var $0=$$.length-1;switch(yystate){case 1:return $$[$0-1];case 2:this.$=yy.prepareProgram($$[$0]);break;case 3:this.$=$$[$0];break;case 4:this.$=$$[$0];break;case 5:this.$=$$[$0];break;case 6:this.$=$$[$0];break;case 7:this.$=$$[$0];break;case 8:this.$=$$[$0];break;case 9:this.$={type:"CommentStatement",value:yy.stripComment($$[$0]),strip:yy.stripFlags($$[$0],$$[$0]),loc:yy.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:$$[$0],value:$$[$0],loc:yy.locInfo(this._$)};break;case 11:this.$=yy.prepareRawBlock($$[$0-2],$$[$0-1],$$[$0],this._$);break;case 12:this.$={path:$$[$0-3],params:$$[$0-2],hash:$$[$0-1]};break;case 13:this.$=yy.prepareBlock($$[$0-3],$$[$0-2],$$[$0-1],$$[$0],!1,this._$);break;case 14:this.$=yy.prepareBlock($$[$0-3],$$[$0-2],$$[$0-1],$$[$0],!0,this._$);break;case 15:this.$={open:$$[$0-5],path:$$[$0-4],params:$$[$0-3],hash:$$[$0-2],blockParams:$$[$0-1],strip:yy.stripFlags($$[$0-5],$$[$0])};break;case 16:this.$={path:$$[$0-4],params:$$[$0-3],hash:$$[$0-2],blockParams:$$[$0-1],strip:yy.stripFlags($$[$0-5],$$[$0])};break;case 17:this.$={path:$$[$0-4],params:$$[$0-3],hash:$$[$0-2],blockParams:$$[$0-1],strip:yy.stripFlags($$[$0-5],$$[$0])};break;case 18:this.$={strip:yy.stripFlags($$[$0-1],$$[$0-1]),program:$$[$0]};break;case 19:var inverse=yy.prepareBlock($$[$0-2],$$[$0-1],$$[$0],$$[$0],!1,this._$),program=yy.prepareProgram([inverse],$$[$0-1].loc);program.chained=!0,this.$={strip:$$[$0-2].strip,program:program,chain:!0};break;case 20:this.$=$$[$0];break;case 21:this.$={path:$$[$0-1],strip:yy.stripFlags($$[$0-2],$$[$0])};break;case 22:this.$=yy.prepareMustache($$[$0-3],$$[$0-2],$$[$0-1],$$[$0-4],yy.stripFlags($$[$0-4],$$[$0]),this._$);break;case 23:this.$=yy.prepareMustache($$[$0-3],$$[$0-2],$$[$0-1],$$[$0-4],yy.stripFlags($$[$0-4],$$[$0]),this._$);break;case 24:this.$={type:"PartialStatement",name:$$[$0-3],params:$$[$0-2],hash:$$[$0-1],indent:"",strip:yy.stripFlags($$[$0-4],$$[$0]),loc:yy.locInfo(this._$)};break;case 25:this.$=yy.preparePartialBlock($$[$0-2],$$[$0-1],$$[$0],this._$);break;case 26:this.$={path:$$[$0-3],params:$$[$0-2],hash:$$[$0-1],strip:yy.stripFlags($$[$0-4],$$[$0])};break;case 27:this.$=$$[$0];break;case 28:this.$=$$[$0];break;case 29:this.$={type:"SubExpression",path:$$[$0-3],params:$$[$0-2],hash:$$[$0-1],loc:yy.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:$$[$0],loc:yy.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:yy.id($$[$0-2]),value:$$[$0],loc:yy.locInfo(this._$)};break;case 32:this.$=yy.id($$[$0-1]);break;case 33:this.$=$$[$0];break;case 34:this.$=$$[$0];break;case 35:this.$={type:"StringLiteral",value:$$[$0],original:$$[$0],loc:yy.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number($$[$0]),original:Number($$[$0]),loc:yy.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:"true"===$$[$0],original:"true"===$$[$0],loc:yy.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:yy.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:yy.locInfo(this._$)};break;case 40:this.$=$$[$0];break;case 41:this.$=$$[$0];break;case 42:this.$=yy.preparePath(!0,$$[$0],this._$);break;case 43:this.$=yy.preparePath(!1,$$[$0],this._$);break;case 44:$$[$0-2].push({part:yy.id($$[$0]),original:$$[$0],separator:$$[$0-1]}),this.$=$$[$0-2];break;case 45:this.$=[{part:yy.id($$[$0]),original:$$[$0]}];break;case 46:this.$=[];break;case 47:$$[$0-1].push($$[$0]);break;case 48:this.$=[$$[$0]];break;case 49:$$[$0-1].push($$[$0]);break;case 50:this.$=[];break;case 51:$$[$0-1].push($$[$0]);break;case 58:this.$=[];break;case 59:$$[$0-1].push($$[$0]);break;case 64:this.$=[];break;case 65:$$[$0-1].push($$[$0]);break;case 70:this.$=[];break;case 71:$$[$0-1].push($$[$0]);break;case 78:this.$=[];break;case 79:$$[$0-1].push($$[$0]);break;case 82:this.$=[];break;case 83:$$[$0-1].push($$[$0]);break;case 86:this.$=[];break;case 87:$$[$0-1].push($$[$0]);break;case 90:this.$=[];break;case 91:$$[$0-1].push($$[$0]);break;case 94:this.$=[];break;case 95:$$[$0-1].push($$[$0]);break;case 98:this.$=[$$[$0]];break;case 99:$$[$0-1].push($$[$0]);break;case 100:this.$=[$$[$0]];break;case 101:$$[$0-1].push($$[$0])}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{13:40,15:[1,20],17:39},{20:42,56:41,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:45,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:48,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:42,56:49,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:50,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],
85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,51]},{72:[1,35],86:52},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:53,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:54,38:56,39:[1,58],43:57,44:[1,59],45:55,47:[2,54]},{28:60,43:61,44:[1,59],47:[2,56]},{13:63,15:[1,20],18:[1,62]},{15:[2,48],18:[2,48]},{33:[2,86],57:64,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:65,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:66,47:[1,67]},{30:68,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:69,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:70,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:71,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:75,33:[2,80],50:72,63:73,64:76,65:[1,44],69:74,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,80]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,51]},{20:75,53:81,54:[2,84],63:82,64:76,65:[1,44],69:83,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:84,47:[1,67]},{47:[2,55]},{4:85,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:86,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:87,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:88,47:[1,67]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:75,33:[2,88],58:89,63:90,64:76,65:[1,44],69:91,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:92,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:93,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,31:94,33:[2,60],63:95,64:76,65:[1,44],69:96,70:77,71:78,72:[1,79],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,66],36:97,63:98,64:76,65:[1,44],69:99,70:77,71:78,72:[1,79],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,22:100,23:[2,52],63:101,64:76,65:[1,44],69:102,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,92],62:103,63:104,64:76,65:[1,44],69:105,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,106]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:107,72:[1,108],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,109],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,110]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:56,39:[1,58],43:57,44:[1,59],45:112,46:111,47:[2,76]},{33:[2,70],40:113,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,114]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:75,63:116,64:76,65:[1,44],67:115,68:[2,96],69:117,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,118]},{32:119,33:[2,62],74:120,75:[1,121]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:122,74:123,75:[1,121]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,124]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,125]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,109]},{20:75,63:126,64:76,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:75,33:[2,72],41:127,63:128,64:76,65:[1,44],69:129,70:77,71:78,72:[1,79],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,130]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,131]},{33:[2,63]},{72:[1,133],76:132},{33:[1,134]},{33:[2,69]},{15:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:135,74:136,75:[1,121]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,138],77:[1,137]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,139]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],55:[2,55],57:[2,20],61:[2,57],74:[2,81],83:[2,85],87:[2,18],91:[2,89],102:[2,53],105:[2,93],111:[2,19],112:[2,77],117:[2,97],120:[2,63],123:[2,69],124:[2,12],136:[2,75],137:[2,32]},parseError:function(str,hash){throw new Error(str)},parse:function(input){function lex(){var token;return token=self.lexer.lex()||1,"number"!=typeof token&&(token=self.symbols_[token]||token),token}var self=this,stack=[0],vstack=[null],lstack=[],table=this.table,yytext="",yylineno=0,yyleng=0,recovering=0;this.lexer.setInput(input),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var yyloc=this.lexer.yylloc;lstack.push(yyloc);var ranges=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var symbol,preErrorSymbol,state,action,r,p,len,newState,expected,yyval={};;){if(state=stack[stack.length-1],this.defaultActions[state]?action=this.defaultActions[state]:(null!==symbol&&"undefined"!=typeof symbol||(symbol=lex()),action=table[state]&&table[state][symbol]),"undefined"==typeof action||!action.length||!action[0]){var errStr="";if(!recovering){expected=[];for(p in table[state])this.terminals_[p]&&p>2&&expected.push("'"+this.terminals_[p]+"'");errStr=this.lexer.showPosition?"Parse error on line "+(yylineno+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+expected.join(", ")+", got '"+(this.terminals_[symbol]||symbol)+"'":"Parse error on line "+(yylineno+1)+": Unexpected "+(1==symbol?"end of input":"'"+(this.terminals_[symbol]||symbol)+"'"),this.parseError(errStr,{text:this.lexer.match,token:this.terminals_[symbol]||symbol,line:this.lexer.yylineno,loc:yyloc,expected:expected})}}if(action[0]instanceof Array&&action.length>1)throw new Error("Parse Error: multiple actions possible at state: "+state+", token: "+symbol);switch(action[0]){case 1:stack.push(symbol),vstack.push(this.lexer.yytext),lstack.push(this.lexer.yylloc),stack.push(action[1]),symbol=null,preErrorSymbol?(symbol=preErrorSymbol,preErrorSymbol=null):(yyleng=this.lexer.yyleng,yytext=this.lexer.yytext,yylineno=this.lexer.yylineno,yyloc=this.lexer.yylloc,recovering>0&&recovering--);break;case 2:if(len=this.productions_[action[1]][1],yyval.$=vstack[vstack.length-len],yyval._$={first_line:lstack[lstack.length-(len||1)].first_line,last_line:lstack[lstack.length-1].last_line,first_column:lstack[lstack.length-(len||1)].first_column,last_column:lstack[lstack.length-1].last_column},ranges&&(yyval._$.range=[lstack[lstack.length-(len||1)].range[0],lstack[lstack.length-1].range[1]]),r=this.performAction.call(yyval,yytext,yyleng,yylineno,this.yy,action[1],vstack,lstack),"undefined"!=typeof r)return r;len&&(stack=stack.slice(0,-1*len*2),vstack=vstack.slice(0,-1*len),lstack=lstack.slice(0,-1*len)),stack.push(this.productions_[action[1]][0]),vstack.push(yyval.$),lstack.push(yyval._$),newState=table[stack[stack.length-2]][stack[stack.length-1]],stack.push(newState);break;case 3:return!0}}return!0}},lexer=function(){var lexer={EOF:1,parseError:function(str,hash){if(!this.yy.parser)throw new Error(str);this.yy.parser.parseError(str,hash)},setInput:function(input){return this._input=input,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var ch=this._input[0];this.yytext+=ch,this.yyleng++,this.offset++,this.match+=ch,this.matched+=ch;var lines=ch.match(/(?:\r\n?|\n).*/g);return lines?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),ch},unput:function(ch){var len=ch.length,lines=ch.split(/(?:\r\n?|\n)/g);this._input=ch+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-len-1),this.offset-=len;var oldLines=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),lines.length-1&&(this.yylineno-=lines.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:lines?(lines.length===oldLines.length?this.yylloc.first_column:0)+oldLines[oldLines.length-lines.length].length-lines[0].length:this.yylloc.first_column-len},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-len]),this},more:function(){return this._more=!0,this},less:function(n){this.unput(this.match.slice(n))},pastInput:function(){var past=this.matched.substr(0,this.matched.length-this.match.length);return(past.length>20?"...":"")+past.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var next=this.match;return next.length<20&&(next+=this._input.substr(0,20-next.length)),(next.substr(0,20)+(next.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var pre=this.pastInput(),c=new Array(pre.length+1).join("-");return pre+this.upcomingInput()+"\n"+c+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var token,match,tempMatch,index,lines;this._more||(this.yytext="",this.match="");for(var rules=this._currentRules(),i=0;i<rules.length&&(tempMatch=this._input.match(this.rules[rules[i]]),!tempMatch||match&&!(tempMatch[0].length>match[0].length)||(match=tempMatch,index=i,this.options.flex));i++);return match?(lines=match[0].match(/(?:\r\n?|\n).*/g),lines&&(this.yylineno+=lines.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:lines?lines[lines.length-1].length-lines[lines.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+match[0].length},this.yytext+=match[0],this.match+=match[0],this.matches=match,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(match[0].length),this.matched+=match[0],token=this.performAction.call(this,this.yy,this,rules[index],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),token?token:void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var r=this.next();return"undefined"!=typeof r?r:this.lex()},begin:function(condition){this.conditionStack.push(condition)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(condition){this.begin(condition)}};return lexer.options={},lexer.performAction=function(yy,yy_,$avoiding_name_collisions,YY_START){function strip(start,end){return yy_.yytext=yy_.yytext.substr(start,yy_.yyleng-end)}switch($avoiding_name_collisions){case 0:if("\\\\"===yy_.yytext.slice(-2)?(strip(0,1),this.begin("mu")):"\\"===yy_.yytext.slice(-1)?(strip(0,1),this.begin("emu")):this.begin("mu"),yy_.yytext)return 15;break;case 1:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),"raw"===this.conditionStack[this.conditionStack.length-1]?15:(yy_.yytext=yy_.yytext.substr(5,yy_.yyleng-9),"END_RAW_BLOCK");case 5:return 15;case 6:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:return this.popState(),44;case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:return 48;case 21:this.unput(yy_.yytext),this.popState(),this.begin("com");break;case 22:return this.popState(),14;case 23:return 48;case 24:return 73;case 25:return 72;case 26:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return yy_.yytext=strip(1,2).replace(/\\"/g,'"'),80;case 32:return yy_.yytext=strip(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:return 82;case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 41:return 72;case 42:return yy_.yytext=yy_.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},lexer.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^\/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]*?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],lexer.conditions={mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}},lexer}();return parser.lexer=lexer,Parser.prototype=parser,parser.Parser=Parser,new Parser}();exports.__esModule=!0,exports["default"]=handlebars},{}],217:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function print(ast){return(new PrintVisitor).accept(ast)}function PrintVisitor(){this.padding=0}exports.__esModule=!0,exports.print=print,exports.PrintVisitor=PrintVisitor;var _visitor=require("./visitor"),_visitor2=_interopRequireDefault(_visitor);PrintVisitor.prototype=new _visitor2["default"],PrintVisitor.prototype.pad=function(string){for(var out="",i=0,l=this.padding;l>i;i++)out+="  ";return out+=string+"\n"},PrintVisitor.prototype.Program=function(program){var out="",body=program.body,i=void 0,l=void 0;if(program.blockParams){var blockParams="BLOCK PARAMS: [";for(i=0,l=program.blockParams.length;l>i;i++)blockParams+=" "+program.blockParams[i];blockParams+=" ]",out+=this.pad(blockParams)}for(i=0,l=body.length;l>i;i++)out+=this.accept(body[i]);return this.padding--,out},PrintVisitor.prototype.MustacheStatement=function(mustache){return this.pad("{{ "+this.SubExpression(mustache)+" }}")},PrintVisitor.prototype.Decorator=function(mustache){return this.pad("{{ DIRECTIVE "+this.SubExpression(mustache)+" }}")},PrintVisitor.prototype.BlockStatement=PrintVisitor.prototype.DecoratorBlock=function(block){var out="";return out+=this.pad(("DecoratorBlock"===block.type?"DIRECTIVE ":"")+"BLOCK:"),this.padding++,out+=this.pad(this.SubExpression(block)),block.program&&(out+=this.pad("PROGRAM:"),this.padding++,out+=this.accept(block.program),this.padding--),block.inverse&&(block.program&&this.padding++,out+=this.pad("{{^}}"),this.padding++,out+=this.accept(block.inverse),this.padding--,block.program&&this.padding--),this.padding--,out},PrintVisitor.prototype.PartialStatement=function(partial){var content="PARTIAL:"+partial.name.original;return partial.params[0]&&(content+=" "+this.accept(partial.params[0])),partial.hash&&(content+=" "+this.accept(partial.hash)),this.pad("{{> "+content+" }}")},PrintVisitor.prototype.PartialBlockStatement=function(partial){var content="PARTIAL BLOCK:"+partial.name.original;return partial.params[0]&&(content+=" "+this.accept(partial.params[0])),partial.hash&&(content+=" "+this.accept(partial.hash)),content+=" "+this.pad("PROGRAM:"),this.padding++,content+=this.accept(partial.program),this.padding--,this.pad("{{> "+content+" }}")},PrintVisitor.prototype.ContentStatement=function(content){return this.pad("CONTENT[ '"+content.value+"' ]")},PrintVisitor.prototype.CommentStatement=function(comment){return this.pad("{{! '"+comment.value+"' }}")},PrintVisitor.prototype.SubExpression=function(sexpr){for(var params=sexpr.params,paramStrings=[],hash=void 0,i=0,l=params.length;l>i;i++)paramStrings.push(this.accept(params[i]));return params="["+paramStrings.join(", ")+"]",hash=sexpr.hash?" "+this.accept(sexpr.hash):"",this.accept(sexpr.path)+" "+params+hash},PrintVisitor.prototype.PathExpression=function(id){var path=id.parts.join("/");return(id.data?"@":"")+"PATH:"+path},PrintVisitor.prototype.StringLiteral=function(string){return'"'+string.value+'"'},PrintVisitor.prototype.NumberLiteral=function(number){return"NUMBER{"+number.value+"}"},PrintVisitor.prototype.BooleanLiteral=function(bool){return"BOOLEAN{"+bool.value+"}"},PrintVisitor.prototype.UndefinedLiteral=function(){return"UNDEFINED"},PrintVisitor.prototype.NullLiteral=function(){return"NULL"},PrintVisitor.prototype.Hash=function(hash){for(var pairs=hash.pairs,joinedPairs=[],i=0,l=pairs.length;l>i;i++)joinedPairs.push(this.accept(pairs[i]));return"HASH{"+joinedPairs.join(", ")+"}"},PrintVisitor.prototype.HashPair=function(pair){return pair.key+"="+this.accept(pair.value)}},{"./visitor":218}],218:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function Visitor(){this.parents=[]}function visitSubExpression(mustache){this.acceptRequired(mustache,"path"),this.acceptArray(mustache.params),this.acceptKey(mustache,"hash")}function visitBlock(block){visitSubExpression.call(this,block),this.acceptKey(block,"program"),this.acceptKey(block,"inverse")}function visitPartial(partial){this.acceptRequired(partial,"name"),this.acceptArray(partial.params),this.acceptKey(partial,"hash")}exports.__esModule=!0;var _exception=require("../exception"),_exception2=_interopRequireDefault(_exception);Visitor.prototype={constructor:Visitor,mutating:!1,acceptKey:function(node,name){var value=this.accept(node[name]);if(this.mutating){if(value&&!Visitor.prototype[value.type])throw new _exception2["default"]('Unexpected node type "'+value.type+'" found when accepting '+name+" on "+node.type);node[name]=value}},acceptRequired:function(node,name){if(this.acceptKey(node,name),!node[name])throw new _exception2["default"](node.type+" requires "+name)},acceptArray:function(array){for(var i=0,l=array.length;l>i;i++)this.acceptKey(array,i),array[i]||(array.splice(i,1),i--,l--)},accept:function(object){if(object){if(!this[object.type])throw new _exception2["default"]("Unknown type: "+object.type,object);this.current&&this.parents.unshift(this.current),this.current=object;var ret=this[object.type](object);return this.current=this.parents.shift(),!this.mutating||ret?ret:ret!==!1?object:void 0}},Program:function(program){this.acceptArray(program.body)},MustacheStatement:visitSubExpression,Decorator:visitSubExpression,BlockStatement:visitBlock,DecoratorBlock:visitBlock,PartialStatement:visitPartial,PartialBlockStatement:function(partial){visitPartial.call(this,partial),this.acceptKey(partial,"program")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:visitSubExpression,PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(hash){this.acceptArray(hash.pairs)},HashPair:function(pair){this.acceptRequired(pair,"value")}},exports["default"]=Visitor,module.exports=exports["default"]},{"../exception":222}],219:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function WhitespaceControl(){var options=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.options=options}function isPrevWhitespace(body,i,isRoot){void 0===i&&(i=body.length);var prev=body[i-1],sibling=body[i-2];return prev?"ContentStatement"===prev.type?(sibling||!isRoot?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(prev.original):void 0:isRoot}function isNextWhitespace(body,i,isRoot){void 0===i&&(i=-1);var next=body[i+1],sibling=body[i+2];return next?"ContentStatement"===next.type?(sibling||!isRoot?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(next.original):void 0:isRoot}function omitRight(body,i,multiple){var current=body[null==i?0:i+1];if(current&&"ContentStatement"===current.type&&(multiple||!current.rightStripped)){var original=current.value;current.value=current.value.replace(multiple?/^\s+/:/^[ \t]*\r?\n?/,""),current.rightStripped=current.value!==original}}function omitLeft(body,i,multiple){var current=body[null==i?body.length-1:i-1];if(current&&"ContentStatement"===current.type&&(multiple||!current.leftStripped)){var original=current.value;return current.value=current.value.replace(multiple?/\s+$/:/[ \t]+$/,""),current.leftStripped=current.value!==original,current.leftStripped}}exports.__esModule=!0;var _visitor=require("./visitor"),_visitor2=_interopRequireDefault(_visitor);WhitespaceControl.prototype=new _visitor2["default"],WhitespaceControl.prototype.Program=function(program){var doStandalone=!this.options.ignoreStandalone,isRoot=!this.isRootSeen;this.isRootSeen=!0;for(var body=program.body,i=0,l=body.length;l>i;i++){var current=body[i],strip=this.accept(current);if(strip){var _isPrevWhitespace=isPrevWhitespace(body,i,isRoot),_isNextWhitespace=isNextWhitespace(body,i,isRoot),openStandalone=strip.openStandalone&&_isPrevWhitespace,closeStandalone=strip.closeStandalone&&_isNextWhitespace,inlineStandalone=strip.inlineStandalone&&_isPrevWhitespace&&_isNextWhitespace;strip.close&&omitRight(body,i,!0),strip.open&&omitLeft(body,i,!0),doStandalone&&inlineStandalone&&(omitRight(body,i),omitLeft(body,i)&&"PartialStatement"===current.type&&(current.indent=/([ \t]+$)/.exec(body[i-1].original)[1])),doStandalone&&openStandalone&&(omitRight((current.program||current.inverse).body),omitLeft(body,i)),doStandalone&&closeStandalone&&(omitRight(body,i),omitLeft((current.inverse||current.program).body))}}return program},WhitespaceControl.prototype.BlockStatement=WhitespaceControl.prototype.DecoratorBlock=WhitespaceControl.prototype.PartialBlockStatement=function(block){this.accept(block.program),this.accept(block.inverse);var program=block.program||block.inverse,inverse=block.program&&block.inverse,firstInverse=inverse,lastInverse=inverse;if(inverse&&inverse.chained)for(firstInverse=inverse.body[0].program;lastInverse.chained;)lastInverse=lastInverse.body[lastInverse.body.length-1].program;var strip={open:block.openStrip.open,close:block.closeStrip.close,openStandalone:isNextWhitespace(program.body),closeStandalone:isPrevWhitespace((firstInverse||program).body)};if(block.openStrip.close&&omitRight(program.body,null,!0),inverse){var inverseStrip=block.inverseStrip;inverseStrip.open&&omitLeft(program.body,null,!0),inverseStrip.close&&omitRight(firstInverse.body,null,!0),block.closeStrip.open&&omitLeft(lastInverse.body,null,!0),!this.options.ignoreStandalone&&isPrevWhitespace(program.body)&&isNextWhitespace(firstInverse.body)&&(omitLeft(program.body),omitRight(firstInverse.body))}else block.closeStrip.open&&omitLeft(program.body,null,!0);return strip},WhitespaceControl.prototype.Decorator=WhitespaceControl.prototype.MustacheStatement=function(mustache){return mustache.strip},WhitespaceControl.prototype.PartialStatement=WhitespaceControl.prototype.CommentStatement=function(node){var strip=node.strip||{};return{inlineStandalone:!0,open:strip.open,close:strip.close}},exports["default"]=WhitespaceControl,module.exports=exports["default"]},{"./visitor":218}],220:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function registerDefaultDecorators(instance){_decoratorsInline2["default"](instance)}exports.__esModule=!0,exports.registerDefaultDecorators=registerDefaultDecorators;var _decoratorsInline=require("./decorators/inline"),_decoratorsInline2=_interopRequireDefault(_decoratorsInline)},{"./decorators/inline":221}],221:[function(require,module,exports){"use strict";exports.__esModule=!0;var _utils=require("../utils");exports["default"]=function(instance){instance.registerDecorator("inline",function(fn,props,container,options){var ret=fn;return props.partials||(props.partials={},ret=function(context,options){var original=container.partials;container.partials=_utils.extend({},original,props.partials);var ret=fn(context,options);return container.partials=original,ret}),props.partials[options.args[0]]=options.fn,ret})},module.exports=exports["default"]},{"../utils":235}],222:[function(require,module,exports){"use strict";function Exception(message,node){var loc=node&&node.loc,line=void 0,column=void 0;loc&&(line=loc.start.line,column=loc.start.column,message+=" - "+line+":"+column);for(var tmp=Error.prototype.constructor.call(this,message),idx=0;idx<errorProps.length;idx++)this[errorProps[idx]]=tmp[errorProps[idx]];Error.captureStackTrace&&Error.captureStackTrace(this,Exception),loc&&(this.lineNumber=line,this.column=column)}exports.__esModule=!0;var errorProps=["description","fileName","lineNumber","message","name","number","stack"];Exception.prototype=new Error,exports["default"]=Exception,module.exports=exports["default"]},{}],223:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function registerDefaultHelpers(instance){_helpersBlockHelperMissing2["default"](instance),_helpersEach2["default"](instance),_helpersHelperMissing2["default"](instance),_helpersIf2["default"](instance),_helpersLog2["default"](instance),_helpersLookup2["default"](instance),_helpersWith2["default"](instance)}exports.__esModule=!0,exports.registerDefaultHelpers=registerDefaultHelpers;var _helpersBlockHelperMissing=require("./helpers/block-helper-missing"),_helpersBlockHelperMissing2=_interopRequireDefault(_helpersBlockHelperMissing),_helpersEach=require("./helpers/each"),_helpersEach2=_interopRequireDefault(_helpersEach),_helpersHelperMissing=require("./helpers/helper-missing"),_helpersHelperMissing2=_interopRequireDefault(_helpersHelperMissing),_helpersIf=require("./helpers/if"),_helpersIf2=_interopRequireDefault(_helpersIf),_helpersLog=require("./helpers/log"),_helpersLog2=_interopRequireDefault(_helpersLog),_helpersLookup=require("./helpers/lookup"),_helpersLookup2=_interopRequireDefault(_helpersLookup),_helpersWith=require("./helpers/with"),_helpersWith2=_interopRequireDefault(_helpersWith)},{"./helpers/block-helper-missing":224,"./helpers/each":225,"./helpers/helper-missing":226,"./helpers/if":227,"./helpers/log":228,"./helpers/lookup":229,"./helpers/with":230}],224:[function(require,module,exports){"use strict";exports.__esModule=!0;var _utils=require("../utils");exports["default"]=function(instance){instance.registerHelper("blockHelperMissing",function(context,options){
var inverse=options.inverse,fn=options.fn;if(context===!0)return fn(this);if(context===!1||null==context)return inverse(this);if(_utils.isArray(context))return context.length>0?(options.ids&&(options.ids=[options.name]),instance.helpers.each(context,options)):inverse(this);if(options.data&&options.ids){var data=_utils.createFrame(options.data);data.contextPath=_utils.appendContextPath(options.data.contextPath,options.name),options={data:data}}return fn(context,options)})},module.exports=exports["default"]},{"../utils":235}],225:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.__esModule=!0;var _utils=require("../utils"),_exception=require("../exception"),_exception2=_interopRequireDefault(_exception);exports["default"]=function(instance){instance.registerHelper("each",function(context,options){function execIteration(field,index,last){data&&(data.key=field,data.index=index,data.first=0===index,data.last=!!last,contextPath&&(data.contextPath=contextPath+field)),ret+=fn(context[field],{data:data,blockParams:_utils.blockParams([context[field],field],[contextPath+field,null])})}if(!options)throw new _exception2["default"]("Must pass iterator to #each");var fn=options.fn,inverse=options.inverse,i=0,ret="",data=void 0,contextPath=void 0;if(options.data&&options.ids&&(contextPath=_utils.appendContextPath(options.data.contextPath,options.ids[0])+"."),_utils.isFunction(context)&&(context=context.call(this)),options.data&&(data=_utils.createFrame(options.data)),context&&"object"==typeof context)if(_utils.isArray(context))for(var j=context.length;j>i;i++)i in context&&execIteration(i,i,i===context.length-1);else{var priorKey=void 0;for(var key in context)context.hasOwnProperty(key)&&(void 0!==priorKey&&execIteration(priorKey,i-1),priorKey=key,i++);void 0!==priorKey&&execIteration(priorKey,i-1,!0)}return 0===i&&(ret=inverse(this)),ret})},module.exports=exports["default"]},{"../exception":222,"../utils":235}],226:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.__esModule=!0;var _exception=require("../exception"),_exception2=_interopRequireDefault(_exception);exports["default"]=function(instance){instance.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new _exception2["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"')})},module.exports=exports["default"]},{"../exception":222}],227:[function(require,module,exports){"use strict";exports.__esModule=!0;var _utils=require("../utils");exports["default"]=function(instance){instance.registerHelper("if",function(conditional,options){return _utils.isFunction(conditional)&&(conditional=conditional.call(this)),!options.hash.includeZero&&!conditional||_utils.isEmpty(conditional)?options.inverse(this):options.fn(this)}),instance.registerHelper("unless",function(conditional,options){return instance.helpers["if"].call(this,conditional,{fn:options.inverse,inverse:options.fn,hash:options.hash})})},module.exports=exports["default"]},{"../utils":235}],228:[function(require,module,exports){"use strict";exports.__esModule=!0,exports["default"]=function(instance){instance.registerHelper("log",function(){for(var args=[void 0],options=arguments[arguments.length-1],i=0;i<arguments.length-1;i++)args.push(arguments[i]);var level=1;null!=options.hash.level?level=options.hash.level:options.data&&null!=options.data.level&&(level=options.data.level),args[0]=level,instance.log.apply(instance,args)})},module.exports=exports["default"]},{}],229:[function(require,module,exports){"use strict";exports.__esModule=!0,exports["default"]=function(instance){instance.registerHelper("lookup",function(obj,field){return obj&&obj[field]})},module.exports=exports["default"]},{}],230:[function(require,module,exports){"use strict";exports.__esModule=!0;var _utils=require("../utils");exports["default"]=function(instance){instance.registerHelper("with",function(context,options){_utils.isFunction(context)&&(context=context.call(this));var fn=options.fn;if(_utils.isEmpty(context))return options.inverse(this);var data=options.data;return options.data&&options.ids&&(data=_utils.createFrame(options.data),data.contextPath=_utils.appendContextPath(options.data.contextPath,options.ids[0])),fn(context,{data:data,blockParams:_utils.blockParams([context],[data&&data.contextPath])})})},module.exports=exports["default"]},{"../utils":235}],231:[function(require,module,exports){"use strict";exports.__esModule=!0;var _utils=require("./utils"),logger={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(level){if("string"==typeof level){var levelMap=_utils.indexOf(logger.methodMap,level.toLowerCase());level=levelMap>=0?levelMap:parseInt(level,10)}return level},log:function(level){if(level=logger.lookupLevel(level),"undefined"!=typeof console&&logger.lookupLevel(logger.level)<=level){var method=logger.methodMap[level];console[method]||(method="log");for(var _len=arguments.length,message=Array(_len>1?_len-1:0),_key=1;_len>_key;_key++)message[_key-1]=arguments[_key];console[method].apply(console,message)}}};exports["default"]=logger,module.exports=exports["default"]},{"./utils":235}],232:[function(require,module,exports){"use strict";exports.__esModule=!0,exports["default"]=function(Handlebars){var root="undefined"!=typeof global?global:window,$Handlebars=root.Handlebars;Handlebars.noConflict=function(){root.Handlebars===Handlebars&&(root.Handlebars=$Handlebars)}},module.exports=exports["default"]},{}],233:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj["default"]=obj,newObj}function checkRevision(compilerInfo){var compilerRevision=compilerInfo&&compilerInfo[0]||1,currentRevision=_base.COMPILER_REVISION;if(compilerRevision!==currentRevision){if(currentRevision>compilerRevision){var runtimeVersions=_base.REVISION_CHANGES[currentRevision],compilerVersions=_base.REVISION_CHANGES[compilerRevision];throw new _exception2["default"]("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+runtimeVersions+") or downgrade your runtime to an older version ("+compilerVersions+").")}throw new _exception2["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+compilerInfo[1]+").")}}function template(templateSpec,env){function invokePartialWrapper(partial,context,options){options.hash&&(context=Utils.extend({},context,options.hash),options.ids&&(options.ids[0]=!0)),partial=env.VM.resolvePartial.call(this,partial,context,options);var result=env.VM.invokePartial.call(this,partial,context,options);if(null==result&&env.compile&&(options.partials[options.name]=env.compile(partial,templateSpec.compilerOptions,env),result=options.partials[options.name](context,options)),null!=result){if(options.indent){for(var lines=result.split("\n"),i=0,l=lines.length;l>i&&(lines[i]||i+1!==l);i++)lines[i]=options.indent+lines[i];result=lines.join("\n")}return result}throw new _exception2["default"]("The partial "+options.name+" could not be compiled when running in runtime-only mode")}function ret(context){function main(context){return""+templateSpec.main(container,context,container.helpers,container.partials,data,blockParams,depths)}var options=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],data=options.data;ret._setup(options),!options.partial&&templateSpec.useData&&(data=initData(context,data));var depths=void 0,blockParams=templateSpec.useBlockParams?[]:void 0;return templateSpec.useDepths&&(depths=options.depths?context!==options.depths[0]?[context].concat(options.depths):options.depths:[context]),(main=executeDecorators(templateSpec.main,main,container,options.depths||[],data,blockParams))(context,options)}if(!env)throw new _exception2["default"]("No environment passed to template");if(!templateSpec||!templateSpec.main)throw new _exception2["default"]("Unknown template object: "+typeof templateSpec);templateSpec.main.decorator=templateSpec.main_d,env.VM.checkRevision(templateSpec.compiler);var container={strict:function(obj,name){if(!(name in obj))throw new _exception2["default"]('"'+name+'" not defined in '+obj);return obj[name]},lookup:function(depths,name){for(var len=depths.length,i=0;len>i;i++)if(depths[i]&&null!=depths[i][name])return depths[i][name]},lambda:function(current,context){return"function"==typeof current?current.call(context):current},escapeExpression:Utils.escapeExpression,invokePartial:invokePartialWrapper,fn:function(i){var ret=templateSpec[i];return ret.decorator=templateSpec[i+"_d"],ret},programs:[],program:function(i,data,declaredBlockParams,blockParams,depths){var programWrapper=this.programs[i],fn=this.fn(i);return data||depths||blockParams||declaredBlockParams?programWrapper=wrapProgram(this,i,fn,data,declaredBlockParams,blockParams,depths):programWrapper||(programWrapper=this.programs[i]=wrapProgram(this,i,fn)),programWrapper},data:function(value,depth){for(;value&&depth--;)value=value._parent;return value},merge:function(param,common){var obj=param||common;return param&&common&&param!==common&&(obj=Utils.extend({},common,param)),obj},noop:env.VM.noop,compilerInfo:templateSpec.compiler};return ret.isTop=!0,ret._setup=function(options){options.partial?(container.helpers=options.helpers,container.partials=options.partials,container.decorators=options.decorators):(container.helpers=container.merge(options.helpers,env.helpers),templateSpec.usePartial&&(container.partials=container.merge(options.partials,env.partials)),(templateSpec.usePartial||templateSpec.useDecorators)&&(container.decorators=container.merge(options.decorators,env.decorators)))},ret._child=function(i,data,blockParams,depths){if(templateSpec.useBlockParams&&!blockParams)throw new _exception2["default"]("must pass block params");if(templateSpec.useDepths&&!depths)throw new _exception2["default"]("must pass parent depths");return wrapProgram(container,i,templateSpec[i],data,0,blockParams,depths)},ret}function wrapProgram(container,i,fn,data,declaredBlockParams,blockParams,depths){function prog(context){var options=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],currentDepths=depths;return depths&&context!==depths[0]&&(currentDepths=[context].concat(depths)),fn(container,context,container.helpers,container.partials,options.data||data,blockParams&&[options.blockParams].concat(blockParams),currentDepths)}return prog=executeDecorators(fn,prog,container,depths,data,blockParams),prog.program=i,prog.depth=depths?depths.length:0,prog.blockParams=declaredBlockParams||0,prog}function resolvePartial(partial,context,options){return partial?partial.call||options.name||(options.name=partial,partial=options.partials[partial]):partial="@partial-block"===options.name?options.data["partial-block"]:options.partials[options.name],partial}function invokePartial(partial,context,options){options.partial=!0,options.ids&&(options.data.contextPath=options.ids[0]||options.data.contextPath);var partialBlock=void 0;if(options.fn&&options.fn!==noop&&(options.data=_base.createFrame(options.data),partialBlock=options.data["partial-block"]=options.fn,partialBlock.partials&&(options.partials=Utils.extend({},options.partials,partialBlock.partials))),void 0===partial&&partialBlock&&(partial=partialBlock),void 0===partial)throw new _exception2["default"]("The partial "+options.name+" could not be found");return partial instanceof Function?partial(context,options):void 0}function noop(){return""}function initData(context,data){return data&&"root"in data||(data=data?_base.createFrame(data):{},data.root=context),data}function executeDecorators(fn,prog,container,depths,data,blockParams){if(fn.decorator){var props={};prog=fn.decorator(prog,props,container,depths&&depths[0],data,blockParams,depths),Utils.extend(prog,props)}return prog}exports.__esModule=!0,exports.checkRevision=checkRevision,exports.template=template,exports.wrapProgram=wrapProgram,exports.resolvePartial=resolvePartial,exports.invokePartial=invokePartial,exports.noop=noop;var _utils=require("./utils"),Utils=_interopRequireWildcard(_utils),_exception=require("./exception"),_exception2=_interopRequireDefault(_exception),_base=require("./base")},{"./base":209,"./exception":222,"./utils":235}],234:[function(require,module,exports){"use strict";function SafeString(string){this.string=string}exports.__esModule=!0,SafeString.prototype.toString=SafeString.prototype.toHTML=function(){return""+this.string},exports["default"]=SafeString,module.exports=exports["default"]},{}],235:[function(require,module,exports){"use strict";function escapeChar(chr){return escape[chr]}function extend(obj){for(var i=1;i<arguments.length;i++)for(var key in arguments[i])Object.prototype.hasOwnProperty.call(arguments[i],key)&&(obj[key]=arguments[i][key]);return obj}function indexOf(array,value){for(var i=0,len=array.length;len>i;i++)if(array[i]===value)return i;return-1}function escapeExpression(string){if("string"!=typeof string){if(string&&string.toHTML)return string.toHTML();if(null==string)return"";if(!string)return string+"";string=""+string}return possible.test(string)?string.replace(badChars,escapeChar):string}function isEmpty(value){return value||0===value?!(!isArray(value)||0!==value.length):!0}function createFrame(object){var frame=extend({},object);return frame._parent=object,frame}function blockParams(params,ids){return params.path=ids,params}function appendContextPath(contextPath,id){return(contextPath?contextPath+".":"")+id}exports.__esModule=!0,exports.extend=extend,exports.indexOf=indexOf,exports.escapeExpression=escapeExpression,exports.isEmpty=isEmpty,exports.createFrame=createFrame,exports.blockParams=blockParams,exports.appendContextPath=appendContextPath;var escape={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},badChars=/[&<>"'`=]/g,possible=/[&<>"'`=]/,toString=Object.prototype.toString;exports.toString=toString;var isFunction=function(value){return"function"==typeof value};isFunction(/x/)&&(exports.isFunction=isFunction=function(value){return"function"==typeof value&&"[object Function]"===toString.call(value)}),exports.isFunction=isFunction;var isArray=Array.isArray||function(value){return value&&"object"==typeof value?"[object Array]"===toString.call(value):!1};exports.isArray=isArray},{}],236:[function(require,module,exports){function extension(module,filename){var fs=require("fs"),templateString=fs.readFileSync(filename,"utf8");module.exports=handlebars.compile(templateString)}var handlebars=require("../dist/cjs/handlebars")["default"],printer=require("../dist/cjs/handlebars/compiler/printer");handlebars.PrintVisitor=printer.PrintVisitor,handlebars.print=printer.print,module.exports=handlebars,"undefined"!=typeof require&&require.extensions&&(require.extensions[".handlebars"]=extension,require.extensions[".hbs"]=extension)},{"../dist/cjs/handlebars":207,"../dist/cjs/handlebars/compiler/printer":217,fs:void 0}],237:[function(require,module,exports){exports.SourceMapGenerator=require("./source-map/source-map-generator").SourceMapGenerator,exports.SourceMapConsumer=require("./source-map/source-map-consumer").SourceMapConsumer,exports.SourceNode=require("./source-map/source-node").SourceNode},{"./source-map/source-map-consumer":244,"./source-map/source-map-generator":245,"./source-map/source-node":246}],238:[function(require,module,exports){if("function"!=typeof define)var define=require("amdefine")(module,require);define(function(require,exports,module){function ArraySet(){this._array=[],this._set={}}var util=require("./util");ArraySet.fromArray=function(aArray,aAllowDuplicates){for(var set=new ArraySet,i=0,len=aArray.length;len>i;i++)set.add(aArray[i],aAllowDuplicates);return set},ArraySet.prototype.size=function(){return Object.getOwnPropertyNames(this._set).length},ArraySet.prototype.add=function(aStr,aAllowDuplicates){var isDuplicate=this.has(aStr),idx=this._array.length;isDuplicate&&!aAllowDuplicates||this._array.push(aStr),isDuplicate||(this._set[util.toSetString(aStr)]=idx)},ArraySet.prototype.has=function(aStr){return Object.prototype.hasOwnProperty.call(this._set,util.toSetString(aStr))},ArraySet.prototype.indexOf=function(aStr){if(this.has(aStr))return this._set[util.toSetString(aStr)];throw new Error('"'+aStr+'" is not in the set.')},ArraySet.prototype.at=function(aIdx){if(aIdx>=0&&aIdx<this._array.length)return this._array[aIdx];throw new Error("No element indexed by "+aIdx)},ArraySet.prototype.toArray=function(){return this._array.slice()},exports.ArraySet=ArraySet})},{"./util":247,amdefine:248}],239:[function(require,module,exports){if("function"!=typeof define)var define=require("amdefine")(module,require);define(function(require,exports,module){function toVLQSigned(aValue){return 0>aValue?(-aValue<<1)+1:(aValue<<1)+0}function fromVLQSigned(aValue){var isNegative=1===(1&aValue),shifted=aValue>>1;return isNegative?-shifted:shifted}var base64=require("./base64"),VLQ_BASE_SHIFT=5,VLQ_BASE=1<<VLQ_BASE_SHIFT,VLQ_BASE_MASK=VLQ_BASE-1,VLQ_CONTINUATION_BIT=VLQ_BASE;exports.encode=function(aValue){var digit,encoded="",vlq=toVLQSigned(aValue);do digit=vlq&VLQ_BASE_MASK,vlq>>>=VLQ_BASE_SHIFT,vlq>0&&(digit|=VLQ_CONTINUATION_BIT),encoded+=base64.encode(digit);while(vlq>0);return encoded},exports.decode=function(aStr,aIndex,aOutParam){var continuation,digit,strLen=aStr.length,result=0,shift=0;do{if(aIndex>=strLen)throw new Error("Expected more digits in base 64 VLQ value.");if(digit=base64.decode(aStr.charCodeAt(aIndex++)),-1===digit)throw new Error("Invalid base64 digit: "+aStr.charAt(aIndex-1));continuation=!!(digit&VLQ_CONTINUATION_BIT),digit&=VLQ_BASE_MASK,result+=digit<<shift,shift+=VLQ_BASE_SHIFT}while(continuation);aOutParam.value=fromVLQSigned(result),aOutParam.rest=aIndex}})},{"./base64":240,amdefine:248}],240:[function(require,module,exports){if("function"!=typeof define)var define=require("amdefine")(module,require);define(function(require,exports,module){var intToCharMap="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");exports.encode=function(number){if(number>=0&&number<intToCharMap.length)return intToCharMap[number];throw new TypeError("Must be between 0 and 63: "+aNumber)},exports.decode=function(charCode){var bigA=65,bigZ=90,littleA=97,littleZ=122,zero=48,nine=57,plus=43,slash=47,littleOffset=26,numberOffset=52;return charCode>=bigA&&bigZ>=charCode?charCode-bigA:charCode>=littleA&&littleZ>=charCode?charCode-littleA+littleOffset:charCode>=zero&&nine>=charCode?charCode-zero+numberOffset:charCode==plus?62:charCode==slash?63:-1}})},{amdefine:248}],241:[function(require,module,exports){if("function"!=typeof define)var define=require("amdefine")(module,require);define(function(require,exports,module){function recursiveSearch(aLow,aHigh,aNeedle,aHaystack,aCompare,aBias){var mid=Math.floor((aHigh-aLow)/2)+aLow,cmp=aCompare(aNeedle,aHaystack[mid],!0);return 0===cmp?mid:cmp>0?aHigh-mid>1?recursiveSearch(mid,aHigh,aNeedle,aHaystack,aCompare,aBias):aBias==exports.LEAST_UPPER_BOUND?aHigh<aHaystack.length?aHigh:-1:mid:mid-aLow>1?recursiveSearch(aLow,mid,aNeedle,aHaystack,aCompare,aBias):aBias==exports.LEAST_UPPER_BOUND?mid:0>aLow?-1:aLow}exports.GREATEST_LOWER_BOUND=1,exports.LEAST_UPPER_BOUND=2,exports.search=function(aNeedle,aHaystack,aCompare,aBias){if(0===aHaystack.length)return-1;var index=recursiveSearch(-1,aHaystack.length,aNeedle,aHaystack,aCompare,aBias||exports.GREATEST_LOWER_BOUND);if(0>index)return-1;for(;index-1>=0&&0===aCompare(aHaystack[index],aHaystack[index-1],!0);)--index;return index}})},{amdefine:248}],242:[function(require,module,exports){if("function"!=typeof define)var define=require("amdefine")(module,require);define(function(require,exports,module){function generatedPositionAfter(mappingA,mappingB){var lineA=mappingA.generatedLine,lineB=mappingB.generatedLine,columnA=mappingA.generatedColumn,columnB=mappingB.generatedColumn;return lineB>lineA||lineB==lineA&&columnB>=columnA||util.compareByGeneratedPositionsInflated(mappingA,mappingB)<=0}function MappingList(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}var util=require("./util");MappingList.prototype.unsortedForEach=function(aCallback,aThisArg){this._array.forEach(aCallback,aThisArg)},MappingList.prototype.add=function(aMapping){generatedPositionAfter(this._last,aMapping)?(this._last=aMapping,this._array.push(aMapping)):(this._sorted=!1,this._array.push(aMapping))},MappingList.prototype.toArray=function(){return this._sorted||(this._array.sort(util.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},exports.MappingList=MappingList})},{"./util":247,amdefine:248}],243:[function(require,module,exports){if("function"!=typeof define)var define=require("amdefine")(module,require);define(function(require,exports,module){function swap(ary,x,y){var temp=ary[x];ary[x]=ary[y],ary[y]=temp}function randomIntInRange(low,high){return Math.round(low+Math.random()*(high-low))}function doQuickSort(ary,comparator,p,r){if(r>p){var pivotIndex=randomIntInRange(p,r),i=p-1;swap(ary,pivotIndex,r);for(var pivot=ary[r],j=p;r>j;j++)comparator(ary[j],pivot)<=0&&(i+=1,swap(ary,i,j));swap(ary,i+1,j);var q=i+1;doQuickSort(ary,comparator,p,q-1),doQuickSort(ary,comparator,q+1,r)}}exports.quickSort=function(ary,comparator){doQuickSort(ary,comparator,0,ary.length-1)}})},{amdefine:248}],244:[function(require,module,exports){if("function"!=typeof define)var define=require("amdefine")(module,require);define(function(require,exports,module){function SourceMapConsumer(aSourceMap){var sourceMap=aSourceMap;return"string"==typeof aSourceMap&&(sourceMap=JSON.parse(aSourceMap.replace(/^\)\]\}'/,""))),null!=sourceMap.sections?new IndexedSourceMapConsumer(sourceMap):new BasicSourceMapConsumer(sourceMap)}function BasicSourceMapConsumer(aSourceMap){var sourceMap=aSourceMap;"string"==typeof aSourceMap&&(sourceMap=JSON.parse(aSourceMap.replace(/^\)\]\}'/,"")));var version=util.getArg(sourceMap,"version"),sources=util.getArg(sourceMap,"sources"),names=util.getArg(sourceMap,"names",[]),sourceRoot=util.getArg(sourceMap,"sourceRoot",null),sourcesContent=util.getArg(sourceMap,"sourcesContent",null),mappings=util.getArg(sourceMap,"mappings"),file=util.getArg(sourceMap,"file",null);if(version!=this._version)throw new Error("Unsupported version: "+version);sources=sources.map(util.normalize),this._names=ArraySet.fromArray(names,!0),this._sources=ArraySet.fromArray(sources,!0),this.sourceRoot=sourceRoot,this.sourcesContent=sourcesContent,this._mappings=mappings,this.file=file}function Mapping(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}function IndexedSourceMapConsumer(aSourceMap){var sourceMap=aSourceMap;"string"==typeof aSourceMap&&(sourceMap=JSON.parse(aSourceMap.replace(/^\)\]\}'/,"")));var version=util.getArg(sourceMap,"version"),sections=util.getArg(sourceMap,"sections");if(version!=this._version)throw new Error("Unsupported version: "+version);this._sources=new ArraySet,this._names=new ArraySet;var lastOffset={line:-1,column:0};this._sections=sections.map(function(s){if(s.url)throw new Error("Support for url field in sections not implemented.");var offset=util.getArg(s,"offset"),offsetLine=util.getArg(offset,"line"),offsetColumn=util.getArg(offset,"column");if(offsetLine<lastOffset.line||offsetLine===lastOffset.line&&offsetColumn<lastOffset.column)throw new Error("Section offsets must be ordered and non-overlapping.");return lastOffset=offset,{generatedOffset:{generatedLine:offsetLine+1,generatedColumn:offsetColumn+1},consumer:new SourceMapConsumer(util.getArg(s,"map"))}})}var util=require("./util"),binarySearch=require("./binary-search"),ArraySet=require("./array-set").ArraySet,base64VLQ=require("./base64-vlq"),quickSort=require("./quick-sort").quickSort;SourceMapConsumer.fromSourceMap=function(aSourceMap){return BasicSourceMapConsumer.fromSourceMap(aSourceMap)},SourceMapConsumer.prototype._version=3,SourceMapConsumer.prototype.__generatedMappings=null,Object.defineProperty(SourceMapConsumer.prototype,"_generatedMappings",{get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),SourceMapConsumer.prototype.__originalMappings=null,Object.defineProperty(SourceMapConsumer.prototype,"_originalMappings",{get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),SourceMapConsumer.prototype._charIsMappingSeparator=function(aStr,index){var c=aStr.charAt(index);return";"===c||","===c},SourceMapConsumer.prototype._parseMappings=function(aStr,aSourceRoot){throw new Error("Subclasses must implement _parseMappings")},SourceMapConsumer.GENERATED_ORDER=1,SourceMapConsumer.ORIGINAL_ORDER=2,SourceMapConsumer.GREATEST_LOWER_BOUND=1,SourceMapConsumer.LEAST_UPPER_BOUND=2,SourceMapConsumer.prototype.eachMapping=function(aCallback,aContext,aOrder){var mappings,context=aContext||null,order=aOrder||SourceMapConsumer.GENERATED_ORDER;switch(order){case SourceMapConsumer.GENERATED_ORDER:mappings=this._generatedMappings;break;case SourceMapConsumer.ORIGINAL_ORDER:mappings=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var sourceRoot=this.sourceRoot;mappings.map(function(mapping){var source=null===mapping.source?null:this._sources.at(mapping.source);return null!=source&&null!=sourceRoot&&(source=util.join(sourceRoot,source)),{source:source,generatedLine:mapping.generatedLine,generatedColumn:mapping.generatedColumn,originalLine:mapping.originalLine,originalColumn:mapping.originalColumn,name:null===mapping.name?null:this._names.at(mapping.name)}},this).forEach(aCallback,context)},SourceMapConsumer.prototype.allGeneratedPositionsFor=function(aArgs){var line=util.getArg(aArgs,"line"),needle={source:util.getArg(aArgs,"source"),originalLine:line,originalColumn:util.getArg(aArgs,"column",0)};if(null!=this.sourceRoot&&(needle.source=util.relative(this.sourceRoot,needle.source)),!this._sources.has(needle.source))return[];needle.source=this._sources.indexOf(needle.source);var mappings=[],index=this._findMapping(needle,this._originalMappings,"originalLine","originalColumn",util.compareByOriginalPositions,binarySearch.LEAST_UPPER_BOUND);if(index>=0){var mapping=this._originalMappings[index];if(void 0===aArgs.column)for(var originalLine=mapping.originalLine;mapping&&mapping.originalLine===originalLine;)mappings.push({line:util.getArg(mapping,"generatedLine",null),column:util.getArg(mapping,"generatedColumn",null),lastColumn:util.getArg(mapping,"lastGeneratedColumn",null)}),mapping=this._originalMappings[++index];else for(var originalColumn=mapping.originalColumn;mapping&&mapping.originalLine===line&&mapping.originalColumn==originalColumn;)mappings.push({line:util.getArg(mapping,"generatedLine",null),column:util.getArg(mapping,"generatedColumn",null),lastColumn:util.getArg(mapping,"lastGeneratedColumn",null)}),mapping=this._originalMappings[++index]}return mappings},exports.SourceMapConsumer=SourceMapConsumer,BasicSourceMapConsumer.prototype=Object.create(SourceMapConsumer.prototype),BasicSourceMapConsumer.prototype.consumer=SourceMapConsumer,BasicSourceMapConsumer.fromSourceMap=function(aSourceMap){var smc=Object.create(BasicSourceMapConsumer.prototype),names=smc._names=ArraySet.fromArray(aSourceMap._names.toArray(),!0),sources=smc._sources=ArraySet.fromArray(aSourceMap._sources.toArray(),!0);smc.sourceRoot=aSourceMap._sourceRoot,smc.sourcesContent=aSourceMap._generateSourcesContent(smc._sources.toArray(),smc.sourceRoot),smc.file=aSourceMap._file;for(var generatedMappings=aSourceMap._mappings.toArray().slice(),destGeneratedMappings=smc.__generatedMappings=[],destOriginalMappings=smc.__originalMappings=[],i=0,length=generatedMappings.length;length>i;i++){var srcMapping=generatedMappings[i],destMapping=new Mapping;destMapping.generatedLine=srcMapping.generatedLine,destMapping.generatedColumn=srcMapping.generatedColumn,srcMapping.source&&(destMapping.source=sources.indexOf(srcMapping.source),destMapping.originalLine=srcMapping.originalLine,destMapping.originalColumn=srcMapping.originalColumn,srcMapping.name&&(destMapping.name=names.indexOf(srcMapping.name)),destOriginalMappings.push(destMapping)),destGeneratedMappings.push(destMapping)}return quickSort(smc.__originalMappings,util.compareByOriginalPositions),smc},BasicSourceMapConsumer.prototype._version=3,Object.defineProperty(BasicSourceMapConsumer.prototype,"sources",{get:function(){return this._sources.toArray().map(function(s){return null!=this.sourceRoot?util.join(this.sourceRoot,s):s},this)}}),BasicSourceMapConsumer.prototype._parseMappings=function(aStr,aSourceRoot){for(var mapping,str,segment,end,value,generatedLine=1,previousGeneratedColumn=0,previousOriginalLine=0,previousOriginalColumn=0,previousSource=0,previousName=0,length=aStr.length,index=0,cachedSegments={},temp={},originalMappings=[],generatedMappings=[];length>index;)if(";"===aStr.charAt(index))generatedLine++,index++,previousGeneratedColumn=0;else if(","===aStr.charAt(index))index++;else{for(mapping=new Mapping,mapping.generatedLine=generatedLine,end=index;length>end&&!this._charIsMappingSeparator(aStr,end);end++);if(str=aStr.slice(index,end),segment=cachedSegments[str])index+=str.length;else{for(segment=[];end>index;)base64VLQ.decode(aStr,index,temp),value=temp.value,index=temp.rest,segment.push(value);if(2===segment.length)throw new Error("Found a source, but no line and column");if(3===segment.length)throw new Error("Found a source and line, but no column");cachedSegments[str]=segment}mapping.generatedColumn=previousGeneratedColumn+segment[0],previousGeneratedColumn=mapping.generatedColumn,segment.length>1&&(mapping.source=previousSource+segment[1],previousSource+=segment[1],mapping.originalLine=previousOriginalLine+segment[2],previousOriginalLine=mapping.originalLine,mapping.originalLine+=1,mapping.originalColumn=previousOriginalColumn+segment[3],previousOriginalColumn=mapping.originalColumn,segment.length>4&&(mapping.name=previousName+segment[4],previousName+=segment[4])),generatedMappings.push(mapping),"number"==typeof mapping.originalLine&&originalMappings.push(mapping)}quickSort(generatedMappings,util.compareByGeneratedPositionsDeflated),this.__generatedMappings=generatedMappings,quickSort(originalMappings,util.compareByOriginalPositions),this.__originalMappings=originalMappings},BasicSourceMapConsumer.prototype._findMapping=function(aNeedle,aMappings,aLineName,aColumnName,aComparator,aBias){if(aNeedle[aLineName]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+aNeedle[aLineName]);if(aNeedle[aColumnName]<0)throw new TypeError("Column must be greater than or equal to 0, got "+aNeedle[aColumnName]);return binarySearch.search(aNeedle,aMappings,aComparator,aBias)},BasicSourceMapConsumer.prototype.computeColumnSpans=function(){for(var index=0;index<this._generatedMappings.length;++index){var mapping=this._generatedMappings[index];if(index+1<this._generatedMappings.length){var nextMapping=this._generatedMappings[index+1];if(mapping.generatedLine===nextMapping.generatedLine){mapping.lastGeneratedColumn=nextMapping.generatedColumn-1;continue}}mapping.lastGeneratedColumn=1/0}},BasicSourceMapConsumer.prototype.originalPositionFor=function(aArgs){var needle={generatedLine:util.getArg(aArgs,"line"),generatedColumn:util.getArg(aArgs,"column")},index=this._findMapping(needle,this._generatedMappings,"generatedLine","generatedColumn",util.compareByGeneratedPositionsDeflated,util.getArg(aArgs,"bias",SourceMapConsumer.GREATEST_LOWER_BOUND));
if(index>=0){var mapping=this._generatedMappings[index];if(mapping.generatedLine===needle.generatedLine){var source=util.getArg(mapping,"source",null);null!==source&&(source=this._sources.at(source),null!=this.sourceRoot&&(source=util.join(this.sourceRoot,source)));var name=util.getArg(mapping,"name",null);return null!==name&&(name=this._names.at(name)),{source:source,line:util.getArg(mapping,"originalLine",null),column:util.getArg(mapping,"originalColumn",null),name:name}}}return{source:null,line:null,column:null,name:null}},BasicSourceMapConsumer.prototype.hasContentsOfAllSources=function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(sc){return null==sc}):!1},BasicSourceMapConsumer.prototype.sourceContentFor=function(aSource,nullOnMissing){if(!this.sourcesContent)return null;if(null!=this.sourceRoot&&(aSource=util.relative(this.sourceRoot,aSource)),this._sources.has(aSource))return this.sourcesContent[this._sources.indexOf(aSource)];var url;if(null!=this.sourceRoot&&(url=util.urlParse(this.sourceRoot))){var fileUriAbsPath=aSource.replace(/^file:\/\//,"");if("file"==url.scheme&&this._sources.has(fileUriAbsPath))return this.sourcesContent[this._sources.indexOf(fileUriAbsPath)];if((!url.path||"/"==url.path)&&this._sources.has("/"+aSource))return this.sourcesContent[this._sources.indexOf("/"+aSource)]}if(nullOnMissing)return null;throw new Error('"'+aSource+'" is not in the SourceMap.')},BasicSourceMapConsumer.prototype.generatedPositionFor=function(aArgs){var source=util.getArg(aArgs,"source");if(null!=this.sourceRoot&&(source=util.relative(this.sourceRoot,source)),!this._sources.has(source))return{line:null,column:null,lastColumn:null};source=this._sources.indexOf(source);var needle={source:source,originalLine:util.getArg(aArgs,"line"),originalColumn:util.getArg(aArgs,"column")},index=this._findMapping(needle,this._originalMappings,"originalLine","originalColumn",util.compareByOriginalPositions,util.getArg(aArgs,"bias",SourceMapConsumer.GREATEST_LOWER_BOUND));if(index>=0){var mapping=this._originalMappings[index];if(mapping.source===needle.source)return{line:util.getArg(mapping,"generatedLine",null),column:util.getArg(mapping,"generatedColumn",null),lastColumn:util.getArg(mapping,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},exports.BasicSourceMapConsumer=BasicSourceMapConsumer,IndexedSourceMapConsumer.prototype=Object.create(SourceMapConsumer.prototype),IndexedSourceMapConsumer.prototype.constructor=SourceMapConsumer,IndexedSourceMapConsumer.prototype._version=3,Object.defineProperty(IndexedSourceMapConsumer.prototype,"sources",{get:function(){for(var sources=[],i=0;i<this._sections.length;i++)for(var j=0;j<this._sections[i].consumer.sources.length;j++)sources.push(this._sections[i].consumer.sources[j]);return sources}}),IndexedSourceMapConsumer.prototype.originalPositionFor=function(aArgs){var needle={generatedLine:util.getArg(aArgs,"line"),generatedColumn:util.getArg(aArgs,"column")},sectionIndex=binarySearch.search(needle,this._sections,function(needle,section){var cmp=needle.generatedLine-section.generatedOffset.generatedLine;return cmp?cmp:needle.generatedColumn-section.generatedOffset.generatedColumn}),section=this._sections[sectionIndex];return section?section.consumer.originalPositionFor({line:needle.generatedLine-(section.generatedOffset.generatedLine-1),column:needle.generatedColumn-(section.generatedOffset.generatedLine===needle.generatedLine?section.generatedOffset.generatedColumn-1:0),bias:aArgs.bias}):{source:null,line:null,column:null,name:null}},IndexedSourceMapConsumer.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(s){return s.consumer.hasContentsOfAllSources()})},IndexedSourceMapConsumer.prototype.sourceContentFor=function(aSource,nullOnMissing){for(var i=0;i<this._sections.length;i++){var section=this._sections[i],content=section.consumer.sourceContentFor(aSource,!0);if(content)return content}if(nullOnMissing)return null;throw new Error('"'+aSource+'" is not in the SourceMap.')},IndexedSourceMapConsumer.prototype.generatedPositionFor=function(aArgs){for(var i=0;i<this._sections.length;i++){var section=this._sections[i];if(-1!==section.consumer.sources.indexOf(util.getArg(aArgs,"source"))){var generatedPosition=section.consumer.generatedPositionFor(aArgs);if(generatedPosition){var ret={line:generatedPosition.line+(section.generatedOffset.generatedLine-1),column:generatedPosition.column+(section.generatedOffset.generatedLine===generatedPosition.line?section.generatedOffset.generatedColumn-1:0)};return ret}}}return{line:null,column:null}},IndexedSourceMapConsumer.prototype._parseMappings=function(aStr,aSourceRoot){this.__generatedMappings=[],this.__originalMappings=[];for(var i=0;i<this._sections.length;i++)for(var section=this._sections[i],sectionMappings=section.consumer._generatedMappings,j=0;j<sectionMappings.length;j++){var mapping=sectionMappings[i],source=section.consumer._sources.at(mapping.source);null!==section.consumer.sourceRoot&&(source=util.join(section.consumer.sourceRoot,source)),this._sources.add(source),source=this._sources.indexOf(source);var name=section.consumer._names.at(mapping.name);this._names.add(name),name=this._names.indexOf(name);var adjustedMapping={source:source,generatedLine:mapping.generatedLine+(section.generatedOffset.generatedLine-1),generatedColumn:mapping.column+(section.generatedOffset.generatedLine===mapping.generatedLine)?section.generatedOffset.generatedColumn-1:0,originalLine:mapping.originalLine,originalColumn:mapping.originalColumn,name:name};this.__generatedMappings.push(adjustedMapping),"number"==typeof adjustedMapping.originalLine&&this.__originalMappings.push(adjustedMapping)}quickSort(this.__generatedMappings,util.compareByGeneratedPositionsDeflated),quickSort(this.__originalMappings,util.compareByOriginalPositions)},exports.IndexedSourceMapConsumer=IndexedSourceMapConsumer})},{"./array-set":238,"./base64-vlq":239,"./binary-search":241,"./quick-sort":243,"./util":247,amdefine:248}],245:[function(require,module,exports){if("function"!=typeof define)var define=require("amdefine")(module,require);define(function(require,exports,module){function SourceMapGenerator(aArgs){aArgs||(aArgs={}),this._file=util.getArg(aArgs,"file",null),this._sourceRoot=util.getArg(aArgs,"sourceRoot",null),this._skipValidation=util.getArg(aArgs,"skipValidation",!1),this._sources=new ArraySet,this._names=new ArraySet,this._mappings=new MappingList,this._sourcesContents=null}var base64VLQ=require("./base64-vlq"),util=require("./util"),ArraySet=require("./array-set").ArraySet,MappingList=require("./mapping-list").MappingList;SourceMapGenerator.prototype._version=3,SourceMapGenerator.fromSourceMap=function(aSourceMapConsumer){var sourceRoot=aSourceMapConsumer.sourceRoot,generator=new SourceMapGenerator({file:aSourceMapConsumer.file,sourceRoot:sourceRoot});return aSourceMapConsumer.eachMapping(function(mapping){var newMapping={generated:{line:mapping.generatedLine,column:mapping.generatedColumn}};null!=mapping.source&&(newMapping.source=mapping.source,null!=sourceRoot&&(newMapping.source=util.relative(sourceRoot,newMapping.source)),newMapping.original={line:mapping.originalLine,column:mapping.originalColumn},null!=mapping.name&&(newMapping.name=mapping.name)),generator.addMapping(newMapping)}),aSourceMapConsumer.sources.forEach(function(sourceFile){var content=aSourceMapConsumer.sourceContentFor(sourceFile);null!=content&&generator.setSourceContent(sourceFile,content)}),generator},SourceMapGenerator.prototype.addMapping=function(aArgs){var generated=util.getArg(aArgs,"generated"),original=util.getArg(aArgs,"original",null),source=util.getArg(aArgs,"source",null),name=util.getArg(aArgs,"name",null);this._skipValidation||this._validateMapping(generated,original,source,name),null==source||this._sources.has(source)||this._sources.add(source),null==name||this._names.has(name)||this._names.add(name),this._mappings.add({generatedLine:generated.line,generatedColumn:generated.column,originalLine:null!=original&&original.line,originalColumn:null!=original&&original.column,source:source,name:name})},SourceMapGenerator.prototype.setSourceContent=function(aSourceFile,aSourceContent){var source=aSourceFile;null!=this._sourceRoot&&(source=util.relative(this._sourceRoot,source)),null!=aSourceContent?(this._sourcesContents||(this._sourcesContents={}),this._sourcesContents[util.toSetString(source)]=aSourceContent):this._sourcesContents&&(delete this._sourcesContents[util.toSetString(source)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},SourceMapGenerator.prototype.applySourceMap=function(aSourceMapConsumer,aSourceFile,aSourceMapPath){var sourceFile=aSourceFile;if(null==aSourceFile){if(null==aSourceMapConsumer.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');sourceFile=aSourceMapConsumer.file}var sourceRoot=this._sourceRoot;null!=sourceRoot&&(sourceFile=util.relative(sourceRoot,sourceFile));var newSources=new ArraySet,newNames=new ArraySet;this._mappings.unsortedForEach(function(mapping){if(mapping.source===sourceFile&&null!=mapping.originalLine){var original=aSourceMapConsumer.originalPositionFor({line:mapping.originalLine,column:mapping.originalColumn});null!=original.source&&(mapping.source=original.source,null!=aSourceMapPath&&(mapping.source=util.join(aSourceMapPath,mapping.source)),null!=sourceRoot&&(mapping.source=util.relative(sourceRoot,mapping.source)),mapping.originalLine=original.line,mapping.originalColumn=original.column,null!=original.name&&(mapping.name=original.name))}var source=mapping.source;null==source||newSources.has(source)||newSources.add(source);var name=mapping.name;null==name||newNames.has(name)||newNames.add(name)},this),this._sources=newSources,this._names=newNames,aSourceMapConsumer.sources.forEach(function(sourceFile){var content=aSourceMapConsumer.sourceContentFor(sourceFile);null!=content&&(null!=aSourceMapPath&&(sourceFile=util.join(aSourceMapPath,sourceFile)),null!=sourceRoot&&(sourceFile=util.relative(sourceRoot,sourceFile)),this.setSourceContent(sourceFile,content))},this)},SourceMapGenerator.prototype._validateMapping=function(aGenerated,aOriginal,aSource,aName){if((!(aGenerated&&"line"in aGenerated&&"column"in aGenerated&&aGenerated.line>0&&aGenerated.column>=0)||aOriginal||aSource||aName)&&!(aGenerated&&"line"in aGenerated&&"column"in aGenerated&&aOriginal&&"line"in aOriginal&&"column"in aOriginal&&aGenerated.line>0&&aGenerated.column>=0&&aOriginal.line>0&&aOriginal.column>=0&&aSource))throw new Error("Invalid mapping: "+JSON.stringify({generated:aGenerated,source:aSource,original:aOriginal,name:aName}))},SourceMapGenerator.prototype._serializeMappings=function(){for(var mapping,previousGeneratedColumn=0,previousGeneratedLine=1,previousOriginalColumn=0,previousOriginalLine=0,previousName=0,previousSource=0,result="",mappings=this._mappings.toArray(),i=0,len=mappings.length;len>i;i++){if(mapping=mappings[i],mapping.generatedLine!==previousGeneratedLine)for(previousGeneratedColumn=0;mapping.generatedLine!==previousGeneratedLine;)result+=";",previousGeneratedLine++;else if(i>0){if(!util.compareByGeneratedPositionsInflated(mapping,mappings[i-1]))continue;result+=","}result+=base64VLQ.encode(mapping.generatedColumn-previousGeneratedColumn),previousGeneratedColumn=mapping.generatedColumn,null!=mapping.source&&(result+=base64VLQ.encode(this._sources.indexOf(mapping.source)-previousSource),previousSource=this._sources.indexOf(mapping.source),result+=base64VLQ.encode(mapping.originalLine-1-previousOriginalLine),previousOriginalLine=mapping.originalLine-1,result+=base64VLQ.encode(mapping.originalColumn-previousOriginalColumn),previousOriginalColumn=mapping.originalColumn,null!=mapping.name&&(result+=base64VLQ.encode(this._names.indexOf(mapping.name)-previousName),previousName=this._names.indexOf(mapping.name)))}return result},SourceMapGenerator.prototype._generateSourcesContent=function(aSources,aSourceRoot){return aSources.map(function(source){if(!this._sourcesContents)return null;null!=aSourceRoot&&(source=util.relative(aSourceRoot,source));var key=util.toSetString(source);return Object.prototype.hasOwnProperty.call(this._sourcesContents,key)?this._sourcesContents[key]:null},this)},SourceMapGenerator.prototype.toJSON=function(){var map={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(map.file=this._file),null!=this._sourceRoot&&(map.sourceRoot=this._sourceRoot),this._sourcesContents&&(map.sourcesContent=this._generateSourcesContent(map.sources,map.sourceRoot)),map},SourceMapGenerator.prototype.toString=function(){return JSON.stringify(this.toJSON())},exports.SourceMapGenerator=SourceMapGenerator})},{"./array-set":238,"./base64-vlq":239,"./mapping-list":242,"./util":247,amdefine:248}],246:[function(require,module,exports){if("function"!=typeof define)var define=require("amdefine")(module,require);define(function(require,exports,module){function SourceNode(aLine,aColumn,aSource,aChunks,aName){this.children=[],this.sourceContents={},this.line=null==aLine?null:aLine,this.column=null==aColumn?null:aColumn,this.source=null==aSource?null:aSource,this.name=null==aName?null:aName,this[isSourceNode]=!0,null!=aChunks&&this.add(aChunks)}var SourceMapGenerator=require("./source-map-generator").SourceMapGenerator,util=require("./util"),REGEX_NEWLINE=/(\r?\n)/,NEWLINE_CODE=10,isSourceNode="$$$isSourceNode$$$";SourceNode.fromStringWithSourceMap=function(aGeneratedCode,aSourceMapConsumer,aRelativePath){function addMappingWithCode(mapping,code){if(null===mapping||void 0===mapping.source)node.add(code);else{var source=aRelativePath?util.join(aRelativePath,mapping.source):mapping.source;node.add(new SourceNode(mapping.originalLine,mapping.originalColumn,source,code,mapping.name))}}var node=new SourceNode,remainingLines=aGeneratedCode.split(REGEX_NEWLINE),shiftNextLine=function(){var lineContents=remainingLines.shift(),newLine=remainingLines.shift()||"";return lineContents+newLine},lastGeneratedLine=1,lastGeneratedColumn=0,lastMapping=null;return aSourceMapConsumer.eachMapping(function(mapping){if(null!==lastMapping){if(!(lastGeneratedLine<mapping.generatedLine)){var nextLine=remainingLines[0],code=nextLine.substr(0,mapping.generatedColumn-lastGeneratedColumn);return remainingLines[0]=nextLine.substr(mapping.generatedColumn-lastGeneratedColumn),lastGeneratedColumn=mapping.generatedColumn,addMappingWithCode(lastMapping,code),void(lastMapping=mapping)}var code="";addMappingWithCode(lastMapping,shiftNextLine()),lastGeneratedLine++,lastGeneratedColumn=0}for(;lastGeneratedLine<mapping.generatedLine;)node.add(shiftNextLine()),lastGeneratedLine++;if(lastGeneratedColumn<mapping.generatedColumn){var nextLine=remainingLines[0];node.add(nextLine.substr(0,mapping.generatedColumn)),remainingLines[0]=nextLine.substr(mapping.generatedColumn),lastGeneratedColumn=mapping.generatedColumn}lastMapping=mapping},this),remainingLines.length>0&&(lastMapping&&addMappingWithCode(lastMapping,shiftNextLine()),node.add(remainingLines.join(""))),aSourceMapConsumer.sources.forEach(function(sourceFile){var content=aSourceMapConsumer.sourceContentFor(sourceFile);null!=content&&(null!=aRelativePath&&(sourceFile=util.join(aRelativePath,sourceFile)),node.setSourceContent(sourceFile,content))}),node},SourceNode.prototype.add=function(aChunk){if(Array.isArray(aChunk))aChunk.forEach(function(chunk){this.add(chunk)},this);else{if(!aChunk[isSourceNode]&&"string"!=typeof aChunk)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+aChunk);aChunk&&this.children.push(aChunk)}return this},SourceNode.prototype.prepend=function(aChunk){if(Array.isArray(aChunk))for(var i=aChunk.length-1;i>=0;i--)this.prepend(aChunk[i]);else{if(!aChunk[isSourceNode]&&"string"!=typeof aChunk)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+aChunk);this.children.unshift(aChunk)}return this},SourceNode.prototype.walk=function(aFn){for(var chunk,i=0,len=this.children.length;len>i;i++)chunk=this.children[i],chunk[isSourceNode]?chunk.walk(aFn):""!==chunk&&aFn(chunk,{source:this.source,line:this.line,column:this.column,name:this.name})},SourceNode.prototype.join=function(aSep){var newChildren,i,len=this.children.length;if(len>0){for(newChildren=[],i=0;len-1>i;i++)newChildren.push(this.children[i]),newChildren.push(aSep);newChildren.push(this.children[i]),this.children=newChildren}return this},SourceNode.prototype.replaceRight=function(aPattern,aReplacement){var lastChild=this.children[this.children.length-1];return lastChild[isSourceNode]?lastChild.replaceRight(aPattern,aReplacement):"string"==typeof lastChild?this.children[this.children.length-1]=lastChild.replace(aPattern,aReplacement):this.children.push("".replace(aPattern,aReplacement)),this},SourceNode.prototype.setSourceContent=function(aSourceFile,aSourceContent){this.sourceContents[util.toSetString(aSourceFile)]=aSourceContent},SourceNode.prototype.walkSourceContents=function(aFn){for(var i=0,len=this.children.length;len>i;i++)this.children[i][isSourceNode]&&this.children[i].walkSourceContents(aFn);for(var sources=Object.keys(this.sourceContents),i=0,len=sources.length;len>i;i++)aFn(util.fromSetString(sources[i]),this.sourceContents[sources[i]])},SourceNode.prototype.toString=function(){var str="";return this.walk(function(chunk){str+=chunk}),str},SourceNode.prototype.toStringWithSourceMap=function(aArgs){var generated={code:"",line:1,column:0},map=new SourceMapGenerator(aArgs),sourceMappingActive=!1,lastOriginalSource=null,lastOriginalLine=null,lastOriginalColumn=null,lastOriginalName=null;return this.walk(function(chunk,original){generated.code+=chunk,null!==original.source&&null!==original.line&&null!==original.column?(lastOriginalSource===original.source&&lastOriginalLine===original.line&&lastOriginalColumn===original.column&&lastOriginalName===original.name||map.addMapping({source:original.source,original:{line:original.line,column:original.column},generated:{line:generated.line,column:generated.column},name:original.name}),lastOriginalSource=original.source,lastOriginalLine=original.line,lastOriginalColumn=original.column,lastOriginalName=original.name,sourceMappingActive=!0):sourceMappingActive&&(map.addMapping({generated:{line:generated.line,column:generated.column}}),lastOriginalSource=null,sourceMappingActive=!1);for(var idx=0,length=chunk.length;length>idx;idx++)chunk.charCodeAt(idx)===NEWLINE_CODE?(generated.line++,generated.column=0,idx+1===length?(lastOriginalSource=null,sourceMappingActive=!1):sourceMappingActive&&map.addMapping({source:original.source,original:{line:original.line,column:original.column},generated:{line:generated.line,column:generated.column},name:original.name})):generated.column++}),this.walkSourceContents(function(sourceFile,sourceContent){map.setSourceContent(sourceFile,sourceContent)}),{code:generated.code,map:map}},exports.SourceNode=SourceNode})},{"./source-map-generator":245,"./util":247,amdefine:248}],247:[function(require,module,exports){if("function"!=typeof define)var define=require("amdefine")(module,require);define(function(require,exports,module){function getArg(aArgs,aName,aDefaultValue){if(aName in aArgs)return aArgs[aName];if(3===arguments.length)return aDefaultValue;throw new Error('"'+aName+'" is a required argument.')}function urlParse(aUrl){var match=aUrl.match(urlRegexp);return match?{scheme:match[1],auth:match[2],host:match[3],port:match[4],path:match[5]}:null}function urlGenerate(aParsedUrl){var url="";return aParsedUrl.scheme&&(url+=aParsedUrl.scheme+":"),url+="//",aParsedUrl.auth&&(url+=aParsedUrl.auth+"@"),aParsedUrl.host&&(url+=aParsedUrl.host),aParsedUrl.port&&(url+=":"+aParsedUrl.port),aParsedUrl.path&&(url+=aParsedUrl.path),url}function normalize(aPath){var path=aPath,url=urlParse(aPath);if(url){if(!url.path)return aPath;path=url.path}for(var part,isAbsolute="/"===path.charAt(0),parts=path.split(/\/+/),up=0,i=parts.length-1;i>=0;i--)part=parts[i],"."===part?parts.splice(i,1):".."===part?up++:up>0&&(""===part?(parts.splice(i+1,up),up=0):(parts.splice(i,2),up--));return path=parts.join("/"),""===path&&(path=isAbsolute?"/":"."),url?(url.path=path,urlGenerate(url)):path}function join(aRoot,aPath){""===aRoot&&(aRoot="."),""===aPath&&(aPath=".");var aPathUrl=urlParse(aPath),aRootUrl=urlParse(aRoot);if(aRootUrl&&(aRoot=aRootUrl.path||"/"),aPathUrl&&!aPathUrl.scheme)return aRootUrl&&(aPathUrl.scheme=aRootUrl.scheme),urlGenerate(aPathUrl);if(aPathUrl||aPath.match(dataUrlRegexp))return aPath;if(aRootUrl&&!aRootUrl.host&&!aRootUrl.path)return aRootUrl.host=aPath,urlGenerate(aRootUrl);var joined="/"===aPath.charAt(0)?aPath:normalize(aRoot.replace(/\/+$/,"")+"/"+aPath);return aRootUrl?(aRootUrl.path=joined,urlGenerate(aRootUrl)):joined}function relative(aRoot,aPath){""===aRoot&&(aRoot="."),aRoot=aRoot.replace(/\/$/,"");for(var level=0;0!==aPath.indexOf(aRoot+"/");){var index=aRoot.lastIndexOf("/");if(0>index)return aPath;if(aRoot=aRoot.slice(0,index),aRoot.match(/^([^\/]+:\/)?\/*$/))return aPath;++level}return Array(level+1).join("../")+aPath.substr(aRoot.length+1)}function toSetString(aStr){return"$"+aStr}function fromSetString(aStr){return aStr.substr(1)}function compareByOriginalPositions(mappingA,mappingB,onlyCompareOriginal){var cmp=mappingA.source-mappingB.source;return 0!==cmp?cmp:(cmp=mappingA.originalLine-mappingB.originalLine,0!==cmp?cmp:(cmp=mappingA.originalColumn-mappingB.originalColumn,0!==cmp||onlyCompareOriginal?cmp:(cmp=mappingA.generatedColumn-mappingB.generatedColumn,0!==cmp?cmp:(cmp=mappingA.generatedLine-mappingB.generatedLine,0!==cmp?cmp:mappingA.name-mappingB.name))))}function compareByGeneratedPositionsDeflated(mappingA,mappingB,onlyCompareGenerated){var cmp=mappingA.generatedLine-mappingB.generatedLine;return 0!==cmp?cmp:(cmp=mappingA.generatedColumn-mappingB.generatedColumn,0!==cmp||onlyCompareGenerated?cmp:(cmp=mappingA.source-mappingB.source,0!==cmp?cmp:(cmp=mappingA.originalLine-mappingB.originalLine,0!==cmp?cmp:(cmp=mappingA.originalColumn-mappingB.originalColumn,0!==cmp?cmp:mappingA.name-mappingB.name))))}function strcmp(aStr1,aStr2){return aStr1===aStr2?0:aStr1>aStr2?1:-1}function compareByGeneratedPositionsInflated(mappingA,mappingB){var cmp=mappingA.generatedLine-mappingB.generatedLine;return 0!==cmp?cmp:(cmp=mappingA.generatedColumn-mappingB.generatedColumn,0!==cmp?cmp:(cmp=strcmp(mappingA.source,mappingB.source),0!==cmp?cmp:(cmp=mappingA.originalLine-mappingB.originalLine,0!==cmp?cmp:(cmp=mappingA.originalColumn-mappingB.originalColumn,0!==cmp?cmp:strcmp(mappingA.name,mappingB.name)))))}exports.getArg=getArg;var urlRegexp=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.]*)(?::(\d+))?(\S*)$/,dataUrlRegexp=/^data:.+\,.+$/;exports.urlParse=urlParse,exports.urlGenerate=urlGenerate,exports.normalize=normalize,exports.join=join,exports.relative=relative,exports.toSetString=toSetString,exports.fromSetString=fromSetString,exports.compareByOriginalPositions=compareByOriginalPositions,exports.compareByGeneratedPositionsDeflated=compareByGeneratedPositionsDeflated,exports.compareByGeneratedPositionsInflated=compareByGeneratedPositionsInflated})},{amdefine:248}],248:[function(require,module,exports){(function(__filename){"use strict";function amdefine(module,requireFn){function trimDots(ary){var i,part;for(i=0;ary[i];i+=1)if(part=ary[i],"."===part)ary.splice(i,1),i-=1;else if(".."===part){if(1===i&&(".."===ary[2]||".."===ary[0]))break;i>0&&(ary.splice(i-1,2),i-=2)}}function normalize(name,baseName){var baseParts;return name&&"."===name.charAt(0)&&baseName&&(baseParts=baseName.split("/"),baseParts=baseParts.slice(0,baseParts.length-1),baseParts=baseParts.concat(name.split("/")),trimDots(baseParts),name=baseParts.join("/")),name}function makeNormalize(relName){return function(name){return normalize(name,relName)}}function makeLoad(id){function load(value){loaderCache[id]=value}return load.fromText=function(id,text){throw new Error("amdefine does not implement load.fromText")},load}function runFactory(id,deps,factory){var r,e,m,result;if(id)e=loaderCache[id]={},m={id:id,uri:__filename,exports:e},r=makeRequire(requireFn,e,m,id);else{if(alreadyCalled)throw new Error("amdefine with no module ID cannot be called more than once per file.");alreadyCalled=!0,e=module.exports,m=module,r=makeRequire(requireFn,e,m,module.id)}deps&&(deps=deps.map(function(depName){return r(depName)})),result="function"==typeof factory?factory.apply(m.exports,deps):factory,void 0!==result&&(m.exports=result,id&&(loaderCache[id]=m.exports))}function define(id,deps,factory){Array.isArray(id)?(factory=deps,deps=id,id=void 0):"string"!=typeof id&&(factory=id,id=deps=void 0),deps&&!Array.isArray(deps)&&(factory=deps,deps=void 0),deps||(deps=["require","exports","module"]),id?defineCache[id]=[id,deps,factory]:runFactory(id,deps,factory)}var makeRequire,stringRequire,defineCache={},loaderCache={},alreadyCalled=!1,path=require("path");return makeRequire=function(systemRequire,exports,module,relId){function amdRequire(deps,callback){return"string"==typeof deps?stringRequire(systemRequire,exports,module,deps,relId):(deps=deps.map(function(depName){return stringRequire(systemRequire,exports,module,depName,relId)}),void(callback&&process.nextTick(function(){callback.apply(null,deps)})))}return amdRequire.toUrl=function(filePath){return 0===filePath.indexOf(".")?normalize(filePath,path.dirname(module.filename)):filePath},amdRequire},requireFn=requireFn||function(){return module.require.apply(module,arguments)},stringRequire=function(systemRequire,exports,module,id,relId){var prefix,plugin,index=id.indexOf("!"),originalId=id;if(-1===index){if(id=normalize(id,relId),"require"===id)return makeRequire(systemRequire,exports,module,relId);if("exports"===id)return exports;if("module"===id)return module;if(loaderCache.hasOwnProperty(id))return loaderCache[id];if(defineCache[id])return runFactory.apply(null,defineCache[id]),loaderCache[id];if(systemRequire)return systemRequire(originalId);throw new Error("No module with ID: "+id)}return prefix=id.substring(0,index),id=id.substring(index+1,id.length),plugin=stringRequire(systemRequire,exports,module,prefix,relId),id=plugin.normalize?plugin.normalize(id,makeNormalize(relId)):normalize(id,relId),loaderCache[id]?loaderCache[id]:(plugin.load(id,makeRequire(systemRequire,exports,module,relId),makeLoad(id),{}),loaderCache[id])},define.require=function(id){return loaderCache[id]?loaderCache[id]:defineCache[id]?(runFactory.apply(null,defineCache[id]),loaderCache[id]):void 0},define.amd={},define}module.exports=amdefine}).call(this,"/Users/yagamy/Works/workspaces/t2t/yapps-tt/apps/sensor-web3/node_modules/handlebars/node_modules/source-map/node_modules/amdefine/amdefine.js")},{path:void 0}],249:[function(require,module,exports){var getNative=require("./_getNative"),root=require("./_root"),DataView=getNative(root,"DataView");module.exports=DataView},{"./_getNative":339,"./_root":382}],250:[function(require,module,exports){function Hash(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}var hashClear=require("./_hashClear"),hashDelete=require("./_hashDelete"),hashGet=require("./_hashGet"),hashHas=require("./_hashHas"),hashSet=require("./_hashSet");Hash.prototype.clear=hashClear,Hash.prototype["delete"]=hashDelete,Hash.prototype.get=hashGet,Hash.prototype.has=hashHas,Hash.prototype.set=hashSet,module.exports=Hash},{"./_hashClear":348,"./_hashDelete":349,"./_hashGet":350,"./_hashHas":351,"./_hashSet":352}],251:[function(require,module,exports){function ListCache(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}var listCacheClear=require("./_listCacheClear"),listCacheDelete=require("./_listCacheDelete"),listCacheGet=require("./_listCacheGet"),listCacheHas=require("./_listCacheHas"),listCacheSet=require("./_listCacheSet");ListCache.prototype.clear=listCacheClear,ListCache.prototype["delete"]=listCacheDelete,ListCache.prototype.get=listCacheGet,ListCache.prototype.has=listCacheHas,ListCache.prototype.set=listCacheSet,module.exports=ListCache},{"./_listCacheClear":362,"./_listCacheDelete":363,"./_listCacheGet":364,"./_listCacheHas":365,"./_listCacheSet":366}],252:[function(require,module,exports){var getNative=require("./_getNative"),root=require("./_root"),Map=getNative(root,"Map");module.exports=Map},{"./_getNative":339,"./_root":382}],253:[function(require,module,exports){function MapCache(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}var mapCacheClear=require("./_mapCacheClear"),mapCacheDelete=require("./_mapCacheDelete"),mapCacheGet=require("./_mapCacheGet"),mapCacheHas=require("./_mapCacheHas"),mapCacheSet=require("./_mapCacheSet");MapCache.prototype.clear=mapCacheClear,MapCache.prototype["delete"]=mapCacheDelete,MapCache.prototype.get=mapCacheGet,MapCache.prototype.has=mapCacheHas,MapCache.prototype.set=mapCacheSet,module.exports=MapCache},{"./_mapCacheClear":367,"./_mapCacheDelete":368,"./_mapCacheGet":369,"./_mapCacheHas":370,"./_mapCacheSet":371}],254:[function(require,module,exports){var getNative=require("./_getNative"),root=require("./_root"),Promise=getNative(root,"Promise");module.exports=Promise},{"./_getNative":339,"./_root":382}],255:[function(require,module,exports){var getNative=require("./_getNative"),root=require("./_root"),Set=getNative(root,"Set");module.exports=Set},{"./_getNative":339,"./_root":382}],256:[function(require,module,exports){function SetCache(values){var index=-1,length=null==values?0:values.length;for(this.__data__=new MapCache;++index<length;)this.add(values[index])}var MapCache=require("./_MapCache"),setCacheAdd=require("./_setCacheAdd"),setCacheHas=require("./_setCacheHas");SetCache.prototype.add=SetCache.prototype.push=setCacheAdd,SetCache.prototype.has=setCacheHas,module.exports=SetCache},{"./_MapCache":253,"./_setCacheAdd":383,"./_setCacheHas":384}],257:[function(require,module,exports){function Stack(entries){var data=this.__data__=new ListCache(entries);this.size=data.size}var ListCache=require("./_ListCache"),stackClear=require("./_stackClear"),stackDelete=require("./_stackDelete"),stackGet=require("./_stackGet"),stackHas=require("./_stackHas"),stackSet=require("./_stackSet");Stack.prototype.clear=stackClear,Stack.prototype["delete"]=stackDelete,Stack.prototype.get=stackGet,Stack.prototype.has=stackHas,Stack.prototype.set=stackSet,module.exports=Stack},{"./_ListCache":251,"./_stackClear":388,"./_stackDelete":389,"./_stackGet":390,"./_stackHas":391,"./_stackSet":392}],258:[function(require,module,exports){var root=require("./_root"),Symbol=root.Symbol;module.exports=Symbol},{"./_root":382}],259:[function(require,module,exports){var root=require("./_root"),Uint8Array=root.Uint8Array;module.exports=Uint8Array},{"./_root":382}],260:[function(require,module,exports){var getNative=require("./_getNative"),root=require("./_root"),WeakMap=getNative(root,"WeakMap");module.exports=WeakMap},{"./_getNative":339,"./_root":382}],261:[function(require,module,exports){function apply(func,thisArg,args){switch(args.length){case 0:return func.call(thisArg);case 1:return func.call(thisArg,args[0]);case 2:return func.call(thisArg,args[0],args[1]);case 3:return func.call(thisArg,args[0],args[1],args[2])}return func.apply(thisArg,args)}module.exports=apply},{}],262:[function(require,module,exports){function arrayFilter(array,predicate){for(var index=-1,length=null==array?0:array.length,resIndex=0,result=[];++index<length;){var value=array[index];
predicate(value,index,array)&&(result[resIndex++]=value)}return result}module.exports=arrayFilter},{}],263:[function(require,module,exports){function arrayLikeKeys(value,inherited){var isArr=isArray(value),isArg=!isArr&&isArguments(value),isBuff=!isArr&&!isArg&&isBuffer(value),isType=!isArr&&!isArg&&!isBuff&&isTypedArray(value),skipIndexes=isArr||isArg||isBuff||isType,result=skipIndexes?baseTimes(value.length,String):[],length=result.length;for(var key in value)!inherited&&!hasOwnProperty.call(value,key)||skipIndexes&&("length"==key||isBuff&&("offset"==key||"parent"==key)||isType&&("buffer"==key||"byteLength"==key||"byteOffset"==key)||isIndex(key,length))||result.push(key);return result}var baseTimes=require("./_baseTimes"),isArguments=require("./isArguments"),isArray=require("./isArray"),isBuffer=require("./isBuffer"),isIndex=require("./_isIndex"),isTypedArray=require("./isTypedArray"),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;module.exports=arrayLikeKeys},{"./_baseTimes":309,"./_isIndex":355,"./isArguments":411,"./isArray":412,"./isBuffer":415,"./isTypedArray":422}],264:[function(require,module,exports){function arrayMap(array,iteratee){for(var index=-1,length=null==array?0:array.length,result=Array(length);++index<length;)result[index]=iteratee(array[index],index,array);return result}module.exports=arrayMap},{}],265:[function(require,module,exports){function arrayPush(array,values){for(var index=-1,length=values.length,offset=array.length;++index<length;)array[offset+index]=values[index];return array}module.exports=arrayPush},{}],266:[function(require,module,exports){function arrayReduce(array,iteratee,accumulator,initAccum){var index=-1,length=null==array?0:array.length;for(initAccum&&length&&(accumulator=array[++index]);++index<length;)accumulator=iteratee(accumulator,array[index],index,array);return accumulator}module.exports=arrayReduce},{}],267:[function(require,module,exports){function arraySome(array,predicate){for(var index=-1,length=null==array?0:array.length;++index<length;)if(predicate(array[index],index,array))return!0;return!1}module.exports=arraySome},{}],268:[function(require,module,exports){var baseProperty=require("./_baseProperty"),asciiSize=baseProperty("length");module.exports=asciiSize},{"./_baseProperty":300}],269:[function(require,module,exports){function asciiToArray(string){return string.split("")}module.exports=asciiToArray},{}],270:[function(require,module,exports){function asciiWords(string){return string.match(reAsciiWord)||[]}var reAsciiWord=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;module.exports=asciiWords},{}],271:[function(require,module,exports){function assignMergeValue(object,key,value){(void 0===value||eq(object[key],value))&&(void 0!==value||key in object)||baseAssignValue(object,key,value)}var baseAssignValue=require("./_baseAssignValue"),eq=require("./eq");module.exports=assignMergeValue},{"./_baseAssignValue":274,"./eq":405}],272:[function(require,module,exports){function assignValue(object,key,value){var objValue=object[key];hasOwnProperty.call(object,key)&&eq(objValue,value)&&(void 0!==value||key in object)||baseAssignValue(object,key,value)}var baseAssignValue=require("./_baseAssignValue"),eq=require("./eq"),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;module.exports=assignValue},{"./_baseAssignValue":274,"./eq":405}],273:[function(require,module,exports){function assocIndexOf(array,key){for(var length=array.length;length--;)if(eq(array[length][0],key))return length;return-1}var eq=require("./eq");module.exports=assocIndexOf},{"./eq":405}],274:[function(require,module,exports){function baseAssignValue(object,key,value){"__proto__"==key&&defineProperty?defineProperty(object,key,{configurable:!0,enumerable:!0,value:value,writable:!0}):object[key]=value}var defineProperty=require("./_defineProperty");module.exports=baseAssignValue},{"./_defineProperty":331}],275:[function(require,module,exports){var isObject=require("./isObject"),objectCreate=Object.create,baseCreate=function(){function object(){}return function(proto){if(!isObject(proto))return{};if(objectCreate)return objectCreate(proto);object.prototype=proto;var result=new object;return object.prototype=void 0,result}}();module.exports=baseCreate},{"./isObject":418}],276:[function(require,module,exports){var baseForOwn=require("./_baseForOwn"),createBaseEach=require("./_createBaseEach"),baseEach=createBaseEach(baseForOwn);module.exports=baseEach},{"./_baseForOwn":280,"./_createBaseEach":324}],277:[function(require,module,exports){function baseFindIndex(array,predicate,fromIndex,fromRight){for(var length=array.length,index=fromIndex+(fromRight?1:-1);fromRight?index--:++index<length;)if(predicate(array[index],index,array))return index;return-1}module.exports=baseFindIndex},{}],278:[function(require,module,exports){function baseFlatten(array,depth,predicate,isStrict,result){var index=-1,length=array.length;for(predicate||(predicate=isFlattenable),result||(result=[]);++index<length;){var value=array[index];depth>0&&predicate(value)?depth>1?baseFlatten(value,depth-1,predicate,isStrict,result):arrayPush(result,value):isStrict||(result[result.length]=value)}return result}var arrayPush=require("./_arrayPush"),isFlattenable=require("./_isFlattenable");module.exports=baseFlatten},{"./_arrayPush":265,"./_isFlattenable":354}],279:[function(require,module,exports){var createBaseFor=require("./_createBaseFor"),baseFor=createBaseFor();module.exports=baseFor},{"./_createBaseFor":325}],280:[function(require,module,exports){function baseForOwn(object,iteratee){return object&&baseFor(object,iteratee,keys)}var baseFor=require("./_baseFor"),keys=require("./keys");module.exports=baseForOwn},{"./_baseFor":279,"./keys":423}],281:[function(require,module,exports){function baseGet(object,path){path=castPath(path,object);for(var index=0,length=path.length;null!=object&&length>index;)object=object[toKey(path[index++])];return index&&index==length?object:void 0}var castPath=require("./_castPath"),toKey=require("./_toKey");module.exports=baseGet},{"./_castPath":313,"./_toKey":396}],282:[function(require,module,exports){function baseGetAllKeys(object,keysFunc,symbolsFunc){var result=keysFunc(object);return isArray(object)?result:arrayPush(result,symbolsFunc(object))}var arrayPush=require("./_arrayPush"),isArray=require("./isArray");module.exports=baseGetAllKeys},{"./_arrayPush":265,"./isArray":412}],283:[function(require,module,exports){function baseGetTag(value){return null==value?void 0===value?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(value)?getRawTag(value):objectToString(value)}var Symbol=require("./_Symbol"),getRawTag=require("./_getRawTag"),objectToString=require("./_objectToString"),nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol?Symbol.toStringTag:void 0;module.exports=baseGetTag},{"./_Symbol":258,"./_getRawTag":341,"./_objectToString":379}],284:[function(require,module,exports){function baseHasIn(object,key){return null!=object&&key in Object(object)}module.exports=baseHasIn},{}],285:[function(require,module,exports){function baseIsArguments(value){return isObjectLike(value)&&baseGetTag(value)==argsTag}var baseGetTag=require("./_baseGetTag"),isObjectLike=require("./isObjectLike"),argsTag="[object Arguments]";module.exports=baseIsArguments},{"./_baseGetTag":283,"./isObjectLike":419}],286:[function(require,module,exports){function baseIsEqual(value,other,bitmask,customizer,stack){return value===other?!0:null==value||null==other||!isObjectLike(value)&&!isObjectLike(other)?value!==value&&other!==other:baseIsEqualDeep(value,other,bitmask,customizer,baseIsEqual,stack)}var baseIsEqualDeep=require("./_baseIsEqualDeep"),isObjectLike=require("./isObjectLike");module.exports=baseIsEqual},{"./_baseIsEqualDeep":287,"./isObjectLike":419}],287:[function(require,module,exports){function baseIsEqualDeep(object,other,bitmask,customizer,equalFunc,stack){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=objIsArr?arrayTag:getTag(object),othTag=othIsArr?arrayTag:getTag(other);objTag=objTag==argsTag?objectTag:objTag,othTag=othTag==argsTag?objectTag:othTag;var objIsObj=objTag==objectTag,othIsObj=othTag==objectTag,isSameTag=objTag==othTag;if(isSameTag&&isBuffer(object)){if(!isBuffer(other))return!1;objIsArr=!0,objIsObj=!1}if(isSameTag&&!objIsObj)return stack||(stack=new Stack),objIsArr||isTypedArray(object)?equalArrays(object,other,bitmask,customizer,equalFunc,stack):equalByTag(object,other,objTag,bitmask,customizer,equalFunc,stack);if(!(bitmask&COMPARE_PARTIAL_FLAG)){var objIsWrapped=objIsObj&&hasOwnProperty.call(object,"__wrapped__"),othIsWrapped=othIsObj&&hasOwnProperty.call(other,"__wrapped__");if(objIsWrapped||othIsWrapped){var objUnwrapped=objIsWrapped?object.value():object,othUnwrapped=othIsWrapped?other.value():other;return stack||(stack=new Stack),equalFunc(objUnwrapped,othUnwrapped,bitmask,customizer,stack)}}return isSameTag?(stack||(stack=new Stack),equalObjects(object,other,bitmask,customizer,equalFunc,stack)):!1}var Stack=require("./_Stack"),equalArrays=require("./_equalArrays"),equalByTag=require("./_equalByTag"),equalObjects=require("./_equalObjects"),getTag=require("./_getTag"),isArray=require("./isArray"),isBuffer=require("./isBuffer"),isTypedArray=require("./isTypedArray"),COMPARE_PARTIAL_FLAG=1,argsTag="[object Arguments]",arrayTag="[object Array]",objectTag="[object Object]",objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;module.exports=baseIsEqualDeep},{"./_Stack":257,"./_equalArrays":332,"./_equalByTag":333,"./_equalObjects":334,"./_getTag":343,"./isArray":412,"./isBuffer":415,"./isTypedArray":422}],288:[function(require,module,exports){function baseIsMatch(object,source,matchData,customizer){var index=matchData.length,length=index,noCustomizer=!customizer;if(null==object)return!length;for(object=Object(object);index--;){var data=matchData[index];if(noCustomizer&&data[2]?data[1]!==object[data[0]]:!(data[0]in object))return!1}for(;++index<length;){data=matchData[index];var key=data[0],objValue=object[key],srcValue=data[1];if(noCustomizer&&data[2]){if(void 0===objValue&&!(key in object))return!1}else{var stack=new Stack;if(customizer)var result=customizer(objValue,srcValue,key,object,source,stack);if(!(void 0===result?baseIsEqual(srcValue,objValue,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG,customizer,stack):result))return!1}}return!0}var Stack=require("./_Stack"),baseIsEqual=require("./_baseIsEqual"),COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;module.exports=baseIsMatch},{"./_Stack":257,"./_baseIsEqual":286}],289:[function(require,module,exports){function baseIsNative(value){if(!isObject(value)||isMasked(value))return!1;var pattern=isFunction(value)?reIsNative:reIsHostCtor;return pattern.test(toSource(value))}var isFunction=require("./isFunction"),isMasked=require("./_isMasked"),isObject=require("./isObject"),toSource=require("./_toSource"),reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto=Function.prototype,objectProto=Object.prototype,funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");module.exports=baseIsNative},{"./_isMasked":359,"./_toSource":397,"./isFunction":416,"./isObject":418}],290:[function(require,module,exports){function baseIsTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[baseGetTag(value)]}var baseGetTag=require("./_baseGetTag"),isLength=require("./isLength"),isObjectLike=require("./isObjectLike"),argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",weakMapTag="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0,typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=!1,module.exports=baseIsTypedArray},{"./_baseGetTag":283,"./isLength":417,"./isObjectLike":419}],291:[function(require,module,exports){function baseIteratee(value){return"function"==typeof value?value:null==value?identity:"object"==typeof value?isArray(value)?baseMatchesProperty(value[0],value[1]):baseMatches(value):property(value)}var baseMatches=require("./_baseMatches"),baseMatchesProperty=require("./_baseMatchesProperty"),identity=require("./identity"),isArray=require("./isArray"),property=require("./property");module.exports=baseIteratee},{"./_baseMatches":295,"./_baseMatchesProperty":296,"./identity":410,"./isArray":412,"./property":429}],292:[function(require,module,exports){function baseKeys(object){if(!isPrototype(object))return nativeKeys(object);var result=[];for(var key in Object(object))hasOwnProperty.call(object,key)&&"constructor"!=key&&result.push(key);return result}var isPrototype=require("./_isPrototype"),nativeKeys=require("./_nativeKeys"),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;module.exports=baseKeys},{"./_isPrototype":360,"./_nativeKeys":376}],293:[function(require,module,exports){function baseKeysIn(object){if(!isObject(object))return nativeKeysIn(object);var isProto=isPrototype(object),result=[];for(var key in object)("constructor"!=key||!isProto&&hasOwnProperty.call(object,key))&&result.push(key);return result}var isObject=require("./isObject"),isPrototype=require("./_isPrototype"),nativeKeysIn=require("./_nativeKeysIn"),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;module.exports=baseKeysIn},{"./_isPrototype":360,"./_nativeKeysIn":377,"./isObject":418}],294:[function(require,module,exports){function baseMap(collection,iteratee){var index=-1,result=isArrayLike(collection)?Array(collection.length):[];return baseEach(collection,function(value,key,collection){result[++index]=iteratee(value,key,collection)}),result}var baseEach=require("./_baseEach"),isArrayLike=require("./isArrayLike");module.exports=baseMap},{"./_baseEach":276,"./isArrayLike":413}],295:[function(require,module,exports){function baseMatches(source){var matchData=getMatchData(source);return 1==matchData.length&&matchData[0][2]?matchesStrictComparable(matchData[0][0],matchData[0][1]):function(object){return object===source||baseIsMatch(object,source,matchData)}}var baseIsMatch=require("./_baseIsMatch"),getMatchData=require("./_getMatchData"),matchesStrictComparable=require("./_matchesStrictComparable");module.exports=baseMatches},{"./_baseIsMatch":288,"./_getMatchData":338,"./_matchesStrictComparable":373}],296:[function(require,module,exports){function baseMatchesProperty(path,srcValue){return isKey(path)&&isStrictComparable(srcValue)?matchesStrictComparable(toKey(path),srcValue):function(object){var objValue=get(object,path);return void 0===objValue&&objValue===srcValue?hasIn(object,path):baseIsEqual(srcValue,objValue,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}var baseIsEqual=require("./_baseIsEqual"),get=require("./get"),hasIn=require("./hasIn"),isKey=require("./_isKey"),isStrictComparable=require("./_isStrictComparable"),matchesStrictComparable=require("./_matchesStrictComparable"),toKey=require("./_toKey"),COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;module.exports=baseMatchesProperty},{"./_baseIsEqual":286,"./_isKey":357,"./_isStrictComparable":361,"./_matchesStrictComparable":373,"./_toKey":396,"./get":408,"./hasIn":409}],297:[function(require,module,exports){function baseMerge(object,source,srcIndex,customizer,stack){object!==source&&baseFor(source,function(srcValue,key){if(isObject(srcValue))stack||(stack=new Stack),baseMergeDeep(object,source,key,srcIndex,baseMerge,customizer,stack);else{var newValue=customizer?customizer(object[key],srcValue,key+"",object,source,stack):void 0;void 0===newValue&&(newValue=srcValue),assignMergeValue(object,key,newValue)}},keysIn)}var Stack=require("./_Stack"),assignMergeValue=require("./_assignMergeValue"),baseFor=require("./_baseFor"),baseMergeDeep=require("./_baseMergeDeep"),isObject=require("./isObject"),keysIn=require("./keysIn");module.exports=baseMerge},{"./_Stack":257,"./_assignMergeValue":271,"./_baseFor":279,"./_baseMergeDeep":298,"./isObject":418,"./keysIn":424}],298:[function(require,module,exports){function baseMergeDeep(object,source,key,srcIndex,mergeFunc,customizer,stack){var objValue=object[key],srcValue=source[key],stacked=stack.get(srcValue);if(stacked)return void assignMergeValue(object,key,stacked);var newValue=customizer?customizer(objValue,srcValue,key+"",object,source,stack):void 0,isCommon=void 0===newValue;if(isCommon){var isArr=isArray(srcValue),isBuff=!isArr&&isBuffer(srcValue),isTyped=!isArr&&!isBuff&&isTypedArray(srcValue);newValue=srcValue,isArr||isBuff||isTyped?isArray(objValue)?newValue=objValue:isArrayLikeObject(objValue)?newValue=copyArray(objValue):isBuff?(isCommon=!1,newValue=cloneBuffer(srcValue,!0)):isTyped?(isCommon=!1,newValue=cloneTypedArray(srcValue,!0)):newValue=[]:isPlainObject(srcValue)||isArguments(srcValue)?(newValue=objValue,isArguments(objValue)?newValue=toPlainObject(objValue):(!isObject(objValue)||srcIndex&&isFunction(objValue))&&(newValue=initCloneObject(srcValue))):isCommon=!1}isCommon&&(stack.set(srcValue,newValue),mergeFunc(newValue,srcValue,srcIndex,customizer,stack),stack["delete"](srcValue)),assignMergeValue(object,key,newValue)}var assignMergeValue=require("./_assignMergeValue"),cloneBuffer=require("./_cloneBuffer"),cloneTypedArray=require("./_cloneTypedArray"),copyArray=require("./_copyArray"),initCloneObject=require("./_initCloneObject"),isArguments=require("./isArguments"),isArray=require("./isArray"),isArrayLikeObject=require("./isArrayLikeObject"),isBuffer=require("./isBuffer"),isFunction=require("./isFunction"),isObject=require("./isObject"),isPlainObject=require("./isPlainObject"),isTypedArray=require("./isTypedArray"),toPlainObject=require("./toPlainObject");module.exports=baseMergeDeep},{"./_assignMergeValue":271,"./_cloneBuffer":316,"./_cloneTypedArray":317,"./_copyArray":320,"./_initCloneObject":353,"./isArguments":411,"./isArray":412,"./isArrayLikeObject":414,"./isBuffer":415,"./isFunction":416,"./isObject":418,"./isPlainObject":420,"./isTypedArray":422,"./toPlainObject":437}],299:[function(require,module,exports){function baseOrderBy(collection,iteratees,orders){var index=-1;iteratees=arrayMap(iteratees.length?iteratees:[identity],baseUnary(baseIteratee));var result=baseMap(collection,function(value,key,collection){var criteria=arrayMap(iteratees,function(iteratee){return iteratee(value)});return{criteria:criteria,index:++index,value:value}});return baseSortBy(result,function(object,other){return compareMultiple(object,other,orders)})}var arrayMap=require("./_arrayMap"),baseIteratee=require("./_baseIteratee"),baseMap=require("./_baseMap"),baseSortBy=require("./_baseSortBy"),baseUnary=require("./_baseUnary"),compareMultiple=require("./_compareMultiple"),identity=require("./identity");module.exports=baseOrderBy},{"./_arrayMap":264,"./_baseIteratee":291,"./_baseMap":294,"./_baseSortBy":307,"./_baseUnary":311,"./_compareMultiple":319,"./identity":410}],300:[function(require,module,exports){function baseProperty(key){return function(object){return null==object?void 0:object[key]}}module.exports=baseProperty},{}],301:[function(require,module,exports){function basePropertyDeep(path){return function(object){return baseGet(object,path)}}var baseGet=require("./_baseGet");module.exports=basePropertyDeep},{"./_baseGet":281}],302:[function(require,module,exports){function basePropertyOf(object){return function(key){return null==object?void 0:object[key]}}module.exports=basePropertyOf},{}],303:[function(require,module,exports){function baseRepeat(string,n){var result="";if(!string||1>n||n>MAX_SAFE_INTEGER)return result;do n%2&&(result+=string),n=nativeFloor(n/2),n&&(string+=string);while(n);return result}var MAX_SAFE_INTEGER=9007199254740991,nativeFloor=Math.floor;module.exports=baseRepeat},{}],304:[function(require,module,exports){function baseRest(func,start){return setToString(overRest(func,start,identity),func+"")}var identity=require("./identity"),overRest=require("./_overRest"),setToString=require("./_setToString");module.exports=baseRest},{"./_overRest":381,"./_setToString":386,"./identity":410}],305:[function(require,module,exports){var constant=require("./constant"),defineProperty=require("./_defineProperty"),identity=require("./identity"),baseSetToString=defineProperty?function(func,string){return defineProperty(func,"toString",{configurable:!0,enumerable:!1,value:constant(string),writable:!0})}:identity;module.exports=baseSetToString},{"./_defineProperty":331,"./constant":403,"./identity":410}],306:[function(require,module,exports){function baseSlice(array,start,end){var index=-1,length=array.length;0>start&&(start=-start>length?0:length+start),end=end>length?length:end,0>end&&(end+=length),length=start>end?0:end-start>>>0,start>>>=0;for(var result=Array(length);++index<length;)result[index]=array[index+start];return result}module.exports=baseSlice},{}],307:[function(require,module,exports){function baseSortBy(array,comparer){var length=array.length;for(array.sort(comparer);length--;)array[length]=array[length].value;return array}module.exports=baseSortBy},{}],308:[function(require,module,exports){function baseSum(array,iteratee){for(var result,index=-1,length=array.length;++index<length;){var current=iteratee(array[index]);void 0!==current&&(result=void 0===result?current:result+current)}return result}module.exports=baseSum},{}],309:[function(require,module,exports){function baseTimes(n,iteratee){for(var index=-1,result=Array(n);++index<n;)result[index]=iteratee(index);return result}module.exports=baseTimes},{}],310:[function(require,module,exports){function baseToString(value){if("string"==typeof value)return value;if(isArray(value))return arrayMap(value,baseToString)+"";if(isSymbol(value))return symbolToString?symbolToString.call(value):"";var result=value+"";return"0"==result&&1/value==-INFINITY?"-0":result}var Symbol=require("./_Symbol"),arrayMap=require("./_arrayMap"),isArray=require("./isArray"),isSymbol=require("./isSymbol"),INFINITY=1/0,symbolProto=Symbol?Symbol.prototype:void 0,symbolToString=symbolProto?symbolProto.toString:void 0;module.exports=baseToString},{"./_Symbol":258,"./_arrayMap":264,"./isArray":412,"./isSymbol":421}],311:[function(require,module,exports){function baseUnary(func){return function(value){return func(value)}}module.exports=baseUnary},{}],312:[function(require,module,exports){function cacheHas(cache,key){return cache.has(key)}module.exports=cacheHas},{}],313:[function(require,module,exports){function castPath(value,object){return isArray(value)?value:isKey(value,object)?[value]:stringToPath(toString(value))}var isArray=require("./isArray"),isKey=require("./_isKey"),stringToPath=require("./_stringToPath"),toString=require("./toString");module.exports=castPath},{"./_isKey":357,"./_stringToPath":395,"./isArray":412,"./toString":438}],314:[function(require,module,exports){function castSlice(array,start,end){var length=array.length;return end=void 0===end?length:end,!start&&end>=length?array:baseSlice(array,start,end)}var baseSlice=require("./_baseSlice");module.exports=castSlice},{"./_baseSlice":306}],315:[function(require,module,exports){function cloneArrayBuffer(arrayBuffer){var result=new arrayBuffer.constructor(arrayBuffer.byteLength);return new Uint8Array(result).set(new Uint8Array(arrayBuffer)),result}var Uint8Array=require("./_Uint8Array");module.exports=cloneArrayBuffer},{"./_Uint8Array":259}],316:[function(require,module,exports){function cloneBuffer(buffer,isDeep){if(isDeep)return buffer.slice();var length=buffer.length,result=allocUnsafe?allocUnsafe(length):new buffer.constructor(length);return buffer.copy(result),result}var root=require("./_root"),freeExports="object"==typeof exports&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&"object"==typeof module&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,Buffer=moduleExports?root.Buffer:void 0,allocUnsafe=Buffer?Buffer.allocUnsafe:void 0;module.exports=cloneBuffer},{"./_root":382}],317:[function(require,module,exports){function cloneTypedArray(typedArray,isDeep){var buffer=isDeep?cloneArrayBuffer(typedArray.buffer):typedArray.buffer;return new typedArray.constructor(buffer,typedArray.byteOffset,typedArray.length)}var cloneArrayBuffer=require("./_cloneArrayBuffer");module.exports=cloneTypedArray},{"./_cloneArrayBuffer":315}],318:[function(require,module,exports){function compareAscending(value,other){if(value!==other){var valIsDefined=void 0!==value,valIsNull=null===value,valIsReflexive=value===value,valIsSymbol=isSymbol(value),othIsDefined=void 0!==other,othIsNull=null===other,othIsReflexive=other===other,othIsSymbol=isSymbol(other);if(!othIsNull&&!othIsSymbol&&!valIsSymbol&&value>other||valIsSymbol&&othIsDefined&&othIsReflexive&&!othIsNull&&!othIsSymbol||valIsNull&&othIsDefined&&othIsReflexive||!valIsDefined&&othIsReflexive||!valIsReflexive)return 1;if(!valIsNull&&!valIsSymbol&&!othIsSymbol&&other>value||othIsSymbol&&valIsDefined&&valIsReflexive&&!valIsNull&&!valIsSymbol||othIsNull&&valIsDefined&&valIsReflexive||!othIsDefined&&valIsReflexive||!othIsReflexive)return-1}return 0}var isSymbol=require("./isSymbol");module.exports=compareAscending},{"./isSymbol":421}],319:[function(require,module,exports){function compareMultiple(object,other,orders){for(var index=-1,objCriteria=object.criteria,othCriteria=other.criteria,length=objCriteria.length,ordersLength=orders.length;++index<length;){var result=compareAscending(objCriteria[index],othCriteria[index]);if(result){if(index>=ordersLength)return result;var order=orders[index];return result*("desc"==order?-1:1)}}return object.index-other.index}var compareAscending=require("./_compareAscending");module.exports=compareMultiple},{"./_compareAscending":318}],320:[function(require,module,exports){function copyArray(source,array){var index=-1,length=source.length;for(array||(array=Array(length));++index<length;)array[index]=source[index];return array}module.exports=copyArray},{}],321:[function(require,module,exports){function copyObject(source,props,object,customizer){var isNew=!object;object||(object={});for(var index=-1,length=props.length;++index<length;){var key=props[index],newValue=customizer?customizer(object[key],source[key],key,object,source):void 0;void 0===newValue&&(newValue=source[key]),isNew?baseAssignValue(object,key,newValue):assignValue(object,key,newValue)}return object}var assignValue=require("./_assignValue"),baseAssignValue=require("./_baseAssignValue");module.exports=copyObject},{"./_assignValue":272,"./_baseAssignValue":274}],322:[function(require,module,exports){var root=require("./_root"),coreJsData=root["__core-js_shared__"];module.exports=coreJsData},{"./_root":382}],323:[function(require,module,exports){function createAssigner(assigner){return baseRest(function(object,sources){var index=-1,length=sources.length,customizer=length>1?sources[length-1]:void 0,guard=length>2?sources[2]:void 0;for(customizer=assigner.length>3&&"function"==typeof customizer?(length--,customizer):void 0,guard&&isIterateeCall(sources[0],sources[1],guard)&&(customizer=3>length?void 0:customizer,length=1),object=Object(object);++index<length;){var source=sources[index];source&&assigner(object,source,index,customizer)}return object})}var baseRest=require("./_baseRest"),isIterateeCall=require("./_isIterateeCall");module.exports=createAssigner},{"./_baseRest":304,"./_isIterateeCall":356}],324:[function(require,module,exports){function createBaseEach(eachFunc,fromRight){return function(collection,iteratee){if(null==collection)return collection;if(!isArrayLike(collection))return eachFunc(collection,iteratee);for(var length=collection.length,index=fromRight?length:-1,iterable=Object(collection);(fromRight?index--:++index<length)&&iteratee(iterable[index],index,iterable)!==!1;);return collection}}var isArrayLike=require("./isArrayLike");module.exports=createBaseEach},{"./isArrayLike":413}],325:[function(require,module,exports){function createBaseFor(fromRight){return function(object,iteratee,keysFunc){for(var index=-1,iterable=Object(object),props=keysFunc(object),length=props.length;length--;){var key=props[fromRight?length:++index];if(iteratee(iterable[key],key,iterable)===!1)break}return object}}module.exports=createBaseFor},{}],326:[function(require,module,exports){function createCaseFirst(methodName){return function(string){string=toString(string);var strSymbols=hasUnicode(string)?stringToArray(string):void 0,chr=strSymbols?strSymbols[0]:string.charAt(0),trailing=strSymbols?castSlice(strSymbols,1).join(""):string.slice(1);return chr[methodName]()+trailing}}var castSlice=require("./_castSlice"),hasUnicode=require("./_hasUnicode"),stringToArray=require("./_stringToArray"),toString=require("./toString");module.exports=createCaseFirst},{"./_castSlice":314,"./_hasUnicode":346,"./_stringToArray":394,"./toString":438}],327:[function(require,module,exports){function createCompounder(callback){return function(string){return arrayReduce(words(deburr(string).replace(reApos,"")),callback,"")}}var arrayReduce=require("./_arrayReduce"),deburr=require("./deburr"),words=require("./words"),rsApos="[']",reApos=RegExp(rsApos,"g");module.exports=createCompounder},{"./_arrayReduce":266,"./deburr":404,"./words":440}],328:[function(require,module,exports){function createFind(findIndexFunc){return function(collection,predicate,fromIndex){var iterable=Object(collection);if(!isArrayLike(collection)){var iteratee=baseIteratee(predicate,3);collection=keys(collection),predicate=function(key){return iteratee(iterable[key],key,iterable)}}var index=findIndexFunc(collection,predicate,fromIndex);return index>-1?iterable[iteratee?collection[index]:index]:void 0}}var baseIteratee=require("./_baseIteratee"),isArrayLike=require("./isArrayLike"),keys=require("./keys");module.exports=createFind},{"./_baseIteratee":291,"./isArrayLike":413,"./keys":423}],329:[function(require,module,exports){function createPadding(length,chars){chars=void 0===chars?" ":baseToString(chars);var charsLength=chars.length;if(2>charsLength)return charsLength?baseRepeat(chars,length):chars;var result=baseRepeat(chars,nativeCeil(length/stringSize(chars)));return hasUnicode(chars)?castSlice(stringToArray(result),0,length).join(""):result.slice(0,length)}var baseRepeat=require("./_baseRepeat"),baseToString=require("./_baseToString"),castSlice=require("./_castSlice"),hasUnicode=require("./_hasUnicode"),stringSize=require("./_stringSize"),stringToArray=require("./_stringToArray"),nativeCeil=Math.ceil;module.exports=createPadding},{"./_baseRepeat":303,"./_baseToString":310,"./_castSlice":314,"./_hasUnicode":346,"./_stringSize":393,"./_stringToArray":394}],330:[function(require,module,exports){
var basePropertyOf=require("./_basePropertyOf"),deburredLetters={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"},deburrLetter=basePropertyOf(deburredLetters);module.exports=deburrLetter},{"./_basePropertyOf":302}],331:[function(require,module,exports){var getNative=require("./_getNative"),defineProperty=function(){try{var func=getNative(Object,"defineProperty");return func({},"",{}),func}catch(e){}}();module.exports=defineProperty},{"./_getNative":339}],332:[function(require,module,exports){function equalArrays(array,other,bitmask,customizer,equalFunc,stack){var isPartial=bitmask&COMPARE_PARTIAL_FLAG,arrLength=array.length,othLength=other.length;if(arrLength!=othLength&&!(isPartial&&othLength>arrLength))return!1;var stacked=stack.get(array);if(stacked&&stack.get(other))return stacked==other;var index=-1,result=!0,seen=bitmask&COMPARE_UNORDERED_FLAG?new SetCache:void 0;for(stack.set(array,other),stack.set(other,array);++index<arrLength;){var arrValue=array[index],othValue=other[index];if(customizer)var compared=isPartial?customizer(othValue,arrValue,index,other,array,stack):customizer(arrValue,othValue,index,array,other,stack);if(void 0!==compared){if(compared)continue;result=!1;break}if(seen){if(!arraySome(other,function(othValue,othIndex){return cacheHas(seen,othIndex)||arrValue!==othValue&&!equalFunc(arrValue,othValue,bitmask,customizer,stack)?void 0:seen.push(othIndex)})){result=!1;break}}else if(arrValue!==othValue&&!equalFunc(arrValue,othValue,bitmask,customizer,stack)){result=!1;break}}return stack["delete"](array),stack["delete"](other),result}var SetCache=require("./_SetCache"),arraySome=require("./_arraySome"),cacheHas=require("./_cacheHas"),COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;module.exports=equalArrays},{"./_SetCache":256,"./_arraySome":267,"./_cacheHas":312}],333:[function(require,module,exports){function equalByTag(object,other,tag,bitmask,customizer,equalFunc,stack){switch(tag){case dataViewTag:if(object.byteLength!=other.byteLength||object.byteOffset!=other.byteOffset)return!1;object=object.buffer,other=other.buffer;case arrayBufferTag:return!(object.byteLength!=other.byteLength||!equalFunc(new Uint8Array(object),new Uint8Array(other)));case boolTag:case dateTag:case numberTag:return eq(+object,+other);case errorTag:return object.name==other.name&&object.message==other.message;case regexpTag:case stringTag:return object==other+"";case mapTag:var convert=mapToArray;case setTag:var isPartial=bitmask&COMPARE_PARTIAL_FLAG;if(convert||(convert=setToArray),object.size!=other.size&&!isPartial)return!1;var stacked=stack.get(object);if(stacked)return stacked==other;bitmask|=COMPARE_UNORDERED_FLAG,stack.set(object,other);var result=equalArrays(convert(object),convert(other),bitmask,customizer,equalFunc,stack);return stack["delete"](object),result;case symbolTag:if(symbolValueOf)return symbolValueOf.call(object)==symbolValueOf.call(other)}return!1}var Symbol=require("./_Symbol"),Uint8Array=require("./_Uint8Array"),eq=require("./eq"),equalArrays=require("./_equalArrays"),mapToArray=require("./_mapToArray"),setToArray=require("./_setToArray"),COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2,boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",mapTag="[object Map]",numberTag="[object Number]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",symbolProto=Symbol?Symbol.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;module.exports=equalByTag},{"./_Symbol":258,"./_Uint8Array":259,"./_equalArrays":332,"./_mapToArray":372,"./_setToArray":385,"./eq":405}],334:[function(require,module,exports){function equalObjects(object,other,bitmask,customizer,equalFunc,stack){var isPartial=bitmask&COMPARE_PARTIAL_FLAG,objProps=getAllKeys(object),objLength=objProps.length,othProps=getAllKeys(other),othLength=othProps.length;if(objLength!=othLength&&!isPartial)return!1;for(var index=objLength;index--;){var key=objProps[index];if(!(isPartial?key in other:hasOwnProperty.call(other,key)))return!1}var stacked=stack.get(object);if(stacked&&stack.get(other))return stacked==other;var result=!0;stack.set(object,other),stack.set(other,object);for(var skipCtor=isPartial;++index<objLength;){key=objProps[index];var objValue=object[key],othValue=other[key];if(customizer)var compared=isPartial?customizer(othValue,objValue,key,other,object,stack):customizer(objValue,othValue,key,object,other,stack);if(!(void 0===compared?objValue===othValue||equalFunc(objValue,othValue,bitmask,customizer,stack):compared)){result=!1;break}skipCtor||(skipCtor="constructor"==key)}if(result&&!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;objCtor!=othCtor&&"constructor"in object&&"constructor"in other&&!("function"==typeof objCtor&&objCtor instanceof objCtor&&"function"==typeof othCtor&&othCtor instanceof othCtor)&&(result=!1)}return stack["delete"](object),stack["delete"](other),result}var getAllKeys=require("./_getAllKeys"),COMPARE_PARTIAL_FLAG=1,objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;module.exports=equalObjects},{"./_getAllKeys":336}],335:[function(require,module,exports){var freeGlobal="object"==typeof global&&global&&global.Object===Object&&global;module.exports=freeGlobal},{}],336:[function(require,module,exports){function getAllKeys(object){return baseGetAllKeys(object,keys,getSymbols)}var baseGetAllKeys=require("./_baseGetAllKeys"),getSymbols=require("./_getSymbols"),keys=require("./keys");module.exports=getAllKeys},{"./_baseGetAllKeys":282,"./_getSymbols":342,"./keys":423}],337:[function(require,module,exports){function getMapData(map,key){var data=map.__data__;return isKeyable(key)?data["string"==typeof key?"string":"hash"]:data.map}var isKeyable=require("./_isKeyable");module.exports=getMapData},{"./_isKeyable":358}],338:[function(require,module,exports){function getMatchData(object){for(var result=keys(object),length=result.length;length--;){var key=result[length],value=object[key];result[length]=[key,value,isStrictComparable(value)]}return result}var isStrictComparable=require("./_isStrictComparable"),keys=require("./keys");module.exports=getMatchData},{"./_isStrictComparable":361,"./keys":423}],339:[function(require,module,exports){function getNative(object,key){var value=getValue(object,key);return baseIsNative(value)?value:void 0}var baseIsNative=require("./_baseIsNative"),getValue=require("./_getValue");module.exports=getNative},{"./_baseIsNative":289,"./_getValue":344}],340:[function(require,module,exports){var overArg=require("./_overArg"),getPrototype=overArg(Object.getPrototypeOf,Object);module.exports=getPrototype},{"./_overArg":380}],341:[function(require,module,exports){function getRawTag(value){var isOwn=hasOwnProperty.call(value,symToStringTag),tag=value[symToStringTag];try{value[symToStringTag]=void 0;var unmasked=!0}catch(e){}var result=nativeObjectToString.call(value);return unmasked&&(isOwn?value[symToStringTag]=tag:delete value[symToStringTag]),result}var Symbol=require("./_Symbol"),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,nativeObjectToString=objectProto.toString,symToStringTag=Symbol?Symbol.toStringTag:void 0;module.exports=getRawTag},{"./_Symbol":258}],342:[function(require,module,exports){var arrayFilter=require("./_arrayFilter"),stubArray=require("./stubArray"),objectProto=Object.prototype,propertyIsEnumerable=objectProto.propertyIsEnumerable,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbols=nativeGetSymbols?function(object){return null==object?[]:(object=Object(object),arrayFilter(nativeGetSymbols(object),function(symbol){return propertyIsEnumerable.call(object,symbol)}))}:stubArray;module.exports=getSymbols},{"./_arrayFilter":262,"./stubArray":431}],343:[function(require,module,exports){var DataView=require("./_DataView"),Map=require("./_Map"),Promise=require("./_Promise"),Set=require("./_Set"),WeakMap=require("./_WeakMap"),baseGetTag=require("./_baseGetTag"),toSource=require("./_toSource"),mapTag="[object Map]",objectTag="[object Object]",promiseTag="[object Promise]",setTag="[object Set]",weakMapTag="[object WeakMap]",dataViewTag="[object DataView]",dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map),promiseCtorString=toSource(Promise),setCtorString=toSource(Set),weakMapCtorString=toSource(WeakMap),getTag=baseGetTag;(DataView&&getTag(new DataView(new ArrayBuffer(1)))!=dataViewTag||Map&&getTag(new Map)!=mapTag||Promise&&getTag(Promise.resolve())!=promiseTag||Set&&getTag(new Set)!=setTag||WeakMap&&getTag(new WeakMap)!=weakMapTag)&&(getTag=function(value){var result=baseGetTag(value),Ctor=result==objectTag?value.constructor:void 0,ctorString=Ctor?toSource(Ctor):"";if(ctorString)switch(ctorString){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return promiseTag;case setCtorString:return setTag;case weakMapCtorString:return weakMapTag}return result}),module.exports=getTag},{"./_DataView":249,"./_Map":252,"./_Promise":254,"./_Set":255,"./_WeakMap":260,"./_baseGetTag":283,"./_toSource":397}],344:[function(require,module,exports){function getValue(object,key){return null==object?void 0:object[key]}module.exports=getValue},{}],345:[function(require,module,exports){function hasPath(object,path,hasFunc){path=castPath(path,object);for(var index=-1,length=path.length,result=!1;++index<length;){var key=toKey(path[index]);if(!(result=null!=object&&hasFunc(object,key)))break;object=object[key]}return result||++index!=length?result:(length=null==object?0:object.length,!!length&&isLength(length)&&isIndex(key,length)&&(isArray(object)||isArguments(object)))}var castPath=require("./_castPath"),isArguments=require("./isArguments"),isArray=require("./isArray"),isIndex=require("./_isIndex"),isLength=require("./isLength"),toKey=require("./_toKey");module.exports=hasPath},{"./_castPath":313,"./_isIndex":355,"./_toKey":396,"./isArguments":411,"./isArray":412,"./isLength":417}],346:[function(require,module,exports){function hasUnicode(string){return reHasUnicode.test(string)}var rsAstralRange="\\ud800-\\udfff",rsComboMarksRange="\\u0300-\\u036f",reComboHalfMarksRange="\\ufe20-\\ufe2f",rsComboSymbolsRange="\\u20d0-\\u20ff",rsComboRange=rsComboMarksRange+reComboHalfMarksRange+rsComboSymbolsRange,rsVarRange="\\ufe0e\\ufe0f",rsZWJ="\\u200d",reHasUnicode=RegExp("["+rsZWJ+rsAstralRange+rsComboRange+rsVarRange+"]");module.exports=hasUnicode},{}],347:[function(require,module,exports){function hasUnicodeWord(string){return reHasUnicodeWord.test(string)}var reHasUnicodeWord=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;module.exports=hasUnicodeWord},{}],348:[function(require,module,exports){function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{},this.size=0}var nativeCreate=require("./_nativeCreate");module.exports=hashClear},{"./_nativeCreate":375}],349:[function(require,module,exports){function hashDelete(key){var result=this.has(key)&&delete this.__data__[key];return this.size-=result?1:0,result}module.exports=hashDelete},{}],350:[function(require,module,exports){function hashGet(key){var data=this.__data__;if(nativeCreate){var result=data[key];return result===HASH_UNDEFINED?void 0:result}return hasOwnProperty.call(data,key)?data[key]:void 0}var nativeCreate=require("./_nativeCreate"),HASH_UNDEFINED="__lodash_hash_undefined__",objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;module.exports=hashGet},{"./_nativeCreate":375}],351:[function(require,module,exports){function hashHas(key){var data=this.__data__;return nativeCreate?void 0!==data[key]:hasOwnProperty.call(data,key)}var nativeCreate=require("./_nativeCreate"),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;module.exports=hashHas},{"./_nativeCreate":375}],352:[function(require,module,exports){function hashSet(key,value){var data=this.__data__;return this.size+=this.has(key)?0:1,data[key]=nativeCreate&&void 0===value?HASH_UNDEFINED:value,this}var nativeCreate=require("./_nativeCreate"),HASH_UNDEFINED="__lodash_hash_undefined__";module.exports=hashSet},{"./_nativeCreate":375}],353:[function(require,module,exports){function initCloneObject(object){return"function"!=typeof object.constructor||isPrototype(object)?{}:baseCreate(getPrototype(object))}var baseCreate=require("./_baseCreate"),getPrototype=require("./_getPrototype"),isPrototype=require("./_isPrototype");module.exports=initCloneObject},{"./_baseCreate":275,"./_getPrototype":340,"./_isPrototype":360}],354:[function(require,module,exports){function isFlattenable(value){return isArray(value)||isArguments(value)||!!(spreadableSymbol&&value&&value[spreadableSymbol])}var Symbol=require("./_Symbol"),isArguments=require("./isArguments"),isArray=require("./isArray"),spreadableSymbol=Symbol?Symbol.isConcatSpreadable:void 0;module.exports=isFlattenable},{"./_Symbol":258,"./isArguments":411,"./isArray":412}],355:[function(require,module,exports){function isIndex(value,length){return length=null==length?MAX_SAFE_INTEGER:length,!!length&&("number"==typeof value||reIsUint.test(value))&&value>-1&&value%1==0&&length>value}var MAX_SAFE_INTEGER=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;module.exports=isIndex},{}],356:[function(require,module,exports){function isIterateeCall(value,index,object){if(!isObject(object))return!1;var type=typeof index;return("number"==type?isArrayLike(object)&&isIndex(index,object.length):"string"==type&&index in object)?eq(object[index],value):!1}var eq=require("./eq"),isArrayLike=require("./isArrayLike"),isIndex=require("./_isIndex"),isObject=require("./isObject");module.exports=isIterateeCall},{"./_isIndex":355,"./eq":405,"./isArrayLike":413,"./isObject":418}],357:[function(require,module,exports){function isKey(value,object){if(isArray(value))return!1;var type=typeof value;return"number"==type||"symbol"==type||"boolean"==type||null==value||isSymbol(value)?!0:reIsPlainProp.test(value)||!reIsDeepProp.test(value)||null!=object&&value in Object(object)}var isArray=require("./isArray"),isSymbol=require("./isSymbol"),reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;module.exports=isKey},{"./isArray":412,"./isSymbol":421}],358:[function(require,module,exports){function isKeyable(value){var type=typeof value;return"string"==type||"number"==type||"symbol"==type||"boolean"==type?"__proto__"!==value:null===value}module.exports=isKeyable},{}],359:[function(require,module,exports){function isMasked(func){return!!maskSrcKey&&maskSrcKey in func}var coreJsData=require("./_coreJsData"),maskSrcKey=function(){var uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return uid?"Symbol(src)_1."+uid:""}();module.exports=isMasked},{"./_coreJsData":322}],360:[function(require,module,exports){function isPrototype(value){var Ctor=value&&value.constructor,proto="function"==typeof Ctor&&Ctor.prototype||objectProto;return value===proto}var objectProto=Object.prototype;module.exports=isPrototype},{}],361:[function(require,module,exports){function isStrictComparable(value){return value===value&&!isObject(value)}var isObject=require("./isObject");module.exports=isStrictComparable},{"./isObject":418}],362:[function(require,module,exports){function listCacheClear(){this.__data__=[],this.size=0}module.exports=listCacheClear},{}],363:[function(require,module,exports){function listCacheDelete(key){var data=this.__data__,index=assocIndexOf(data,key);if(0>index)return!1;var lastIndex=data.length-1;return index==lastIndex?data.pop():splice.call(data,index,1),--this.size,!0}var assocIndexOf=require("./_assocIndexOf"),arrayProto=Array.prototype,splice=arrayProto.splice;module.exports=listCacheDelete},{"./_assocIndexOf":273}],364:[function(require,module,exports){function listCacheGet(key){var data=this.__data__,index=assocIndexOf(data,key);return 0>index?void 0:data[index][1]}var assocIndexOf=require("./_assocIndexOf");module.exports=listCacheGet},{"./_assocIndexOf":273}],365:[function(require,module,exports){function listCacheHas(key){return assocIndexOf(this.__data__,key)>-1}var assocIndexOf=require("./_assocIndexOf");module.exports=listCacheHas},{"./_assocIndexOf":273}],366:[function(require,module,exports){function listCacheSet(key,value){var data=this.__data__,index=assocIndexOf(data,key);return 0>index?(++this.size,data.push([key,value])):data[index][1]=value,this}var assocIndexOf=require("./_assocIndexOf");module.exports=listCacheSet},{"./_assocIndexOf":273}],367:[function(require,module,exports){function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash}}var Hash=require("./_Hash"),ListCache=require("./_ListCache"),Map=require("./_Map");module.exports=mapCacheClear},{"./_Hash":250,"./_ListCache":251,"./_Map":252}],368:[function(require,module,exports){function mapCacheDelete(key){var result=getMapData(this,key)["delete"](key);return this.size-=result?1:0,result}var getMapData=require("./_getMapData");module.exports=mapCacheDelete},{"./_getMapData":337}],369:[function(require,module,exports){function mapCacheGet(key){return getMapData(this,key).get(key)}var getMapData=require("./_getMapData");module.exports=mapCacheGet},{"./_getMapData":337}],370:[function(require,module,exports){function mapCacheHas(key){return getMapData(this,key).has(key)}var getMapData=require("./_getMapData");module.exports=mapCacheHas},{"./_getMapData":337}],371:[function(require,module,exports){function mapCacheSet(key,value){var data=getMapData(this,key),size=data.size;return data.set(key,value),this.size+=data.size==size?0:1,this}var getMapData=require("./_getMapData");module.exports=mapCacheSet},{"./_getMapData":337}],372:[function(require,module,exports){function mapToArray(map){var index=-1,result=Array(map.size);return map.forEach(function(value,key){result[++index]=[key,value]}),result}module.exports=mapToArray},{}],373:[function(require,module,exports){function matchesStrictComparable(key,srcValue){return function(object){return null==object?!1:object[key]===srcValue&&(void 0!==srcValue||key in Object(object))}}module.exports=matchesStrictComparable},{}],374:[function(require,module,exports){function memoizeCapped(func){var result=memoize(func,function(key){return cache.size===MAX_MEMOIZE_SIZE&&cache.clear(),key}),cache=result.cache;return result}var memoize=require("./memoize"),MAX_MEMOIZE_SIZE=500;module.exports=memoizeCapped},{"./memoize":425}],375:[function(require,module,exports){var getNative=require("./_getNative"),nativeCreate=getNative(Object,"create");module.exports=nativeCreate},{"./_getNative":339}],376:[function(require,module,exports){var overArg=require("./_overArg"),nativeKeys=overArg(Object.keys,Object);module.exports=nativeKeys},{"./_overArg":380}],377:[function(require,module,exports){function nativeKeysIn(object){var result=[];if(null!=object)for(var key in Object(object))result.push(key);return result}module.exports=nativeKeysIn},{}],378:[function(require,module,exports){var freeGlobal=require("./_freeGlobal"),freeExports="object"==typeof exports&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&"object"==typeof module&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,freeProcess=moduleExports&&freeGlobal.process,nodeUtil=function(){try{return freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch(e){}}();module.exports=nodeUtil},{"./_freeGlobal":335}],379:[function(require,module,exports){function objectToString(value){return nativeObjectToString.call(value)}var objectProto=Object.prototype,nativeObjectToString=objectProto.toString;module.exports=objectToString},{}],380:[function(require,module,exports){function overArg(func,transform){return function(arg){return func(transform(arg))}}module.exports=overArg},{}],381:[function(require,module,exports){function overRest(func,start,transform){return start=nativeMax(void 0===start?func.length-1:start,0),function(){for(var args=arguments,index=-1,length=nativeMax(args.length-start,0),array=Array(length);++index<length;)array[index]=args[start+index];index=-1;for(var otherArgs=Array(start+1);++index<start;)otherArgs[index]=args[index];return otherArgs[start]=transform(array),apply(func,this,otherArgs)}}var apply=require("./_apply"),nativeMax=Math.max;module.exports=overRest},{"./_apply":261}],382:[function(require,module,exports){var freeGlobal=require("./_freeGlobal"),freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")();module.exports=root},{"./_freeGlobal":335}],383:[function(require,module,exports){function setCacheAdd(value){return this.__data__.set(value,HASH_UNDEFINED),this}var HASH_UNDEFINED="__lodash_hash_undefined__";module.exports=setCacheAdd},{}],384:[function(require,module,exports){function setCacheHas(value){return this.__data__.has(value)}module.exports=setCacheHas},{}],385:[function(require,module,exports){function setToArray(set){var index=-1,result=Array(set.size);return set.forEach(function(value){result[++index]=value}),result}module.exports=setToArray},{}],386:[function(require,module,exports){var baseSetToString=require("./_baseSetToString"),shortOut=require("./_shortOut"),setToString=shortOut(baseSetToString);module.exports=setToString},{"./_baseSetToString":305,"./_shortOut":387}],387:[function(require,module,exports){function shortOut(func){var count=0,lastCalled=0;return function(){var stamp=nativeNow(),remaining=HOT_SPAN-(stamp-lastCalled);if(lastCalled=stamp,remaining>0){if(++count>=HOT_COUNT)return arguments[0]}else count=0;return func.apply(void 0,arguments)}}var HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;module.exports=shortOut},{}],388:[function(require,module,exports){function stackClear(){this.__data__=new ListCache,this.size=0}var ListCache=require("./_ListCache");module.exports=stackClear},{"./_ListCache":251}],389:[function(require,module,exports){function stackDelete(key){var data=this.__data__,result=data["delete"](key);return this.size=data.size,result}module.exports=stackDelete},{}],390:[function(require,module,exports){function stackGet(key){return this.__data__.get(key)}module.exports=stackGet},{}],391:[function(require,module,exports){function stackHas(key){return this.__data__.has(key)}module.exports=stackHas},{}],392:[function(require,module,exports){function stackSet(key,value){var data=this.__data__;if(data instanceof ListCache){var pairs=data.__data__;if(!Map||pairs.length<LARGE_ARRAY_SIZE-1)return pairs.push([key,value]),this.size=++data.size,this;data=this.__data__=new MapCache(pairs)}return data.set(key,value),this.size=data.size,this}var ListCache=require("./_ListCache"),Map=require("./_Map"),MapCache=require("./_MapCache"),LARGE_ARRAY_SIZE=200;module.exports=stackSet},{"./_ListCache":251,"./_Map":252,"./_MapCache":253}],393:[function(require,module,exports){function stringSize(string){return hasUnicode(string)?unicodeSize(string):asciiSize(string)}var asciiSize=require("./_asciiSize"),hasUnicode=require("./_hasUnicode"),unicodeSize=require("./_unicodeSize");module.exports=stringSize},{"./_asciiSize":268,"./_hasUnicode":346,"./_unicodeSize":398}],394:[function(require,module,exports){function stringToArray(string){return hasUnicode(string)?unicodeToArray(string):asciiToArray(string)}var asciiToArray=require("./_asciiToArray"),hasUnicode=require("./_hasUnicode"),unicodeToArray=require("./_unicodeToArray");module.exports=stringToArray},{"./_asciiToArray":269,"./_hasUnicode":346,"./_unicodeToArray":399}],395:[function(require,module,exports){var memoizeCapped=require("./_memoizeCapped"),reLeadingDot=/^\./,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=memoizeCapped(function(string){var result=[];return reLeadingDot.test(string)&&result.push(""),string.replace(rePropName,function(match,number,quote,string){result.push(quote?string.replace(reEscapeChar,"$1"):number||match)}),result});module.exports=stringToPath},{"./_memoizeCapped":374}],396:[function(require,module,exports){function toKey(value){if("string"==typeof value||isSymbol(value))return value;var result=value+"";return"0"==result&&1/value==-INFINITY?"-0":result}var isSymbol=require("./isSymbol"),INFINITY=1/0;module.exports=toKey},{"./isSymbol":421}],397:[function(require,module,exports){function toSource(func){if(null!=func){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e){}}return""}var funcProto=Function.prototype,funcToString=funcProto.toString;module.exports=toSource},{}],398:[function(require,module,exports){function unicodeSize(string){for(var result=reUnicode.lastIndex=0;reUnicode.test(string);)++result;return result}var rsAstralRange="\\ud800-\\udfff",rsComboMarksRange="\\u0300-\\u036f",reComboHalfMarksRange="\\ufe20-\\ufe2f",rsComboSymbolsRange="\\u20d0-\\u20ff",rsComboRange=rsComboMarksRange+reComboHalfMarksRange+rsComboSymbolsRange,rsVarRange="\\ufe0e\\ufe0f",rsAstral="["+rsAstralRange+"]",rsCombo="["+rsComboRange+"]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsModifier="(?:"+rsCombo+"|"+rsFitz+")",rsNonAstral="[^"+rsAstralRange+"]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",rsZWJ="\\u200d",reOptMod=rsModifier+"?",rsOptVar="["+rsVarRange+"]?",rsOptJoin="(?:"+rsZWJ+"(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")"+rsOptVar+reOptMod+")*",rsSeq=rsOptVar+reOptMod+rsOptJoin,rsSymbol="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,rsAstral].join("|")+")",reUnicode=RegExp(rsFitz+"(?="+rsFitz+")|"+rsSymbol+rsSeq,"g");module.exports=unicodeSize},{}],399:[function(require,module,exports){function unicodeToArray(string){return string.match(reUnicode)||[]}var rsAstralRange="\\ud800-\\udfff",rsComboMarksRange="\\u0300-\\u036f",reComboHalfMarksRange="\\ufe20-\\ufe2f",rsComboSymbolsRange="\\u20d0-\\u20ff",rsComboRange=rsComboMarksRange+reComboHalfMarksRange+rsComboSymbolsRange,rsVarRange="\\ufe0e\\ufe0f",rsAstral="["+rsAstralRange+"]",rsCombo="["+rsComboRange+"]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsModifier="(?:"+rsCombo+"|"+rsFitz+")",rsNonAstral="[^"+rsAstralRange+"]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",rsZWJ="\\u200d",reOptMod=rsModifier+"?",rsOptVar="["+rsVarRange+"]?",rsOptJoin="(?:"+rsZWJ+"(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")"+rsOptVar+reOptMod+")*",rsSeq=rsOptVar+reOptMod+rsOptJoin,rsSymbol="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,rsAstral].join("|")+")",reUnicode=RegExp(rsFitz+"(?="+rsFitz+")|"+rsSymbol+rsSeq,"g");module.exports=unicodeToArray},{}],400:[function(require,module,exports){function unicodeWords(string){return string.match(reUnicodeWord)||[]}var rsAstralRange="\\ud800-\\udfff",rsComboMarksRange="\\u0300-\\u036f",reComboHalfMarksRange="\\ufe20-\\ufe2f",rsComboSymbolsRange="\\u20d0-\\u20ff",rsComboRange=rsComboMarksRange+reComboHalfMarksRange+rsComboSymbolsRange,rsDingbatRange="\\u2700-\\u27bf",rsLowerRange="a-z\\xdf-\\xf6\\xf8-\\xff",rsMathOpRange="\\xac\\xb1\\xd7\\xf7",rsNonCharRange="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",rsPunctuationRange="\\u2000-\\u206f",rsSpaceRange=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",rsUpperRange="A-Z\\xc0-\\xd6\\xd8-\\xde",rsVarRange="\\ufe0e\\ufe0f",rsBreakRange=rsMathOpRange+rsNonCharRange+rsPunctuationRange+rsSpaceRange,rsApos="[']",rsBreak="["+rsBreakRange+"]",rsCombo="["+rsComboRange+"]",rsDigits="\\d+",rsDingbat="["+rsDingbatRange+"]",rsLower="["+rsLowerRange+"]",rsMisc="[^"+rsAstralRange+rsBreakRange+rsDigits+rsDingbatRange+rsLowerRange+rsUpperRange+"]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsModifier="(?:"+rsCombo+"|"+rsFitz+")",rsNonAstral="[^"+rsAstralRange+"]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",rsUpper="["+rsUpperRange+"]",rsZWJ="\\u200d",rsMiscLower="(?:"+rsLower+"|"+rsMisc+")",rsMiscUpper="(?:"+rsUpper+"|"+rsMisc+")",rsOptContrLower="(?:"+rsApos+"(?:d|ll|m|re|s|t|ve))?",rsOptContrUpper="(?:"+rsApos+"(?:D|LL|M|RE|S|T|VE))?",reOptMod=rsModifier+"?",rsOptVar="["+rsVarRange+"]?",rsOptJoin="(?:"+rsZWJ+"(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")"+rsOptVar+reOptMod+")*",rsOrdLower="\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)",rsOrdUpper="\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)",rsSeq=rsOptVar+reOptMod+rsOptJoin,rsEmoji="(?:"+[rsDingbat,rsRegional,rsSurrPair].join("|")+")"+rsSeq,reUnicodeWord=RegExp([rsUpper+"?"+rsLower+"+"+rsOptContrLower+"(?="+[rsBreak,rsUpper,"$"].join("|")+")",rsMiscUpper+"+"+rsOptContrUpper+"(?="+[rsBreak,rsUpper+rsMiscLower,"$"].join("|")+")",rsUpper+"?"+rsMiscLower+"+"+rsOptContrLower,rsUpper+"+"+rsOptContrUpper,rsOrdUpper,rsOrdLower,rsDigits,rsEmoji].join("|"),"g");module.exports=unicodeWords},{}],401:[function(require,module,exports){var capitalize=require("./capitalize"),createCompounder=require("./_createCompounder"),camelCase=createCompounder(function(result,word,index){return word=word.toLowerCase(),result+(index?capitalize(word):word)});module.exports=camelCase},{"./_createCompounder":327,"./capitalize":402}],402:[function(require,module,exports){function capitalize(string){return upperFirst(toString(string).toLowerCase())}var toString=require("./toString"),upperFirst=require("./upperFirst");module.exports=capitalize},{"./toString":438,"./upperFirst":439}],403:[function(require,module,exports){function constant(value){return function(){return value}}module.exports=constant},{}],404:[function(require,module,exports){function deburr(string){return string=toString(string),string&&string.replace(reLatin,deburrLetter).replace(reComboMark,"")}var deburrLetter=require("./_deburrLetter"),toString=require("./toString"),reLatin=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,rsComboMarksRange="\\u0300-\\u036f",reComboHalfMarksRange="\\ufe20-\\ufe2f",rsComboSymbolsRange="\\u20d0-\\u20ff",rsComboRange=rsComboMarksRange+reComboHalfMarksRange+rsComboSymbolsRange,rsCombo="["+rsComboRange+"]",reComboMark=RegExp(rsCombo,"g");module.exports=deburr},{"./_deburrLetter":330,"./toString":438}],405:[function(require,module,exports){function eq(value,other){return value===other||value!==value&&other!==other}module.exports=eq},{}],406:[function(require,module,exports){
var createFind=require("./_createFind"),findIndex=require("./findIndex"),find=createFind(findIndex);module.exports=find},{"./_createFind":328,"./findIndex":407}],407:[function(require,module,exports){function findIndex(array,predicate,fromIndex){var length=null==array?0:array.length;if(!length)return-1;var index=null==fromIndex?0:toInteger(fromIndex);return 0>index&&(index=nativeMax(length+index,0)),baseFindIndex(array,baseIteratee(predicate,3),index)}var baseFindIndex=require("./_baseFindIndex"),baseIteratee=require("./_baseIteratee"),toInteger=require("./toInteger"),nativeMax=Math.max;module.exports=findIndex},{"./_baseFindIndex":277,"./_baseIteratee":291,"./toInteger":435}],408:[function(require,module,exports){function get(object,path,defaultValue){var result=null==object?void 0:baseGet(object,path);return void 0===result?defaultValue:result}var baseGet=require("./_baseGet");module.exports=get},{"./_baseGet":281}],409:[function(require,module,exports){function hasIn(object,path){return null!=object&&hasPath(object,path,baseHasIn)}var baseHasIn=require("./_baseHasIn"),hasPath=require("./_hasPath");module.exports=hasIn},{"./_baseHasIn":284,"./_hasPath":345}],410:[function(require,module,exports){function identity(value){return value}module.exports=identity},{}],411:[function(require,module,exports){var baseIsArguments=require("./_baseIsArguments"),isObjectLike=require("./isObjectLike"),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,propertyIsEnumerable=objectProto.propertyIsEnumerable,isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(value){return isObjectLike(value)&&hasOwnProperty.call(value,"callee")&&!propertyIsEnumerable.call(value,"callee")};module.exports=isArguments},{"./_baseIsArguments":285,"./isObjectLike":419}],412:[function(require,module,exports){var isArray=Array.isArray;module.exports=isArray},{}],413:[function(require,module,exports){function isArrayLike(value){return null!=value&&isLength(value.length)&&!isFunction(value)}var isFunction=require("./isFunction"),isLength=require("./isLength");module.exports=isArrayLike},{"./isFunction":416,"./isLength":417}],414:[function(require,module,exports){function isArrayLikeObject(value){return isObjectLike(value)&&isArrayLike(value)}var isArrayLike=require("./isArrayLike"),isObjectLike=require("./isObjectLike");module.exports=isArrayLikeObject},{"./isArrayLike":413,"./isObjectLike":419}],415:[function(require,module,exports){var root=require("./_root"),stubFalse=require("./stubFalse"),freeExports="object"==typeof exports&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&"object"==typeof module&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,Buffer=moduleExports?root.Buffer:void 0,nativeIsBuffer=Buffer?Buffer.isBuffer:void 0,isBuffer=nativeIsBuffer||stubFalse;module.exports=isBuffer},{"./_root":382,"./stubFalse":432}],416:[function(require,module,exports){function isFunction(value){if(!isObject(value))return!1;var tag=baseGetTag(value);return tag==funcTag||tag==genTag||tag==asyncTag||tag==proxyTag}var baseGetTag=require("./_baseGetTag"),isObject=require("./isObject"),asyncTag="[object AsyncFunction]",funcTag="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";module.exports=isFunction},{"./_baseGetTag":283,"./isObject":418}],417:[function(require,module,exports){function isLength(value){return"number"==typeof value&&value>-1&&value%1==0&&MAX_SAFE_INTEGER>=value}var MAX_SAFE_INTEGER=9007199254740991;module.exports=isLength},{}],418:[function(require,module,exports){function isObject(value){var type=typeof value;return null!=value&&("object"==type||"function"==type)}module.exports=isObject},{}],419:[function(require,module,exports){function isObjectLike(value){return null!=value&&"object"==typeof value}module.exports=isObjectLike},{}],420:[function(require,module,exports){function isPlainObject(value){if(!isObjectLike(value)||baseGetTag(value)!=objectTag)return!1;var proto=getPrototype(value);if(null===proto)return!0;var Ctor=hasOwnProperty.call(proto,"constructor")&&proto.constructor;return"function"==typeof Ctor&&Ctor instanceof Ctor&&funcToString.call(Ctor)==objectCtorString}var baseGetTag=require("./_baseGetTag"),getPrototype=require("./_getPrototype"),isObjectLike=require("./isObjectLike"),objectTag="[object Object]",funcProto=Function.prototype,objectProto=Object.prototype,funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,objectCtorString=funcToString.call(Object);module.exports=isPlainObject},{"./_baseGetTag":283,"./_getPrototype":340,"./isObjectLike":419}],421:[function(require,module,exports){function isSymbol(value){return"symbol"==typeof value||isObjectLike(value)&&baseGetTag(value)==symbolTag}var baseGetTag=require("./_baseGetTag"),isObjectLike=require("./isObjectLike"),symbolTag="[object Symbol]";module.exports=isSymbol},{"./_baseGetTag":283,"./isObjectLike":419}],422:[function(require,module,exports){var baseIsTypedArray=require("./_baseIsTypedArray"),baseUnary=require("./_baseUnary"),nodeUtil=require("./_nodeUtil"),nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray;module.exports=isTypedArray},{"./_baseIsTypedArray":290,"./_baseUnary":311,"./_nodeUtil":378}],423:[function(require,module,exports){function keys(object){return isArrayLike(object)?arrayLikeKeys(object):baseKeys(object)}var arrayLikeKeys=require("./_arrayLikeKeys"),baseKeys=require("./_baseKeys"),isArrayLike=require("./isArrayLike");module.exports=keys},{"./_arrayLikeKeys":263,"./_baseKeys":292,"./isArrayLike":413}],424:[function(require,module,exports){function keysIn(object){return isArrayLike(object)?arrayLikeKeys(object,!0):baseKeysIn(object)}var arrayLikeKeys=require("./_arrayLikeKeys"),baseKeysIn=require("./_baseKeysIn"),isArrayLike=require("./isArrayLike");module.exports=keysIn},{"./_arrayLikeKeys":263,"./_baseKeysIn":293,"./isArrayLike":413}],425:[function(require,module,exports){function memoize(func,resolver){if("function"!=typeof func||null!=resolver&&"function"!=typeof resolver)throw new TypeError(FUNC_ERROR_TEXT);var memoized=function(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache=memoized.cache;if(cache.has(key))return cache.get(key);var result=func.apply(this,args);return memoized.cache=cache.set(key,result)||cache,result};return memoized.cache=new(memoize.Cache||MapCache),memoized}var MapCache=require("./_MapCache"),FUNC_ERROR_TEXT="Expected a function";memoize.Cache=MapCache,module.exports=memoize},{"./_MapCache":253}],426:[function(require,module,exports){var baseMerge=require("./_baseMerge"),createAssigner=require("./_createAssigner"),merge=createAssigner(function(object,source,srcIndex){baseMerge(object,source,srcIndex)});module.exports=merge},{"./_baseMerge":297,"./_createAssigner":323}],427:[function(require,module,exports){function padEnd(string,length,chars){string=toString(string),length=toInteger(length);var strLength=length?stringSize(string):0;return length&&length>strLength?string+createPadding(length-strLength,chars):string}var createPadding=require("./_createPadding"),stringSize=require("./_stringSize"),toInteger=require("./toInteger"),toString=require("./toString");module.exports=padEnd},{"./_createPadding":329,"./_stringSize":393,"./toInteger":435,"./toString":438}],428:[function(require,module,exports){function padStart(string,length,chars){string=toString(string),length=toInteger(length);var strLength=length?stringSize(string):0;return length&&length>strLength?createPadding(length-strLength,chars)+string:string}var createPadding=require("./_createPadding"),stringSize=require("./_stringSize"),toInteger=require("./toInteger"),toString=require("./toString");module.exports=padStart},{"./_createPadding":329,"./_stringSize":393,"./toInteger":435,"./toString":438}],429:[function(require,module,exports){function property(path){return isKey(path)?baseProperty(toKey(path)):basePropertyDeep(path)}var baseProperty=require("./_baseProperty"),basePropertyDeep=require("./_basePropertyDeep"),isKey=require("./_isKey"),toKey=require("./_toKey");module.exports=property},{"./_baseProperty":300,"./_basePropertyDeep":301,"./_isKey":357,"./_toKey":396}],430:[function(require,module,exports){var baseFlatten=require("./_baseFlatten"),baseOrderBy=require("./_baseOrderBy"),baseRest=require("./_baseRest"),isIterateeCall=require("./_isIterateeCall"),sortBy=baseRest(function(collection,iteratees){if(null==collection)return[];var length=iteratees.length;return length>1&&isIterateeCall(collection,iteratees[0],iteratees[1])?iteratees=[]:length>2&&isIterateeCall(iteratees[0],iteratees[1],iteratees[2])&&(iteratees=[iteratees[0]]),baseOrderBy(collection,baseFlatten(iteratees,1),[])});module.exports=sortBy},{"./_baseFlatten":278,"./_baseOrderBy":299,"./_baseRest":304,"./_isIterateeCall":356}],431:[function(require,module,exports){function stubArray(){return[]}module.exports=stubArray},{}],432:[function(require,module,exports){function stubFalse(){return!1}module.exports=stubFalse},{}],433:[function(require,module,exports){function sum(array){return array&&array.length?baseSum(array,identity):0}var baseSum=require("./_baseSum"),identity=require("./identity");module.exports=sum},{"./_baseSum":308,"./identity":410}],434:[function(require,module,exports){function toFinite(value){if(!value)return 0===value?value:0;if(value=toNumber(value),value===INFINITY||value===-INFINITY){var sign=0>value?-1:1;return sign*MAX_INTEGER}return value===value?value:0}var toNumber=require("./toNumber"),INFINITY=1/0,MAX_INTEGER=1.7976931348623157e308;module.exports=toFinite},{"./toNumber":436}],435:[function(require,module,exports){function toInteger(value){var result=toFinite(value),remainder=result%1;return result===result?remainder?result-remainder:result:0}var toFinite=require("./toFinite");module.exports=toInteger},{"./toFinite":434}],436:[function(require,module,exports){function toNumber(value){if("number"==typeof value)return value;if(isSymbol(value))return NAN;if(isObject(value)){var other="function"==typeof value.valueOf?value.valueOf():value;value=isObject(other)?other+"":other}if("string"!=typeof value)return 0===value?value:+value;value=value.replace(reTrim,"");var isBinary=reIsBinary.test(value);return isBinary||reIsOctal.test(value)?freeParseInt(value.slice(2),isBinary?2:8):reIsBadHex.test(value)?NAN:+value}var isObject=require("./isObject"),isSymbol=require("./isSymbol"),NAN=NaN,reTrim=/^\s+|\s+$/g,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;module.exports=toNumber},{"./isObject":418,"./isSymbol":421}],437:[function(require,module,exports){function toPlainObject(value){return copyObject(value,keysIn(value))}var copyObject=require("./_copyObject"),keysIn=require("./keysIn");module.exports=toPlainObject},{"./_copyObject":321,"./keysIn":424}],438:[function(require,module,exports){function toString(value){return null==value?"":baseToString(value)}var baseToString=require("./_baseToString");module.exports=toString},{"./_baseToString":310}],439:[function(require,module,exports){var createCaseFirst=require("./_createCaseFirst"),upperFirst=createCaseFirst("toUpperCase");module.exports=upperFirst},{"./_createCaseFirst":326}],440:[function(require,module,exports){function words(string,pattern,guard){return string=toString(string),pattern=guard?void 0:pattern,void 0===pattern?hasUnicodeWord(string)?unicodeWords(string):asciiWords(string):string.match(pattern)||[]}var asciiWords=require("./_asciiWords"),hasUnicodeWord=require("./_hasUnicodeWord"),toString=require("./toString"),unicodeWords=require("./_unicodeWords");module.exports=words},{"./_asciiWords":270,"./_hasUnicodeWord":347,"./_unicodeWords":400,"./toString":438}],441:[function(require,module,exports){function mkdirP(p,opts,f,made){"function"==typeof opts?(f=opts,opts={}):opts&&"object"==typeof opts||(opts={mode:opts});var mode=opts.mode,xfs=opts.fs||fs;void 0===mode&&(mode=_0777&~process.umask()),made||(made=null);var cb=f||function(){};p=path.resolve(p),xfs.mkdir(p,mode,function(er){if(!er)return made=made||p,cb(null,made);switch(er.code){case"ENOENT":mkdirP(path.dirname(p),opts,function(er,made){er?cb(er,made):mkdirP(p,opts,cb,made)});break;default:xfs.stat(p,function(er2,stat){er2||!stat.isDirectory()?cb(er,made):cb(null,made)})}})}var path=require("path"),fs=require("fs"),_0777=parseInt("0777",8);module.exports=mkdirP.mkdirp=mkdirP.mkdirP=mkdirP,mkdirP.sync=function sync(p,opts,made){opts&&"object"==typeof opts||(opts={mode:opts});var mode=opts.mode,xfs=opts.fs||fs;void 0===mode&&(mode=_0777&~process.umask()),made||(made=null),p=path.resolve(p);try{xfs.mkdirSync(p,mode),made=made||p}catch(err0){switch(err0.code){case"ENOENT":made=sync(path.dirname(p),opts,made),sync(p,opts,made);break;default:var stat;try{stat=xfs.statSync(p)}catch(err1){throw err0}if(!stat.isDirectory())throw err0}}return made}},{fs:void 0,path:void 0}],442:[function(require,module,exports){!function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?module.exports=factory():"function"==typeof define&&define.amd?define(factory):global.moment=factory()}(this,function(){"use strict";function utils_hooks__hooks(){return hookCallback.apply(null,arguments)}function setHookCallback(callback){hookCallback=callback}function isArray(input){return"[object Array]"===Object.prototype.toString.call(input)}function isDate(input){return input instanceof Date||"[object Date]"===Object.prototype.toString.call(input)}function map(arr,fn){var i,res=[];for(i=0;i<arr.length;++i)res.push(fn(arr[i],i));return res}function hasOwnProp(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function extend(a,b){for(var i in b)hasOwnProp(b,i)&&(a[i]=b[i]);return hasOwnProp(b,"toString")&&(a.toString=b.toString),hasOwnProp(b,"valueOf")&&(a.valueOf=b.valueOf),a}function create_utc__createUTC(input,format,locale,strict){return createLocalOrUTC(input,format,locale,strict,!0).utc()}function defaultParsingFlags(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function getParsingFlags(m){return null==m._pf&&(m._pf=defaultParsingFlags()),m._pf}function valid__isValid(m){if(null==m._isValid){var flags=getParsingFlags(m);m._isValid=!(isNaN(m._d.getTime())||!(flags.overflow<0)||flags.empty||flags.invalidMonth||flags.invalidWeekday||flags.nullInput||flags.invalidFormat||flags.userInvalidated),m._strict&&(m._isValid=m._isValid&&0===flags.charsLeftOver&&0===flags.unusedTokens.length&&void 0===flags.bigHour)}return m._isValid}function valid__createInvalid(flags){var m=create_utc__createUTC(NaN);return null!=flags?extend(getParsingFlags(m),flags):getParsingFlags(m).userInvalidated=!0,m}function copyConfig(to,from){var i,prop,val;if("undefined"!=typeof from._isAMomentObject&&(to._isAMomentObject=from._isAMomentObject),"undefined"!=typeof from._i&&(to._i=from._i),"undefined"!=typeof from._f&&(to._f=from._f),"undefined"!=typeof from._l&&(to._l=from._l),"undefined"!=typeof from._strict&&(to._strict=from._strict),"undefined"!=typeof from._tzm&&(to._tzm=from._tzm),"undefined"!=typeof from._isUTC&&(to._isUTC=from._isUTC),"undefined"!=typeof from._offset&&(to._offset=from._offset),"undefined"!=typeof from._pf&&(to._pf=getParsingFlags(from)),"undefined"!=typeof from._locale&&(to._locale=from._locale),momentProperties.length>0)for(i in momentProperties)prop=momentProperties[i],val=from[prop],"undefined"!=typeof val&&(to[prop]=val);return to}function Moment(config){copyConfig(this,config),this._d=new Date(null!=config._d?config._d.getTime():NaN),updateInProgress===!1&&(updateInProgress=!0,utils_hooks__hooks.updateOffset(this),updateInProgress=!1)}function isMoment(obj){return obj instanceof Moment||null!=obj&&null!=obj._isAMomentObject}function absFloor(number){return 0>number?Math.ceil(number):Math.floor(number)}function toInt(argumentForCoercion){var coercedNumber=+argumentForCoercion,value=0;return 0!==coercedNumber&&isFinite(coercedNumber)&&(value=absFloor(coercedNumber)),value}function compareArrays(array1,array2,dontConvert){var i,len=Math.min(array1.length,array2.length),lengthDiff=Math.abs(array1.length-array2.length),diffs=0;for(i=0;len>i;i++)(dontConvert&&array1[i]!==array2[i]||!dontConvert&&toInt(array1[i])!==toInt(array2[i]))&&diffs++;return diffs+lengthDiff}function Locale(){}function normalizeLocale(key){return key?key.toLowerCase().replace("_","-"):key}function chooseLocale(names){for(var j,next,locale,split,i=0;i<names.length;){for(split=normalizeLocale(names[i]).split("-"),j=split.length,next=normalizeLocale(names[i+1]),next=next?next.split("-"):null;j>0;){if(locale=loadLocale(split.slice(0,j).join("-")))return locale;if(next&&next.length>=j&&compareArrays(split,next,!0)>=j-1)break;j--}i++}return null}function loadLocale(name){var oldLocale=null;if(!locales[name]&&"undefined"!=typeof module&&module&&module.exports)try{oldLocale=globalLocale._abbr,require("./locale/"+name),locale_locales__getSetGlobalLocale(oldLocale)}catch(e){}return locales[name]}function locale_locales__getSetGlobalLocale(key,values){var data;return key&&(data="undefined"==typeof values?locale_locales__getLocale(key):defineLocale(key,values),data&&(globalLocale=data)),globalLocale._abbr}function defineLocale(name,values){return null!==values?(values.abbr=name,locales[name]=locales[name]||new Locale,locales[name].set(values),locale_locales__getSetGlobalLocale(name),locales[name]):(delete locales[name],null)}function locale_locales__getLocale(key){var locale;if(key&&key._locale&&key._locale._abbr&&(key=key._locale._abbr),!key)return globalLocale;if(!isArray(key)){if(locale=loadLocale(key))return locale;key=[key]}return chooseLocale(key)}function addUnitAlias(unit,shorthand){var lowerCase=unit.toLowerCase();aliases[lowerCase]=aliases[lowerCase+"s"]=aliases[shorthand]=unit}function normalizeUnits(units){return"string"==typeof units?aliases[units]||aliases[units.toLowerCase()]:void 0}function normalizeObjectUnits(inputObject){var normalizedProp,prop,normalizedInput={};for(prop in inputObject)hasOwnProp(inputObject,prop)&&(normalizedProp=normalizeUnits(prop),normalizedProp&&(normalizedInput[normalizedProp]=inputObject[prop]));return normalizedInput}function makeGetSet(unit,keepTime){return function(value){return null!=value?(get_set__set(this,unit,value),utils_hooks__hooks.updateOffset(this,keepTime),this):get_set__get(this,unit)}}function get_set__get(mom,unit){return mom._d["get"+(mom._isUTC?"UTC":"")+unit]()}function get_set__set(mom,unit,value){return mom._d["set"+(mom._isUTC?"UTC":"")+unit](value)}function getSet(units,value){var unit;if("object"==typeof units)for(unit in units)this.set(unit,units[unit]);else if(units=normalizeUnits(units),"function"==typeof this[units])return this[units](value);return this}function zeroFill(number,targetLength,forceSign){var absNumber=""+Math.abs(number),zerosToFill=targetLength-absNumber.length,sign=number>=0;return(sign?forceSign?"+":"":"-")+Math.pow(10,Math.max(0,zerosToFill)).toString().substr(1)+absNumber}function addFormatToken(token,padded,ordinal,callback){var func=callback;"string"==typeof callback&&(func=function(){return this[callback]()}),token&&(formatTokenFunctions[token]=func),padded&&(formatTokenFunctions[padded[0]]=function(){return zeroFill(func.apply(this,arguments),padded[1],padded[2])}),ordinal&&(formatTokenFunctions[ordinal]=function(){return this.localeData().ordinal(func.apply(this,arguments),token)})}function removeFormattingTokens(input){return input.match(/\[[\s\S]/)?input.replace(/^\[|\]$/g,""):input.replace(/\\/g,"")}function makeFormatFunction(format){var i,length,array=format.match(formattingTokens);for(i=0,length=array.length;length>i;i++)formatTokenFunctions[array[i]]?array[i]=formatTokenFunctions[array[i]]:array[i]=removeFormattingTokens(array[i]);return function(mom){var output="";for(i=0;length>i;i++)output+=array[i]instanceof Function?array[i].call(mom,format):array[i];return output}}function formatMoment(m,format){return m.isValid()?(format=expandFormat(format,m.localeData()),formatFunctions[format]=formatFunctions[format]||makeFormatFunction(format),formatFunctions[format](m)):m.localeData().invalidDate()}function expandFormat(format,locale){function replaceLongDateFormatTokens(input){return locale.longDateFormat(input)||input}var i=5;for(localFormattingTokens.lastIndex=0;i>=0&&localFormattingTokens.test(format);)format=format.replace(localFormattingTokens,replaceLongDateFormatTokens),localFormattingTokens.lastIndex=0,i-=1;return format}function isFunction(sth){return"function"==typeof sth&&"[object Function]"===Object.prototype.toString.call(sth)}function addRegexToken(token,regex,strictRegex){regexes[token]=isFunction(regex)?regex:function(isStrict){return isStrict&&strictRegex?strictRegex:regex}}function getParseRegexForToken(token,config){return hasOwnProp(regexes,token)?regexes[token](config._strict,config._locale):new RegExp(unescapeFormat(token))}function unescapeFormat(s){return s.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(matched,p1,p2,p3,p4){return p1||p2||p3||p4}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function addParseToken(token,callback){var i,func=callback;for("string"==typeof token&&(token=[token]),"number"==typeof callback&&(func=function(input,array){array[callback]=toInt(input)}),i=0;i<token.length;i++)tokens[token[i]]=func}function addWeekParseToken(token,callback){addParseToken(token,function(input,array,config,token){config._w=config._w||{},callback(input,config._w,config,token)})}function addTimeToArrayFromToken(token,input,config){null!=input&&hasOwnProp(tokens,token)&&tokens[token](input,config._a,config,token)}function daysInMonth(year,month){return new Date(Date.UTC(year,month+1,0)).getUTCDate()}function localeMonths(m){return this._months[m.month()]}function localeMonthsShort(m){return this._monthsShort[m.month()]}function localeMonthsParse(monthName,format,strict){var i,mom,regex;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;12>i;i++){if(mom=create_utc__createUTC([2e3,i]),strict&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(mom,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(mom,"").replace(".","")+"$","i")),strict||this._monthsParse[i]||(regex="^"+this.months(mom,"")+"|^"+this.monthsShort(mom,""),this._monthsParse[i]=new RegExp(regex.replace(".",""),"i")),strict&&"MMMM"===format&&this._longMonthsParse[i].test(monthName))return i;if(strict&&"MMM"===format&&this._shortMonthsParse[i].test(monthName))return i;if(!strict&&this._monthsParse[i].test(monthName))return i}}function setMonth(mom,value){var dayOfMonth;return"string"==typeof value&&(value=mom.localeData().monthsParse(value),"number"!=typeof value)?mom:(dayOfMonth=Math.min(mom.date(),daysInMonth(mom.year(),value)),mom._d["set"+(mom._isUTC?"UTC":"")+"Month"](value,dayOfMonth),mom)}function getSetMonth(value){return null!=value?(setMonth(this,value),utils_hooks__hooks.updateOffset(this,!0),this):get_set__get(this,"Month")}function getDaysInMonth(){return daysInMonth(this.year(),this.month())}function checkOverflow(m){var overflow,a=m._a;return a&&-2===getParsingFlags(m).overflow&&(overflow=a[MONTH]<0||a[MONTH]>11?MONTH:a[DATE]<1||a[DATE]>daysInMonth(a[YEAR],a[MONTH])?DATE:a[HOUR]<0||a[HOUR]>24||24===a[HOUR]&&(0!==a[MINUTE]||0!==a[SECOND]||0!==a[MILLISECOND])?HOUR:a[MINUTE]<0||a[MINUTE]>59?MINUTE:a[SECOND]<0||a[SECOND]>59?SECOND:a[MILLISECOND]<0||a[MILLISECOND]>999?MILLISECOND:-1,getParsingFlags(m)._overflowDayOfYear&&(YEAR>overflow||overflow>DATE)&&(overflow=DATE),getParsingFlags(m).overflow=overflow),m}function warn(msg){utils_hooks__hooks.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+msg)}function deprecate(msg,fn){var firstTime=!0;return extend(function(){return firstTime&&(warn(msg+"\n"+(new Error).stack),firstTime=!1),fn.apply(this,arguments)},fn)}function deprecateSimple(name,msg){deprecations[name]||(warn(msg),deprecations[name]=!0)}function configFromISO(config){var i,l,string=config._i,match=from_string__isoRegex.exec(string);if(match){for(getParsingFlags(config).iso=!0,i=0,l=isoDates.length;l>i;i++)if(isoDates[i][1].exec(string)){config._f=isoDates[i][0];break}for(i=0,l=isoTimes.length;l>i;i++)if(isoTimes[i][1].exec(string)){config._f+=(match[6]||" ")+isoTimes[i][0];break}string.match(matchOffset)&&(config._f+="Z"),configFromStringAndFormat(config)}else config._isValid=!1}function configFromString(config){var matched=aspNetJsonRegex.exec(config._i);return null!==matched?void(config._d=new Date(+matched[1])):(configFromISO(config),void(config._isValid===!1&&(delete config._isValid,utils_hooks__hooks.createFromInputFallback(config))))}function createDate(y,m,d,h,M,s,ms){var date=new Date(y,m,d,h,M,s,ms);return 1970>y&&date.setFullYear(y),date}function createUTCDate(y){var date=new Date(Date.UTC.apply(null,arguments));return 1970>y&&date.setUTCFullYear(y),date}function daysInYear(year){return isLeapYear(year)?366:365}function isLeapYear(year){return year%4===0&&year%100!==0||year%400===0}function getIsLeapYear(){return isLeapYear(this.year())}function weekOfYear(mom,firstDayOfWeek,firstDayOfWeekOfYear){var adjustedMoment,end=firstDayOfWeekOfYear-firstDayOfWeek,daysToDayOfWeek=firstDayOfWeekOfYear-mom.day();return daysToDayOfWeek>end&&(daysToDayOfWeek-=7),end-7>daysToDayOfWeek&&(daysToDayOfWeek+=7),adjustedMoment=local__createLocal(mom).add(daysToDayOfWeek,"d"),{week:Math.ceil(adjustedMoment.dayOfYear()/7),year:adjustedMoment.year()}}function localeWeek(mom){return weekOfYear(mom,this._week.dow,this._week.doy).week}function localeFirstDayOfWeek(){return this._week.dow}function localeFirstDayOfYear(){return this._week.doy}function getSetWeek(input){var week=this.localeData().week(this);return null==input?week:this.add(7*(input-week),"d")}function getSetISOWeek(input){var week=weekOfYear(this,1,4).week;return null==input?week:this.add(7*(input-week),"d")}function dayOfYearFromWeeks(year,week,weekday,firstDayOfWeekOfYear,firstDayOfWeek){var dayOfYear,week1Jan=6+firstDayOfWeek-firstDayOfWeekOfYear,janX=createUTCDate(year,0,1+week1Jan),d=janX.getUTCDay();return firstDayOfWeek>d&&(d+=7),weekday=null!=weekday?1*weekday:firstDayOfWeek,dayOfYear=1+week1Jan+7*(week-1)-d+weekday,{year:dayOfYear>0?year:year-1,dayOfYear:dayOfYear>0?dayOfYear:daysInYear(year-1)+dayOfYear}}function getSetDayOfYear(input){var dayOfYear=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==input?dayOfYear:this.add(input-dayOfYear,"d")}function defaults(a,b,c){return null!=a?a:null!=b?b:c}function currentDateArray(config){var now=new Date;return config._useUTC?[now.getUTCFullYear(),now.getUTCMonth(),now.getUTCDate()]:[now.getFullYear(),now.getMonth(),now.getDate()]}function configFromArray(config){var i,date,currentDate,yearToUse,input=[];if(!config._d){for(currentDate=currentDateArray(config),config._w&&null==config._a[DATE]&&null==config._a[MONTH]&&dayOfYearFromWeekInfo(config),config._dayOfYear&&(yearToUse=defaults(config._a[YEAR],currentDate[YEAR]),config._dayOfYear>daysInYear(yearToUse)&&(getParsingFlags(config)._overflowDayOfYear=!0),date=createUTCDate(yearToUse,0,config._dayOfYear),config._a[MONTH]=date.getUTCMonth(),config._a[DATE]=date.getUTCDate()),i=0;3>i&&null==config._a[i];++i)config._a[i]=input[i]=currentDate[i];for(;7>i;i++)config._a[i]=input[i]=null==config._a[i]?2===i?1:0:config._a[i];24===config._a[HOUR]&&0===config._a[MINUTE]&&0===config._a[SECOND]&&0===config._a[MILLISECOND]&&(config._nextDay=!0,config._a[HOUR]=0),config._d=(config._useUTC?createUTCDate:createDate).apply(null,input),null!=config._tzm&&config._d.setUTCMinutes(config._d.getUTCMinutes()-config._tzm),config._nextDay&&(config._a[HOUR]=24)}}function dayOfYearFromWeekInfo(config){var w,weekYear,week,weekday,dow,doy,temp;w=config._w,null!=w.GG||null!=w.W||null!=w.E?(dow=1,doy=4,weekYear=defaults(w.GG,config._a[YEAR],weekOfYear(local__createLocal(),1,4).year),week=defaults(w.W,1),weekday=defaults(w.E,1)):(dow=config._locale._week.dow,doy=config._locale._week.doy,weekYear=defaults(w.gg,config._a[YEAR],weekOfYear(local__createLocal(),dow,doy).year),week=defaults(w.w,1),null!=w.d?(weekday=w.d,dow>weekday&&++week):weekday=null!=w.e?w.e+dow:dow),temp=dayOfYearFromWeeks(weekYear,week,weekday,doy,dow),config._a[YEAR]=temp.year,config._dayOfYear=temp.dayOfYear}function configFromStringAndFormat(config){if(config._f===utils_hooks__hooks.ISO_8601)return void configFromISO(config);config._a=[],getParsingFlags(config).empty=!0;var i,parsedInput,tokens,token,skipped,string=""+config._i,stringLength=string.length,totalParsedInputLength=0;for(tokens=expandFormat(config._f,config._locale).match(formattingTokens)||[],i=0;i<tokens.length;i++)token=tokens[i],parsedInput=(string.match(getParseRegexForToken(token,config))||[])[0],parsedInput&&(skipped=string.substr(0,string.indexOf(parsedInput)),skipped.length>0&&getParsingFlags(config).unusedInput.push(skipped),string=string.slice(string.indexOf(parsedInput)+parsedInput.length),totalParsedInputLength+=parsedInput.length),formatTokenFunctions[token]?(parsedInput?getParsingFlags(config).empty=!1:getParsingFlags(config).unusedTokens.push(token),addTimeToArrayFromToken(token,parsedInput,config)):config._strict&&!parsedInput&&getParsingFlags(config).unusedTokens.push(token);getParsingFlags(config).charsLeftOver=stringLength-totalParsedInputLength,string.length>0&&getParsingFlags(config).unusedInput.push(string),getParsingFlags(config).bigHour===!0&&config._a[HOUR]<=12&&config._a[HOUR]>0&&(getParsingFlags(config).bigHour=void 0),config._a[HOUR]=meridiemFixWrap(config._locale,config._a[HOUR],config._meridiem),configFromArray(config),checkOverflow(config)}function meridiemFixWrap(locale,hour,meridiem){var isPm;return null==meridiem?hour:null!=locale.meridiemHour?locale.meridiemHour(hour,meridiem):null!=locale.isPM?(isPm=locale.isPM(meridiem),isPm&&12>hour&&(hour+=12),isPm||12!==hour||(hour=0),hour):hour}function configFromStringAndArray(config){var tempConfig,bestMoment,scoreToBeat,i,currentScore;if(0===config._f.length)return getParsingFlags(config).invalidFormat=!0,void(config._d=new Date(NaN));for(i=0;i<config._f.length;i++)currentScore=0,tempConfig=copyConfig({},config),null!=config._useUTC&&(tempConfig._useUTC=config._useUTC),tempConfig._f=config._f[i],configFromStringAndFormat(tempConfig),valid__isValid(tempConfig)&&(currentScore+=getParsingFlags(tempConfig).charsLeftOver,currentScore+=10*getParsingFlags(tempConfig).unusedTokens.length,getParsingFlags(tempConfig).score=currentScore,(null==scoreToBeat||scoreToBeat>currentScore)&&(scoreToBeat=currentScore,bestMoment=tempConfig));extend(config,bestMoment||tempConfig)}function configFromObject(config){if(!config._d){var i=normalizeObjectUnits(config._i);config._a=[i.year,i.month,i.day||i.date,i.hour,i.minute,i.second,i.millisecond],configFromArray(config)}}function createFromConfig(config){var res=new Moment(checkOverflow(prepareConfig(config)));return res._nextDay&&(res.add(1,"d"),res._nextDay=void 0),res}function prepareConfig(config){var input=config._i,format=config._f;return config._locale=config._locale||locale_locales__getLocale(config._l),null===input||void 0===format&&""===input?valid__createInvalid({nullInput:!0}):("string"==typeof input&&(config._i=input=config._locale.preparse(input)),isMoment(input)?new Moment(checkOverflow(input)):(isArray(format)?configFromStringAndArray(config):format?configFromStringAndFormat(config):isDate(input)?config._d=input:configFromInput(config),config))}function configFromInput(config){var input=config._i;void 0===input?config._d=new Date:isDate(input)?config._d=new Date(+input):"string"==typeof input?configFromString(config):isArray(input)?(config._a=map(input.slice(0),function(obj){
return parseInt(obj,10)}),configFromArray(config)):"object"==typeof input?configFromObject(config):"number"==typeof input?config._d=new Date(input):utils_hooks__hooks.createFromInputFallback(config)}function createLocalOrUTC(input,format,locale,strict,isUTC){var c={};return"boolean"==typeof locale&&(strict=locale,locale=void 0),c._isAMomentObject=!0,c._useUTC=c._isUTC=isUTC,c._l=locale,c._i=input,c._f=format,c._strict=strict,createFromConfig(c)}function local__createLocal(input,format,locale,strict){return createLocalOrUTC(input,format,locale,strict,!1)}function pickBy(fn,moments){var res,i;if(1===moments.length&&isArray(moments[0])&&(moments=moments[0]),!moments.length)return local__createLocal();for(res=moments[0],i=1;i<moments.length;++i)moments[i].isValid()&&!moments[i][fn](res)||(res=moments[i]);return res}function min(){var args=[].slice.call(arguments,0);return pickBy("isBefore",args)}function max(){var args=[].slice.call(arguments,0);return pickBy("isAfter",args)}function Duration(duration){var normalizedInput=normalizeObjectUnits(duration),years=normalizedInput.year||0,quarters=normalizedInput.quarter||0,months=normalizedInput.month||0,weeks=normalizedInput.week||0,days=normalizedInput.day||0,hours=normalizedInput.hour||0,minutes=normalizedInput.minute||0,seconds=normalizedInput.second||0,milliseconds=normalizedInput.millisecond||0;this._milliseconds=+milliseconds+1e3*seconds+6e4*minutes+36e5*hours,this._days=+days+7*weeks,this._months=+months+3*quarters+12*years,this._data={},this._locale=locale_locales__getLocale(),this._bubble()}function isDuration(obj){return obj instanceof Duration}function offset(token,separator){addFormatToken(token,0,0,function(){var offset=this.utcOffset(),sign="+";return 0>offset&&(offset=-offset,sign="-"),sign+zeroFill(~~(offset/60),2)+separator+zeroFill(~~offset%60,2)})}function offsetFromString(string){var matches=(string||"").match(matchOffset)||[],chunk=matches[matches.length-1]||[],parts=(chunk+"").match(chunkOffset)||["-",0,0],minutes=+(60*parts[1])+toInt(parts[2]);return"+"===parts[0]?minutes:-minutes}function cloneWithOffset(input,model){var res,diff;return model._isUTC?(res=model.clone(),diff=(isMoment(input)||isDate(input)?+input:+local__createLocal(input))-+res,res._d.setTime(+res._d+diff),utils_hooks__hooks.updateOffset(res,!1),res):local__createLocal(input).local()}function getDateOffset(m){return 15*-Math.round(m._d.getTimezoneOffset()/15)}function getSetOffset(input,keepLocalTime){var localAdjust,offset=this._offset||0;return null!=input?("string"==typeof input&&(input=offsetFromString(input)),Math.abs(input)<16&&(input=60*input),!this._isUTC&&keepLocalTime&&(localAdjust=getDateOffset(this)),this._offset=input,this._isUTC=!0,null!=localAdjust&&this.add(localAdjust,"m"),offset!==input&&(!keepLocalTime||this._changeInProgress?add_subtract__addSubtract(this,create__createDuration(input-offset,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,utils_hooks__hooks.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?offset:getDateOffset(this)}function getSetZone(input,keepLocalTime){return null!=input?("string"!=typeof input&&(input=-input),this.utcOffset(input,keepLocalTime),this):-this.utcOffset()}function setOffsetToUTC(keepLocalTime){return this.utcOffset(0,keepLocalTime)}function setOffsetToLocal(keepLocalTime){return this._isUTC&&(this.utcOffset(0,keepLocalTime),this._isUTC=!1,keepLocalTime&&this.subtract(getDateOffset(this),"m")),this}function setOffsetToParsedOffset(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(offsetFromString(this._i)),this}function hasAlignedHourOffset(input){return input=input?local__createLocal(input).utcOffset():0,(this.utcOffset()-input)%60===0}function isDaylightSavingTime(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function isDaylightSavingTimeShifted(){if("undefined"!=typeof this._isDSTShifted)return this._isDSTShifted;var c={};if(copyConfig(c,this),c=prepareConfig(c),c._a){var other=c._isUTC?create_utc__createUTC(c._a):local__createLocal(c._a);this._isDSTShifted=this.isValid()&&compareArrays(c._a,other.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function isLocal(){return!this._isUTC}function isUtcOffset(){return this._isUTC}function isUtc(){return this._isUTC&&0===this._offset}function create__createDuration(input,key){var sign,ret,diffRes,duration=input,match=null;return isDuration(input)?duration={ms:input._milliseconds,d:input._days,M:input._months}:"number"==typeof input?(duration={},key?duration[key]=input:duration.milliseconds=input):(match=aspNetRegex.exec(input))?(sign="-"===match[1]?-1:1,duration={y:0,d:toInt(match[DATE])*sign,h:toInt(match[HOUR])*sign,m:toInt(match[MINUTE])*sign,s:toInt(match[SECOND])*sign,ms:toInt(match[MILLISECOND])*sign}):(match=create__isoRegex.exec(input))?(sign="-"===match[1]?-1:1,duration={y:parseIso(match[2],sign),M:parseIso(match[3],sign),d:parseIso(match[4],sign),h:parseIso(match[5],sign),m:parseIso(match[6],sign),s:parseIso(match[7],sign),w:parseIso(match[8],sign)}):null==duration?duration={}:"object"==typeof duration&&("from"in duration||"to"in duration)&&(diffRes=momentsDifference(local__createLocal(duration.from),local__createLocal(duration.to)),duration={},duration.ms=diffRes.milliseconds,duration.M=diffRes.months),ret=new Duration(duration),isDuration(input)&&hasOwnProp(input,"_locale")&&(ret._locale=input._locale),ret}function parseIso(inp,sign){var res=inp&&parseFloat(inp.replace(",","."));return(isNaN(res)?0:res)*sign}function positiveMomentsDifference(base,other){var res={milliseconds:0,months:0};return res.months=other.month()-base.month()+12*(other.year()-base.year()),base.clone().add(res.months,"M").isAfter(other)&&--res.months,res.milliseconds=+other-+base.clone().add(res.months,"M"),res}function momentsDifference(base,other){var res;return other=cloneWithOffset(other,base),base.isBefore(other)?res=positiveMomentsDifference(base,other):(res=positiveMomentsDifference(other,base),res.milliseconds=-res.milliseconds,res.months=-res.months),res}function createAdder(direction,name){return function(val,period){var dur,tmp;return null===period||isNaN(+period)||(deprecateSimple(name,"moment()."+name+"(period, number) is deprecated. Please use moment()."+name+"(number, period)."),tmp=val,val=period,period=tmp),val="string"==typeof val?+val:val,dur=create__createDuration(val,period),add_subtract__addSubtract(this,dur,direction),this}}function add_subtract__addSubtract(mom,duration,isAdding,updateOffset){var milliseconds=duration._milliseconds,days=duration._days,months=duration._months;updateOffset=null==updateOffset?!0:updateOffset,milliseconds&&mom._d.setTime(+mom._d+milliseconds*isAdding),days&&get_set__set(mom,"Date",get_set__get(mom,"Date")+days*isAdding),months&&setMonth(mom,get_set__get(mom,"Month")+months*isAdding),updateOffset&&utils_hooks__hooks.updateOffset(mom,days||months)}function moment_calendar__calendar(time,formats){var now=time||local__createLocal(),sod=cloneWithOffset(now,this).startOf("day"),diff=this.diff(sod,"days",!0),format=-6>diff?"sameElse":-1>diff?"lastWeek":0>diff?"lastDay":1>diff?"sameDay":2>diff?"nextDay":7>diff?"nextWeek":"sameElse";return this.format(formats&&formats[format]||this.localeData().calendar(format,this,local__createLocal(now)))}function clone(){return new Moment(this)}function isAfter(input,units){var inputMs;return units=normalizeUnits("undefined"!=typeof units?units:"millisecond"),"millisecond"===units?(input=isMoment(input)?input:local__createLocal(input),+this>+input):(inputMs=isMoment(input)?+input:+local__createLocal(input),inputMs<+this.clone().startOf(units))}function isBefore(input,units){var inputMs;return units=normalizeUnits("undefined"!=typeof units?units:"millisecond"),"millisecond"===units?(input=isMoment(input)?input:local__createLocal(input),+input>+this):(inputMs=isMoment(input)?+input:+local__createLocal(input),+this.clone().endOf(units)<inputMs)}function isBetween(from,to,units){return this.isAfter(from,units)&&this.isBefore(to,units)}function isSame(input,units){var inputMs;return units=normalizeUnits(units||"millisecond"),"millisecond"===units?(input=isMoment(input)?input:local__createLocal(input),+this===+input):(inputMs=+local__createLocal(input),+this.clone().startOf(units)<=inputMs&&inputMs<=+this.clone().endOf(units))}function diff(input,units,asFloat){var delta,output,that=cloneWithOffset(input,this),zoneDelta=6e4*(that.utcOffset()-this.utcOffset());return units=normalizeUnits(units),"year"===units||"month"===units||"quarter"===units?(output=monthDiff(this,that),"quarter"===units?output/=3:"year"===units&&(output/=12)):(delta=this-that,output="second"===units?delta/1e3:"minute"===units?delta/6e4:"hour"===units?delta/36e5:"day"===units?(delta-zoneDelta)/864e5:"week"===units?(delta-zoneDelta)/6048e5:delta),asFloat?output:absFloor(output)}function monthDiff(a,b){var anchor2,adjust,wholeMonthDiff=12*(b.year()-a.year())+(b.month()-a.month()),anchor=a.clone().add(wholeMonthDiff,"months");return 0>b-anchor?(anchor2=a.clone().add(wholeMonthDiff-1,"months"),adjust=(b-anchor)/(anchor-anchor2)):(anchor2=a.clone().add(wholeMonthDiff+1,"months"),adjust=(b-anchor)/(anchor2-anchor)),-(wholeMonthDiff+adjust)}function toString(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function moment_format__toISOString(){var m=this.clone().utc();return 0<m.year()&&m.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():formatMoment(m,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):formatMoment(m,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function format(inputString){var output=formatMoment(this,inputString||utils_hooks__hooks.defaultFormat);return this.localeData().postformat(output)}function from(time,withoutSuffix){return this.isValid()?create__createDuration({to:this,from:time}).locale(this.locale()).humanize(!withoutSuffix):this.localeData().invalidDate()}function fromNow(withoutSuffix){return this.from(local__createLocal(),withoutSuffix)}function to(time,withoutSuffix){return this.isValid()?create__createDuration({from:this,to:time}).locale(this.locale()).humanize(!withoutSuffix):this.localeData().invalidDate()}function toNow(withoutSuffix){return this.to(local__createLocal(),withoutSuffix)}function locale(key){var newLocaleData;return void 0===key?this._locale._abbr:(newLocaleData=locale_locales__getLocale(key),null!=newLocaleData&&(this._locale=newLocaleData),this)}function localeData(){return this._locale}function startOf(units){switch(units=normalizeUnits(units)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===units&&this.weekday(0),"isoWeek"===units&&this.isoWeekday(1),"quarter"===units&&this.month(3*Math.floor(this.month()/3)),this}function endOf(units){return units=normalizeUnits(units),void 0===units||"millisecond"===units?this:this.startOf(units).add(1,"isoWeek"===units?"week":units).subtract(1,"ms")}function to_type__valueOf(){return+this._d-6e4*(this._offset||0)}function unix(){return Math.floor(+this/1e3)}function toDate(){return this._offset?new Date(+this):this._d}function toArray(){var m=this;return[m.year(),m.month(),m.date(),m.hour(),m.minute(),m.second(),m.millisecond()]}function toObject(){var m=this;return{years:m.year(),months:m.month(),date:m.date(),hours:m.hours(),minutes:m.minutes(),seconds:m.seconds(),milliseconds:m.milliseconds()}}function moment_valid__isValid(){return valid__isValid(this)}function parsingFlags(){return extend({},getParsingFlags(this))}function invalidAt(){return getParsingFlags(this).overflow}function addWeekYearFormatToken(token,getter){addFormatToken(0,[token,token.length],0,getter)}function weeksInYear(year,dow,doy){return weekOfYear(local__createLocal([year,11,31+dow-doy]),dow,doy).week}function getSetWeekYear(input){var year=weekOfYear(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==input?year:this.add(input-year,"y")}function getSetISOWeekYear(input){var year=weekOfYear(this,1,4).year;return null==input?year:this.add(input-year,"y")}function getISOWeeksInYear(){return weeksInYear(this.year(),1,4)}function getWeeksInYear(){var weekInfo=this.localeData()._week;return weeksInYear(this.year(),weekInfo.dow,weekInfo.doy)}function getSetQuarter(input){return null==input?Math.ceil((this.month()+1)/3):this.month(3*(input-1)+this.month()%3)}function parseWeekday(input,locale){return"string"!=typeof input?input:isNaN(input)?(input=locale.weekdaysParse(input),"number"==typeof input?input:null):parseInt(input,10)}function localeWeekdays(m){return this._weekdays[m.day()]}function localeWeekdaysShort(m){return this._weekdaysShort[m.day()]}function localeWeekdaysMin(m){return this._weekdaysMin[m.day()]}function localeWeekdaysParse(weekdayName){var i,mom,regex;for(this._weekdaysParse=this._weekdaysParse||[],i=0;7>i;i++)if(this._weekdaysParse[i]||(mom=local__createLocal([2e3,1]).day(i),regex="^"+this.weekdays(mom,"")+"|^"+this.weekdaysShort(mom,"")+"|^"+this.weekdaysMin(mom,""),this._weekdaysParse[i]=new RegExp(regex.replace(".",""),"i")),this._weekdaysParse[i].test(weekdayName))return i}function getSetDayOfWeek(input){var day=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=input?(input=parseWeekday(input,this.localeData()),this.add(input-day,"d")):day}function getSetLocaleDayOfWeek(input){var weekday=(this.day()+7-this.localeData()._week.dow)%7;return null==input?weekday:this.add(input-weekday,"d")}function getSetISODayOfWeek(input){return null==input?this.day()||7:this.day(this.day()%7?input:input-7)}function meridiem(token,lowercase){addFormatToken(token,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),lowercase)})}function matchMeridiem(isStrict,locale){return locale._meridiemParse}function localeIsPM(input){return"p"===(input+"").toLowerCase().charAt(0)}function localeMeridiem(hours,minutes,isLower){return hours>11?isLower?"pm":"PM":isLower?"am":"AM"}function parseMs(input,array){array[MILLISECOND]=toInt(1e3*("0."+input))}function getZoneAbbr(){return this._isUTC?"UTC":""}function getZoneName(){return this._isUTC?"Coordinated Universal Time":""}function moment__createUnix(input){return local__createLocal(1e3*input)}function moment__createInZone(){return local__createLocal.apply(null,arguments).parseZone()}function locale_calendar__calendar(key,mom,now){var output=this._calendar[key];return"function"==typeof output?output.call(mom,now):output}function longDateFormat(key){var format=this._longDateFormat[key],formatUpper=this._longDateFormat[key.toUpperCase()];return format||!formatUpper?format:(this._longDateFormat[key]=formatUpper.replace(/MMMM|MM|DD|dddd/g,function(val){return val.slice(1)}),this._longDateFormat[key])}function invalidDate(){return this._invalidDate}function ordinal(number){return this._ordinal.replace("%d",number)}function preParsePostFormat(string){return string}function relative__relativeTime(number,withoutSuffix,string,isFuture){var output=this._relativeTime[string];return"function"==typeof output?output(number,withoutSuffix,string,isFuture):output.replace(/%d/i,number)}function pastFuture(diff,output){var format=this._relativeTime[diff>0?"future":"past"];return"function"==typeof format?format(output):format.replace(/%s/i,output)}function locale_set__set(config){var prop,i;for(i in config)prop=config[i],"function"==typeof prop?this[i]=prop:this["_"+i]=prop;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function lists__get(format,index,field,setter){var locale=locale_locales__getLocale(),utc=create_utc__createUTC().set(setter,index);return locale[field](utc,format)}function list(format,index,field,count,setter){if("number"==typeof format&&(index=format,format=void 0),format=format||"",null!=index)return lists__get(format,index,field,setter);var i,out=[];for(i=0;count>i;i++)out[i]=lists__get(format,i,field,setter);return out}function lists__listMonths(format,index){return list(format,index,"months",12,"month")}function lists__listMonthsShort(format,index){return list(format,index,"monthsShort",12,"month")}function lists__listWeekdays(format,index){return list(format,index,"weekdays",7,"day")}function lists__listWeekdaysShort(format,index){return list(format,index,"weekdaysShort",7,"day")}function lists__listWeekdaysMin(format,index){return list(format,index,"weekdaysMin",7,"day")}function duration_abs__abs(){var data=this._data;return this._milliseconds=mathAbs(this._milliseconds),this._days=mathAbs(this._days),this._months=mathAbs(this._months),data.milliseconds=mathAbs(data.milliseconds),data.seconds=mathAbs(data.seconds),data.minutes=mathAbs(data.minutes),data.hours=mathAbs(data.hours),data.months=mathAbs(data.months),data.years=mathAbs(data.years),this}function duration_add_subtract__addSubtract(duration,input,value,direction){var other=create__createDuration(input,value);return duration._milliseconds+=direction*other._milliseconds,duration._days+=direction*other._days,duration._months+=direction*other._months,duration._bubble()}function duration_add_subtract__add(input,value){return duration_add_subtract__addSubtract(this,input,value,1)}function duration_add_subtract__subtract(input,value){return duration_add_subtract__addSubtract(this,input,value,-1)}function absCeil(number){return 0>number?Math.floor(number):Math.ceil(number)}function bubble(){var seconds,minutes,hours,years,monthsFromDays,milliseconds=this._milliseconds,days=this._days,months=this._months,data=this._data;return milliseconds>=0&&days>=0&&months>=0||0>=milliseconds&&0>=days&&0>=months||(milliseconds+=864e5*absCeil(monthsToDays(months)+days),days=0,months=0),data.milliseconds=milliseconds%1e3,seconds=absFloor(milliseconds/1e3),data.seconds=seconds%60,minutes=absFloor(seconds/60),data.minutes=minutes%60,hours=absFloor(minutes/60),data.hours=hours%24,days+=absFloor(hours/24),monthsFromDays=absFloor(daysToMonths(days)),months+=monthsFromDays,days-=absCeil(monthsToDays(monthsFromDays)),years=absFloor(months/12),months%=12,data.days=days,data.months=months,data.years=years,this}function daysToMonths(days){return 4800*days/146097}function monthsToDays(months){return 146097*months/4800}function as(units){var days,months,milliseconds=this._milliseconds;if(units=normalizeUnits(units),"month"===units||"year"===units)return days=this._days+milliseconds/864e5,months=this._months+daysToMonths(days),"month"===units?months:months/12;switch(days=this._days+Math.round(monthsToDays(this._months)),units){case"week":return days/7+milliseconds/6048e5;case"day":return days+milliseconds/864e5;case"hour":return 24*days+milliseconds/36e5;case"minute":return 1440*days+milliseconds/6e4;case"second":return 86400*days+milliseconds/1e3;case"millisecond":return Math.floor(864e5*days)+milliseconds;default:throw new Error("Unknown unit "+units)}}function duration_as__valueOf(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*toInt(this._months/12)}function makeAs(alias){return function(){return this.as(alias)}}function duration_get__get(units){return units=normalizeUnits(units),this[units+"s"]()}function makeGetter(name){return function(){return this._data[name]}}function weeks(){return absFloor(this.days()/7)}function substituteTimeAgo(string,number,withoutSuffix,isFuture,locale){return locale.relativeTime(number||1,!!withoutSuffix,string,isFuture)}function duration_humanize__relativeTime(posNegDuration,withoutSuffix,locale){var duration=create__createDuration(posNegDuration).abs(),seconds=round(duration.as("s")),minutes=round(duration.as("m")),hours=round(duration.as("h")),days=round(duration.as("d")),months=round(duration.as("M")),years=round(duration.as("y")),a=seconds<thresholds.s&&["s",seconds]||1===minutes&&["m"]||minutes<thresholds.m&&["mm",minutes]||1===hours&&["h"]||hours<thresholds.h&&["hh",hours]||1===days&&["d"]||days<thresholds.d&&["dd",days]||1===months&&["M"]||months<thresholds.M&&["MM",months]||1===years&&["y"]||["yy",years];return a[2]=withoutSuffix,a[3]=+posNegDuration>0,a[4]=locale,substituteTimeAgo.apply(null,a)}function duration_humanize__getSetRelativeTimeThreshold(threshold,limit){return void 0===thresholds[threshold]?!1:void 0===limit?thresholds[threshold]:(thresholds[threshold]=limit,!0)}function humanize(withSuffix){var locale=this.localeData(),output=duration_humanize__relativeTime(this,!withSuffix,locale);return withSuffix&&(output=locale.pastFuture(+this,output)),locale.postformat(output)}function iso_string__toISOString(){var minutes,hours,years,seconds=iso_string__abs(this._milliseconds)/1e3,days=iso_string__abs(this._days),months=iso_string__abs(this._months);minutes=absFloor(seconds/60),hours=absFloor(minutes/60),seconds%=60,minutes%=60,years=absFloor(months/12),months%=12;var Y=years,M=months,D=days,h=hours,m=minutes,s=seconds,total=this.asSeconds();return total?(0>total?"-":"")+"P"+(Y?Y+"Y":"")+(M?M+"M":"")+(D?D+"D":"")+(h||m||s?"T":"")+(h?h+"H":"")+(m?m+"M":"")+(s?s+"S":""):"P0D"}var hookCallback,globalLocale,momentProperties=utils_hooks__hooks.momentProperties=[],updateInProgress=!1,locales={},aliases={},formattingTokens=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,localFormattingTokens=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,formatFunctions={},formatTokenFunctions={},match1=/\d/,match2=/\d\d/,match3=/\d{3}/,match4=/\d{4}/,match6=/[+-]?\d{6}/,match1to2=/\d\d?/,match1to3=/\d{1,3}/,match1to4=/\d{1,4}/,match1to6=/[+-]?\d{1,6}/,matchUnsigned=/\d+/,matchSigned=/[+-]?\d+/,matchOffset=/Z|[+-]\d\d:?\d\d/gi,matchTimestamp=/[+-]?\d+(\.\d{1,3})?/,matchWord=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,regexes={},tokens={},YEAR=0,MONTH=1,DATE=2,HOUR=3,MINUTE=4,SECOND=5,MILLISECOND=6;addFormatToken("M",["MM",2],"Mo",function(){return this.month()+1}),addFormatToken("MMM",0,0,function(format){return this.localeData().monthsShort(this,format)}),addFormatToken("MMMM",0,0,function(format){return this.localeData().months(this,format)}),addUnitAlias("month","M"),addRegexToken("M",match1to2),addRegexToken("MM",match1to2,match2),addRegexToken("MMM",matchWord),addRegexToken("MMMM",matchWord),addParseToken(["M","MM"],function(input,array){array[MONTH]=toInt(input)-1}),addParseToken(["MMM","MMMM"],function(input,array,config,token){var month=config._locale.monthsParse(input,token,config._strict);null!=month?array[MONTH]=month:getParsingFlags(config).invalidMonth=input});var defaultLocaleMonths="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),defaultLocaleMonthsShort="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),deprecations={};utils_hooks__hooks.suppressDeprecationWarnings=!1;var from_string__isoRegex=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,isoDates=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],isoTimes=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],aspNetJsonRegex=/^\/?Date\((\-?\d+)/i;utils_hooks__hooks.createFromInputFallback=deprecate("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(config){config._d=new Date(config._i+(config._useUTC?" UTC":""))}),addFormatToken(0,["YY",2],0,function(){return this.year()%100}),addFormatToken(0,["YYYY",4],0,"year"),addFormatToken(0,["YYYYY",5],0,"year"),addFormatToken(0,["YYYYYY",6,!0],0,"year"),addUnitAlias("year","y"),addRegexToken("Y",matchSigned),addRegexToken("YY",match1to2,match2),addRegexToken("YYYY",match1to4,match4),addRegexToken("YYYYY",match1to6,match6),addRegexToken("YYYYYY",match1to6,match6),addParseToken(["YYYYY","YYYYYY"],YEAR),addParseToken("YYYY",function(input,array){array[YEAR]=2===input.length?utils_hooks__hooks.parseTwoDigitYear(input):toInt(input)}),addParseToken("YY",function(input,array){array[YEAR]=utils_hooks__hooks.parseTwoDigitYear(input)}),utils_hooks__hooks.parseTwoDigitYear=function(input){return toInt(input)+(toInt(input)>68?1900:2e3)};var getSetYear=makeGetSet("FullYear",!1);addFormatToken("w",["ww",2],"wo","week"),addFormatToken("W",["WW",2],"Wo","isoWeek"),addUnitAlias("week","w"),addUnitAlias("isoWeek","W"),addRegexToken("w",match1to2),addRegexToken("ww",match1to2,match2),addRegexToken("W",match1to2),addRegexToken("WW",match1to2,match2),addWeekParseToken(["w","ww","W","WW"],function(input,week,config,token){week[token.substr(0,1)]=toInt(input)});var defaultLocaleWeek={dow:0,doy:6};addFormatToken("DDD",["DDDD",3],"DDDo","dayOfYear"),addUnitAlias("dayOfYear","DDD"),addRegexToken("DDD",match1to3),addRegexToken("DDDD",match3),addParseToken(["DDD","DDDD"],function(input,array,config){config._dayOfYear=toInt(input)}),utils_hooks__hooks.ISO_8601=function(){};var prototypeMin=deprecate("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var other=local__createLocal.apply(null,arguments);return this>other?this:other}),prototypeMax=deprecate("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var other=local__createLocal.apply(null,arguments);return other>this?this:other});offset("Z",":"),offset("ZZ",""),addRegexToken("Z",matchOffset),addRegexToken("ZZ",matchOffset),addParseToken(["Z","ZZ"],function(input,array,config){config._useUTC=!0,config._tzm=offsetFromString(input)});var chunkOffset=/([\+\-]|\d\d)/gi;utils_hooks__hooks.updateOffset=function(){};var aspNetRegex=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,create__isoRegex=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;create__createDuration.fn=Duration.prototype;var add_subtract__add=createAdder(1,"add"),add_subtract__subtract=createAdder(-1,"subtract");utils_hooks__hooks.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var lang=deprecate("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(key){return void 0===key?this.localeData():this.locale(key)});addFormatToken(0,["gg",2],0,function(){return this.weekYear()%100}),addFormatToken(0,["GG",2],0,function(){return this.isoWeekYear()%100}),addWeekYearFormatToken("gggg","weekYear"),addWeekYearFormatToken("ggggg","weekYear"),addWeekYearFormatToken("GGGG","isoWeekYear"),addWeekYearFormatToken("GGGGG","isoWeekYear"),addUnitAlias("weekYear","gg"),addUnitAlias("isoWeekYear","GG"),addRegexToken("G",matchSigned),addRegexToken("g",matchSigned),addRegexToken("GG",match1to2,match2),addRegexToken("gg",match1to2,match2),addRegexToken("GGGG",match1to4,match4),addRegexToken("gggg",match1to4,match4),addRegexToken("GGGGG",match1to6,match6),addRegexToken("ggggg",match1to6,match6),addWeekParseToken(["gggg","ggggg","GGGG","GGGGG"],function(input,week,config,token){week[token.substr(0,2)]=toInt(input)}),addWeekParseToken(["gg","GG"],function(input,week,config,token){week[token]=utils_hooks__hooks.parseTwoDigitYear(input)}),addFormatToken("Q",0,0,"quarter"),addUnitAlias("quarter","Q"),addRegexToken("Q",match1),addParseToken("Q",function(input,array){array[MONTH]=3*(toInt(input)-1)}),addFormatToken("D",["DD",2],"Do","date"),addUnitAlias("date","D"),addRegexToken("D",match1to2),addRegexToken("DD",match1to2,match2),addRegexToken("Do",function(isStrict,locale){return isStrict?locale._ordinalParse:locale._ordinalParseLenient}),addParseToken(["D","DD"],DATE),addParseToken("Do",function(input,array){array[DATE]=toInt(input.match(match1to2)[0],10)});var getSetDayOfMonth=makeGetSet("Date",!0);addFormatToken("d",0,"do","day"),addFormatToken("dd",0,0,function(format){return this.localeData().weekdaysMin(this,format)}),addFormatToken("ddd",0,0,function(format){return this.localeData().weekdaysShort(this,format)}),addFormatToken("dddd",0,0,function(format){return this.localeData().weekdays(this,format)}),addFormatToken("e",0,0,"weekday"),addFormatToken("E",0,0,"isoWeekday"),addUnitAlias("day","d"),addUnitAlias("weekday","e"),addUnitAlias("isoWeekday","E"),addRegexToken("d",match1to2),addRegexToken("e",match1to2),addRegexToken("E",match1to2),addRegexToken("dd",matchWord),addRegexToken("ddd",matchWord),addRegexToken("dddd",matchWord),addWeekParseToken(["dd","ddd","dddd"],function(input,week,config){var weekday=config._locale.weekdaysParse(input);null!=weekday?week.d=weekday:getParsingFlags(config).invalidWeekday=input}),addWeekParseToken(["d","e","E"],function(input,week,config,token){week[token]=toInt(input)});var defaultLocaleWeekdays="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),defaultLocaleWeekdaysShort="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),defaultLocaleWeekdaysMin="Su_Mo_Tu_We_Th_Fr_Sa".split("_");addFormatToken("H",["HH",2],0,"hour"),addFormatToken("h",["hh",2],0,function(){return this.hours()%12||12}),meridiem("a",!0),meridiem("A",!1),addUnitAlias("hour","h"),addRegexToken("a",matchMeridiem),addRegexToken("A",matchMeridiem),addRegexToken("H",match1to2),addRegexToken("h",match1to2),addRegexToken("HH",match1to2,match2),addRegexToken("hh",match1to2,match2),addParseToken(["H","HH"],HOUR),addParseToken(["a","A"],function(input,array,config){config._isPm=config._locale.isPM(input),config._meridiem=input}),addParseToken(["h","hh"],function(input,array,config){array[HOUR]=toInt(input),getParsingFlags(config).bigHour=!0});var defaultLocaleMeridiemParse=/[ap]\.?m?\.?/i,getSetHour=makeGetSet("Hours",!0);addFormatToken("m",["mm",2],0,"minute"),addUnitAlias("minute","m"),addRegexToken("m",match1to2),addRegexToken("mm",match1to2,match2),addParseToken(["m","mm"],MINUTE);var getSetMinute=makeGetSet("Minutes",!1);addFormatToken("s",["ss",2],0,"second"),addUnitAlias("second","s"),addRegexToken("s",match1to2),addRegexToken("ss",match1to2,match2),addParseToken(["s","ss"],SECOND);var getSetSecond=makeGetSet("Seconds",!1);addFormatToken("S",0,0,function(){return~~(this.millisecond()/100)}),addFormatToken(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),addFormatToken(0,["SSS",3],0,"millisecond"),addFormatToken(0,["SSSS",4],0,function(){return 10*this.millisecond()}),addFormatToken(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),addFormatToken(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),addFormatToken(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),addFormatToken(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),addFormatToken(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),addUnitAlias("millisecond","ms"),addRegexToken("S",match1to3,match1),addRegexToken("SS",match1to3,match2),addRegexToken("SSS",match1to3,match3);var token;for(token="SSSS";token.length<=9;token+="S")addRegexToken(token,matchUnsigned);for(token="S";token.length<=9;token+="S")addParseToken(token,parseMs);var getSetMillisecond=makeGetSet("Milliseconds",!1);addFormatToken("z",0,0,"zoneAbbr"),addFormatToken("zz",0,0,"zoneName");var momentPrototype__proto=Moment.prototype;momentPrototype__proto.add=add_subtract__add,momentPrototype__proto.calendar=moment_calendar__calendar,momentPrototype__proto.clone=clone,momentPrototype__proto.diff=diff,momentPrototype__proto.endOf=endOf,momentPrototype__proto.format=format,momentPrototype__proto.from=from,momentPrototype__proto.fromNow=fromNow,momentPrototype__proto.to=to,momentPrototype__proto.toNow=toNow,
momentPrototype__proto.get=getSet,momentPrototype__proto.invalidAt=invalidAt,momentPrototype__proto.isAfter=isAfter,momentPrototype__proto.isBefore=isBefore,momentPrototype__proto.isBetween=isBetween,momentPrototype__proto.isSame=isSame,momentPrototype__proto.isValid=moment_valid__isValid,momentPrototype__proto.lang=lang,momentPrototype__proto.locale=locale,momentPrototype__proto.localeData=localeData,momentPrototype__proto.max=prototypeMax,momentPrototype__proto.min=prototypeMin,momentPrototype__proto.parsingFlags=parsingFlags,momentPrototype__proto.set=getSet,momentPrototype__proto.startOf=startOf,momentPrototype__proto.subtract=add_subtract__subtract,momentPrototype__proto.toArray=toArray,momentPrototype__proto.toObject=toObject,momentPrototype__proto.toDate=toDate,momentPrototype__proto.toISOString=moment_format__toISOString,momentPrototype__proto.toJSON=moment_format__toISOString,momentPrototype__proto.toString=toString,momentPrototype__proto.unix=unix,momentPrototype__proto.valueOf=to_type__valueOf,momentPrototype__proto.year=getSetYear,momentPrototype__proto.isLeapYear=getIsLeapYear,momentPrototype__proto.weekYear=getSetWeekYear,momentPrototype__proto.isoWeekYear=getSetISOWeekYear,momentPrototype__proto.quarter=momentPrototype__proto.quarters=getSetQuarter,momentPrototype__proto.month=getSetMonth,momentPrototype__proto.daysInMonth=getDaysInMonth,momentPrototype__proto.week=momentPrototype__proto.weeks=getSetWeek,momentPrototype__proto.isoWeek=momentPrototype__proto.isoWeeks=getSetISOWeek,momentPrototype__proto.weeksInYear=getWeeksInYear,momentPrototype__proto.isoWeeksInYear=getISOWeeksInYear,momentPrototype__proto.date=getSetDayOfMonth,momentPrototype__proto.day=momentPrototype__proto.days=getSetDayOfWeek,momentPrototype__proto.weekday=getSetLocaleDayOfWeek,momentPrototype__proto.isoWeekday=getSetISODayOfWeek,momentPrototype__proto.dayOfYear=getSetDayOfYear,momentPrototype__proto.hour=momentPrototype__proto.hours=getSetHour,momentPrototype__proto.minute=momentPrototype__proto.minutes=getSetMinute,momentPrototype__proto.second=momentPrototype__proto.seconds=getSetSecond,momentPrototype__proto.millisecond=momentPrototype__proto.milliseconds=getSetMillisecond,momentPrototype__proto.utcOffset=getSetOffset,momentPrototype__proto.utc=setOffsetToUTC,momentPrototype__proto.local=setOffsetToLocal,momentPrototype__proto.parseZone=setOffsetToParsedOffset,momentPrototype__proto.hasAlignedHourOffset=hasAlignedHourOffset,momentPrototype__proto.isDST=isDaylightSavingTime,momentPrototype__proto.isDSTShifted=isDaylightSavingTimeShifted,momentPrototype__proto.isLocal=isLocal,momentPrototype__proto.isUtcOffset=isUtcOffset,momentPrototype__proto.isUtc=isUtc,momentPrototype__proto.isUTC=isUtc,momentPrototype__proto.zoneAbbr=getZoneAbbr,momentPrototype__proto.zoneName=getZoneName,momentPrototype__proto.dates=deprecate("dates accessor is deprecated. Use date instead.",getSetDayOfMonth),momentPrototype__proto.months=deprecate("months accessor is deprecated. Use month instead",getSetMonth),momentPrototype__proto.years=deprecate("years accessor is deprecated. Use year instead",getSetYear),momentPrototype__proto.zone=deprecate("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",getSetZone);var momentPrototype=momentPrototype__proto,defaultCalendar={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},defaultLongDateFormat={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},defaultInvalidDate="Invalid date",defaultOrdinal="%d",defaultOrdinalParse=/\d{1,2}/,defaultRelativeTime={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},prototype__proto=Locale.prototype;prototype__proto._calendar=defaultCalendar,prototype__proto.calendar=locale_calendar__calendar,prototype__proto._longDateFormat=defaultLongDateFormat,prototype__proto.longDateFormat=longDateFormat,prototype__proto._invalidDate=defaultInvalidDate,prototype__proto.invalidDate=invalidDate,prototype__proto._ordinal=defaultOrdinal,prototype__proto.ordinal=ordinal,prototype__proto._ordinalParse=defaultOrdinalParse,prototype__proto.preparse=preParsePostFormat,prototype__proto.postformat=preParsePostFormat,prototype__proto._relativeTime=defaultRelativeTime,prototype__proto.relativeTime=relative__relativeTime,prototype__proto.pastFuture=pastFuture,prototype__proto.set=locale_set__set,prototype__proto.months=localeMonths,prototype__proto._months=defaultLocaleMonths,prototype__proto.monthsShort=localeMonthsShort,prototype__proto._monthsShort=defaultLocaleMonthsShort,prototype__proto.monthsParse=localeMonthsParse,prototype__proto.week=localeWeek,prototype__proto._week=defaultLocaleWeek,prototype__proto.firstDayOfYear=localeFirstDayOfYear,prototype__proto.firstDayOfWeek=localeFirstDayOfWeek,prototype__proto.weekdays=localeWeekdays,prototype__proto._weekdays=defaultLocaleWeekdays,prototype__proto.weekdaysMin=localeWeekdaysMin,prototype__proto._weekdaysMin=defaultLocaleWeekdaysMin,prototype__proto.weekdaysShort=localeWeekdaysShort,prototype__proto._weekdaysShort=defaultLocaleWeekdaysShort,prototype__proto.weekdaysParse=localeWeekdaysParse,prototype__proto.isPM=localeIsPM,prototype__proto._meridiemParse=defaultLocaleMeridiemParse,prototype__proto.meridiem=localeMeridiem,locale_locales__getSetGlobalLocale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(number){var b=number%10,output=1===toInt(number%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return number+output}}),utils_hooks__hooks.lang=deprecate("moment.lang is deprecated. Use moment.locale instead.",locale_locales__getSetGlobalLocale),utils_hooks__hooks.langData=deprecate("moment.langData is deprecated. Use moment.localeData instead.",locale_locales__getLocale);var mathAbs=Math.abs,asMilliseconds=makeAs("ms"),asSeconds=makeAs("s"),asMinutes=makeAs("m"),asHours=makeAs("h"),asDays=makeAs("d"),asWeeks=makeAs("w"),asMonths=makeAs("M"),asYears=makeAs("y"),milliseconds=makeGetter("milliseconds"),seconds=makeGetter("seconds"),minutes=makeGetter("minutes"),hours=makeGetter("hours"),days=makeGetter("days"),months=makeGetter("months"),years=makeGetter("years"),round=Math.round,thresholds={s:45,m:45,h:22,d:26,M:11},iso_string__abs=Math.abs,duration_prototype__proto=Duration.prototype;duration_prototype__proto.abs=duration_abs__abs,duration_prototype__proto.add=duration_add_subtract__add,duration_prototype__proto.subtract=duration_add_subtract__subtract,duration_prototype__proto.as=as,duration_prototype__proto.asMilliseconds=asMilliseconds,duration_prototype__proto.asSeconds=asSeconds,duration_prototype__proto.asMinutes=asMinutes,duration_prototype__proto.asHours=asHours,duration_prototype__proto.asDays=asDays,duration_prototype__proto.asWeeks=asWeeks,duration_prototype__proto.asMonths=asMonths,duration_prototype__proto.asYears=asYears,duration_prototype__proto.valueOf=duration_as__valueOf,duration_prototype__proto._bubble=bubble,duration_prototype__proto.get=duration_get__get,duration_prototype__proto.milliseconds=milliseconds,duration_prototype__proto.seconds=seconds,duration_prototype__proto.minutes=minutes,duration_prototype__proto.hours=hours,duration_prototype__proto.days=days,duration_prototype__proto.weeks=weeks,duration_prototype__proto.months=months,duration_prototype__proto.years=years,duration_prototype__proto.humanize=humanize,duration_prototype__proto.toISOString=iso_string__toISOString,duration_prototype__proto.toString=iso_string__toISOString,duration_prototype__proto.toJSON=iso_string__toISOString,duration_prototype__proto.locale=locale,duration_prototype__proto.localeData=localeData,duration_prototype__proto.toIsoString=deprecate("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",iso_string__toISOString),duration_prototype__proto.lang=lang,addFormatToken("X",0,0,"unix"),addFormatToken("x",0,0,"valueOf"),addRegexToken("x",matchSigned),addRegexToken("X",matchTimestamp),addParseToken("X",function(input,array,config){config._d=new Date(1e3*parseFloat(input,10))}),addParseToken("x",function(input,array,config){config._d=new Date(toInt(input))}),utils_hooks__hooks.version="2.10.6",setHookCallback(local__createLocal),utils_hooks__hooks.fn=momentPrototype,utils_hooks__hooks.min=min,utils_hooks__hooks.max=max,utils_hooks__hooks.utc=create_utc__createUTC,utils_hooks__hooks.unix=moment__createUnix,utils_hooks__hooks.months=lists__listMonths,utils_hooks__hooks.isDate=isDate,utils_hooks__hooks.locale=locale_locales__getSetGlobalLocale,utils_hooks__hooks.invalid=valid__createInvalid,utils_hooks__hooks.duration=create__createDuration,utils_hooks__hooks.isMoment=isMoment,utils_hooks__hooks.weekdays=lists__listWeekdays,utils_hooks__hooks.parseZone=moment__createInZone,utils_hooks__hooks.localeData=locale_locales__getLocale,utils_hooks__hooks.isDuration=isDuration,utils_hooks__hooks.monthsShort=lists__listMonthsShort,utils_hooks__hooks.weekdaysMin=lists__listWeekdaysMin,utils_hooks__hooks.defineLocale=defineLocale,utils_hooks__hooks.weekdaysShort=lists__listWeekdaysShort,utils_hooks__hooks.normalizeUnits=normalizeUnits,utils_hooks__hooks.relativeTimeThreshold=duration_humanize__getSetRelativeTimeThreshold;var _moment=utils_hooks__hooks;return _moment})},{}],443:[function(require,module,exports){function Argv(processArgs,cwd){function fail(msg){self.showHelp(),msg&&console.error(msg),process.exit(1)}function parseArgs(args){var argv=minimist(args,options);argv.$0=self.$0,demanded._&&argv._.length<demanded._&&fail("Not enough non-option arguments: got "+argv._.length+", need at least "+demanded._);var missing=[];return Object.keys(demanded).forEach(function(key){argv[key]||missing.push(key)}),missing.length&&fail("Missing required arguments: "+missing.join(", ")),checks.forEach(function(f){try{f(argv)===!1&&fail("Argument check failed: "+f.toString())}catch(err){fail(err)}}),argv}function longest(xs){return Math.max.apply(null,xs.map(function(x){return x.length}))}var self={};cwd||(cwd=process.cwd()),self.$0=process.argv.slice(0,2).map(function(x){var b=rebase(cwd,x);return x.match(/^\//)&&b.length<x.length?b:x}).join(" "),void 0!=process.env._&&process.argv[1]==process.env._&&(self.$0=process.env._.replace(path.dirname(process.execPath)+"/",""));var options={"boolean":[],string:[],alias:{},"default":[]};self["boolean"]=function(bools){return options["boolean"].push.apply(options["boolean"],[].concat(bools)),self},self.string=function(strings){return options.string.push.apply(options.string,[].concat(strings)),self},self["default"]=function(key,value){return"object"==typeof key?Object.keys(key).forEach(function(k){self["default"](k,key[k])}):options["default"][key]=value,self},self.alias=function(x,y){return"object"==typeof x?Object.keys(x).forEach(function(key){self.alias(key,x[key])}):options.alias[x]=(options.alias[x]||[]).concat(y),self};var demanded={};self.demand=function(keys){return"number"==typeof keys?(demanded._||(demanded._=0),demanded._+=keys):Array.isArray(keys)?keys.forEach(function(key){self.demand(key)}):demanded[keys]=!0,self};var usage;self.usage=function(msg,opts){return opts||"object"!=typeof msg||(opts=msg,msg=null),usage=msg,opts&&self.options(opts),self};var checks=[];self.check=function(f){return checks.push(f),self};var descriptions={};self.describe=function(key,desc){return"object"==typeof key?Object.keys(key).forEach(function(k){self.describe(k,key[k])}):descriptions[key]=desc,self},self.parse=function(args){return parseArgs(args)},self.option=self.options=function(key,opt){if("object"==typeof key)Object.keys(key).forEach(function(k){self.options(k,key[k])});else{opt.alias&&self.alias(key,opt.alias),opt.demand&&self.demand(key),"undefined"!=typeof opt["default"]&&self["default"](key,opt["default"]),(opt["boolean"]||"boolean"===opt.type)&&self["boolean"](key),(opt.string||"string"===opt.type)&&self.string(key);var desc=opt.describe||opt.description||opt.desc;desc&&self.describe(key,desc)}return self};var wrap=null;return self.wrap=function(cols){return wrap=cols,self},self.showHelp=function(fn){fn||(fn=console.error),fn(self.help())},self.help=function(){var keys=Object.keys(Object.keys(descriptions).concat(Object.keys(demanded)).concat(Object.keys(options["default"])).reduce(function(acc,key){return"_"!==key&&(acc[key]=!0),acc},{})),help=keys.length?["Options:"]:[];usage&&help.unshift(usage.replace(/\$0/g,self.$0),"");var switches=keys.reduce(function(acc,key){return acc[key]=[key].concat(options.alias[key]||[]).map(function(sw){return(sw.length>1?"--":"-")+sw}).join(", "),acc},{}),switchlen=longest(Object.keys(switches).map(function(s){return switches[s]||""})),desclen=longest(Object.keys(descriptions).map(function(d){return descriptions[d]||""}));return keys.forEach(function(key){var kswitch=switches[key],desc=descriptions[key]||"";wrap&&(desc=wordwrap(switchlen+4,wrap)(desc).slice(switchlen+4));var spadding=new Array(Math.max(switchlen-kswitch.length+3,0)).join(" "),dpadding=new Array(Math.max(desclen-desc.length+1,0)).join(" "),type=null;options["boolean"][key]&&(type="[boolean]"),options.string[key]&&(type="[string]"),!wrap&&dpadding.length>0&&(desc+=dpadding);var prelude="  "+kswitch+spadding,extra=[type,demanded[key]?"[required]":null,void 0!==options["default"][key]?"[default: "+JSON.stringify(options["default"][key])+"]":null].filter(Boolean).join("  "),body=[desc,extra].filter(Boolean).join("  ");if(wrap){var dlines=desc.split("\n"),dlen=dlines.slice(-1)[0].length+(1===dlines.length?prelude.length:0);body=desc+(dlen+extra.length>wrap-2?"\n"+new Array(wrap-extra.length+1).join(" ")+extra:new Array(wrap-extra.length-dlen+1).join(" ")+extra)}help.push(prelude+body)}),help.push(""),help.join("\n")},Object.defineProperty(self,"argv",{get:function(){return parseArgs(processArgs)},enumerable:!0}),self}function rebase(base,dir){for(var ds=path.normalize(dir).split("/").slice(1),bs=path.normalize(base).split("/").slice(1),i=0;ds[i]&&ds[i]==bs[i];i++);ds.splice(0,i),bs.splice(0,i);var p=path.normalize(bs.map(function(){return".."}).concat(ds).join("/")).replace(/\/$/,"").replace(/^$/,".");return p.match(/^[.\/]/)?p:"./"+p}var path=require("path"),minimist=require("minimist"),wordwrap=require("wordwrap"),inst=Argv(process.argv.slice(2));Object.keys(inst).forEach(function(key){Argv[key]="function"==typeof inst[key]?inst[key].bind(inst):inst[key]});var exports=module.exports=Argv;exports.rebase=rebase},{minimist:444,path:void 0,wordwrap:445}],444:[function(require,module,exports){function hasKey(obj,keys){var o=obj;keys.slice(0,-1).forEach(function(key){o=o[key]||{}});var key=keys[keys.length-1];return key in o}function setKey(obj,keys,value){var o=obj;keys.slice(0,-1).forEach(function(key){void 0===o[key]&&(o[key]={}),o=o[key]});var key=keys[keys.length-1];void 0===o[key]||"boolean"==typeof o[key]?o[key]=value:Array.isArray(o[key])?o[key].push(value):o[key]=[o[key],value]}function isNumber(x){return"number"==typeof x?!0:/^0x[0-9a-f]+$/i.test(x)?!0:/^[-+]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(x)}module.exports=function(args,opts){function setArg(key,val){var value=!flags.strings[key]&&isNumber(val)?Number(val):val;setKey(argv,key.split("."),value),(aliases[key]||[]).forEach(function(x){setKey(argv,x.split("."),value)})}opts||(opts={});var flags={bools:{},strings:{}};[].concat(opts["boolean"]).filter(Boolean).forEach(function(key){flags.bools[key]=!0});var aliases={};Object.keys(opts.alias||{}).forEach(function(key){aliases[key]=[].concat(opts.alias[key]),aliases[key].forEach(function(x){aliases[x]=[key].concat(aliases[key].filter(function(y){return x!==y}))})}),[].concat(opts.string).filter(Boolean).forEach(function(key){flags.strings[key]=!0,aliases[key]&&(flags.strings[aliases[key]]=!0)});var defaults=opts["default"]||{},argv={_:[]};Object.keys(flags.bools).forEach(function(key){setArg(key,void 0===defaults[key]?!1:defaults[key])});var notFlags=[];-1!==args.indexOf("--")&&(notFlags=args.slice(args.indexOf("--")+1),args=args.slice(0,args.indexOf("--")));for(var i=0;i<args.length;i++){var arg=args[i];if(/^--.+=/.test(arg)){var m=arg.match(/^--([^=]+)=([\s\S]*)$/);setArg(m[1],m[2])}else if(/^--no-.+/.test(arg)){var key=arg.match(/^--no-(.+)/)[1];setArg(key,!1)}else if(/^--.+/.test(arg)){var key=arg.match(/^--(.+)/)[1],next=args[i+1];void 0===next||/^-/.test(next)||flags.bools[key]||(aliases[key]?flags.bools[aliases[key]]:0)?/^(true|false)$/.test(next)?(setArg(key,"true"===next),i++):setArg(key,flags.strings[key]?"":!0):(setArg(key,next),i++)}else if(/^-[^-]+/.test(arg)){for(var letters=arg.slice(1,-1).split(""),broken=!1,j=0;j<letters.length;j++){var next=arg.slice(j+2);if("-"!==next){if(/[A-Za-z]/.test(letters[j])&&/-?\d+(\.\d*)?(e-?\d+)?$/.test(next)){setArg(letters[j],next),broken=!0;break}if(letters[j+1]&&letters[j+1].match(/\W/)){setArg(letters[j],arg.slice(j+2)),broken=!0;break}setArg(letters[j],flags.strings[letters[j]]?"":!0)}else setArg(letters[j],next)}var key=arg.slice(-1)[0];broken||"-"===key||(!args[i+1]||/^(-|--)[^-]/.test(args[i+1])||flags.bools[key]||(aliases[key]?flags.bools[aliases[key]]:0)?args[i+1]&&/true|false/.test(args[i+1])?(setArg(key,"true"===args[i+1]),i++):setArg(key,flags.strings[key]?"":!0):(setArg(key,args[i+1]),i++))}else argv._.push(flags.strings._||!isNumber(arg)?arg:Number(arg))}return Object.keys(defaults).forEach(function(key){hasKey(argv,key.split("."))||(setKey(argv,key.split("."),defaults[key]),(aliases[key]||[]).forEach(function(x){setKey(argv,x.split("."),defaults[key])}))}),notFlags.forEach(function(key){argv._.push(key)}),argv}},{}],445:[function(require,module,exports){var wordwrap=module.exports=function(start,stop,params){"object"==typeof start&&(params=start,start=params.start,stop=params.stop),"object"==typeof stop&&(params=stop,start=start||params.start,stop=void 0),stop||(stop=start,start=0),params||(params={});var mode=params.mode||"soft",re="hard"===mode?/\b/:/(\S+\s+)/;return function(text){var chunks=text.toString().split(re).reduce(function(acc,x){if("hard"===mode)for(var i=0;i<x.length;i+=stop-start)acc.push(x.slice(i,i+stop-start));else acc.push(x);return acc},[]);return chunks.reduce(function(lines,rawChunk){if(""===rawChunk)return lines;var chunk=rawChunk.replace(/\t/g,"    "),i=lines.length-1;if(lines[i].length+chunk.length>stop)lines[i]=lines[i].replace(/\s+$/,""),chunk.split(/\n/).forEach(function(c){lines.push(new Array(start+1).join(" ")+c.replace(/^\s+/,""))});else if(chunk.match(/\n/)){var xs=chunk.split(/\n/);lines[i]+=xs.shift(),xs.forEach(function(c){lines.push(new Array(start+1).join(" ")+c.replace(/^\s+/,""))})}else lines[i]+=chunk;return lines},[new Array(start+1).join(" ")]).join("\n")}};wordwrap.soft=wordwrap,wordwrap.hard=function(start,stop){return wordwrap(start,stop,{mode:"hard"})}},{}],446:[function(require,module,exports){"use strict";require("colors");var Utils=require("./utils");exports.version=require("../package.json").version,exports.render=function(data,options,indentation){indentation=indentation||0,options=options||{},options.emptyArrayMsg=options.emptyArrayMsg||"(empty array)",options.keysColor=options.keysColor||"green",options.dashColor=options.dashColor||"green",options.numberColor=options.numberColor||"blue",options.defaultIndentation=options.defaultIndentation||2,options.noColor=!!options.noColor,options.stringColor=options.stringColor||null;var output=[],isSerializable=function(input,onlyPrimitives){return"boolean"==typeof input||"number"==typeof input||null===input||input instanceof Date?!0:"string"==typeof input&&-1===input.indexOf("\n")?!0:!(!options.inlineArrays||onlyPrimitives||!Array.isArray(input)||!isSerializable(input[0],!0))},indentLines=function(string,spaces){var lines=string.split("\n");return lines=lines.map(function(line){return Utils.indent(spaces)+line}),lines.join("\n")},addColorToData=function(input){if(options.noColor)return input;if("string"==typeof input)return options.stringColor?input[options.stringColor]:input;var sInput=input+"";return input===!0?sInput.green:input===!1?sInput.red:null===input?sInput.grey:"number"==typeof input?sInput[options.numberColor]:Array.isArray(input)?input.join(", "):sInput};if(isSerializable(data))output.push(Utils.indent(indentation)+addColorToData(data));else if("string"==typeof data)output.push(Utils.indent(indentation)+'"""'),output.push(indentLines(data,indentation+options.defaultIndentation)),output.push(Utils.indent(indentation)+'"""');else if(Array.isArray(data))0===data.length?output.push(Utils.indent(indentation)+options.emptyArrayMsg):data.forEach(function(element){var line="- ";options.noColor||(line=line[options.dashColor]),line=Utils.indent(indentation)+line,isSerializable(element)?(line+=exports.render(element,options),output.push(line)):(output.push(line),output.push(exports.render(element,options,indentation+options.defaultIndentation)))});else if("object"==typeof data){var key,maxIndexLength=Utils.getMaxIndexLength(data),isError=data instanceof Error;Object.getOwnPropertyNames(data).forEach(function(i){key=i+": ",options.noColor||(key=key[options.keysColor]),key=Utils.indent(indentation)+key,void 0!==data[i]&&(!isSerializable(data[i])||isError&&"stack"===i?(output.push(key),output.push(exports.render(isError&&"stack"===i?data[i].split("\n"):data[i],options,indentation+options.defaultIndentation))):(key+=exports.render(data[i],options,maxIndexLength-i.length),output.push(key)))})}return output.join("\n")},exports.renderString=function(data,options,indentation){var parsedData,output="";if("string"!=typeof data||""===data)return"";if("{"!==data[0]&&"["!==data[0]){var beginingOfJson;beginingOfJson=-1===data.indexOf("{")?data.indexOf("["):-1===data.indexOf("[")?data.indexOf("{"):data.indexOf("{")<data.indexOf("[")?data.indexOf("{"):data.indexOf("["),output+=data.substr(0,beginingOfJson)+"\n",data=data.substr(beginingOfJson)}try{parsedData=JSON.parse(data)}catch(e){return"Error:".red+" Not valid JSON!"}return output+=exports.render(parsedData,options,indentation)}},{"../package.json":448,"./utils":447,colors:115}],447:[function(require,module,exports){"use strict";exports.indent=function(numSpaces){return new Array(numSpaces+1).join(" ")},exports.getMaxIndexLength=function(input){var maxWidth=0;return Object.getOwnPropertyNames(input).forEach(function(key){void 0!==input[key]&&(maxWidth=Math.max(maxWidth,key.length))}),maxWidth}},{}],448:[function(require,module,exports){module.exports={author:{name:"Rafael de Oleza",email:"rafeca@gmail.com",url:"https://github.com/rafeca"},name:"prettyjson",description:"Package for formatting JSON data in a coloured YAML-style, perfect for CLI output",version:"1.1.3",homepage:"http://rafeca.com/prettyjson",keywords:["json","cli","formatting","colors"],repository:{type:"git",url:"git+https://github.com/rafeca/prettyjson.git"},bugs:{url:"https://github.com/rafeca/prettyjson/issues"},main:"./lib/prettyjson",license:"MIT",scripts:{test:"npm run jshint && mocha --reporter spec",testwin:"node ./node_modules/mocha/bin/mocha --reporter spec",jshint:"jshint lib/*.js",coverage:"istanbul cover _mocha --report lcovonly -- -R spec",coveralls:"npm run coverage && cat ./coverage/lcov.info | coveralls && rm -rf ./coverage",changelog:"git log $(git describe --tags --abbrev=0)..HEAD --pretty='* %s' --first-parent"},bin:{prettyjson:"./bin/prettyjson"},dependencies:{colors:"^1.1.2",minimist:"^1.1.3"},devDependencies:{coveralls:"^2.11.3",istanbul:"^0.3.17",jshint:"^2.4.4",mocha:"^2.2.5","mocha-lcov-reporter":"0.0.2",should:"^7.0.2"},gitHead:"99dac22baba027875536f543f8dbe5b4f9d9f986",_id:"prettyjson@1.1.3",_shasum:"d0787f732c9c3a566f4165fa4f1176fd67e6b263",_from:"prettyjson@1.1.3",_npmVersion:"2.11.3",_nodeVersion:"0.12.7",_npmUser:{name:"rafeca",email:"rafeca@gmail.com"},dist:{shasum:"d0787f732c9c3a566f4165fa4f1176fd67e6b263",tarball:"https://registry.npmjs.org/prettyjson/-/prettyjson-1.1.3.tgz"},maintainers:[{name:"rafeca",email:"rafeca@gmail.com"}],directories:{},_resolved:"https://registry.npmjs.org/prettyjson/-/prettyjson-1.1.3.tgz",readme:"ERROR: No README data found!"}},{}],449:[function(require,module,exports){function through(write,end,opts){function drain(){for(;buffer.length&&!stream.paused;){var data=buffer.shift();if(null===data)return stream.emit("end");stream.emit("data",data)}}function _end(){stream.writable=!1,end.call(stream),!stream.readable&&stream.autoDestroy&&stream.destroy()}write=write||function(data){this.queue(data)},end=end||function(){this.queue(null)};var ended=!1,destroyed=!1,buffer=[],_ended=!1,stream=new Stream;return stream.readable=stream.writable=!0,stream.paused=!1,stream.autoDestroy=!(opts&&opts.autoDestroy===!1),stream.write=function(data){return write.call(this,data),!stream.paused},stream.queue=stream.push=function(data){return _ended?stream:(null===data&&(_ended=!0),buffer.push(data),drain(),stream)},stream.on("end",function(){stream.readable=!1,!stream.writable&&stream.autoDestroy&&process.nextTick(function(){stream.destroy()})}),stream.end=function(data){return ended?void 0:(ended=!0,arguments.length&&stream.write(data),_end(),stream)},stream.destroy=function(){return destroyed?void 0:(destroyed=!0,ended=!0,buffer.length=0,stream.writable=stream.readable=!1,stream.emit("close"),stream)},stream.pause=function(){return stream.paused?void 0:(stream.paused=!0,stream)},stream.resume=function(){return stream.paused&&(stream.paused=!1,stream.emit("resume")),drain(),stream.paused||stream.emit("drain"),stream},stream}var Stream=require("stream");exports=module.exports=through,through.through=through},{stream:void 0}],450:[function(require,module,exports){function uid(len){return len=len||7,Math.random().toString(35).substr(2,len)}module.exports=uid},{}],451:[function(require,module,exports){!function(root){function ucs2decode(string){for(var value,extra,output=[],counter=0,length=string.length;length>counter;)value=string.charCodeAt(counter++),value>=55296&&56319>=value&&length>counter?(extra=string.charCodeAt(counter++),56320==(64512&extra)?output.push(((1023&value)<<10)+(1023&extra)+65536):(output.push(value),counter--)):output.push(value);return output}function ucs2encode(array){for(var value,length=array.length,index=-1,output="";++index<length;)value=array[index],value>65535&&(value-=65536,output+=stringFromCharCode(value>>>10&1023|55296),value=56320|1023&value),output+=stringFromCharCode(value);return output}function checkScalarValue(codePoint){if(codePoint>=55296&&57343>=codePoint)throw Error("Lone surrogate U+"+codePoint.toString(16).toUpperCase()+" is not a scalar value")}function createByte(codePoint,shift){return stringFromCharCode(codePoint>>shift&63|128)}function encodeCodePoint(codePoint){if(0==(4294967168&codePoint))return stringFromCharCode(codePoint);var symbol="";return 0==(4294965248&codePoint)?symbol=stringFromCharCode(codePoint>>6&31|192):0==(4294901760&codePoint)?(checkScalarValue(codePoint),symbol=stringFromCharCode(codePoint>>12&15|224),symbol+=createByte(codePoint,6)):0==(4292870144&codePoint)&&(symbol=stringFromCharCode(codePoint>>18&7|240),symbol+=createByte(codePoint,12),symbol+=createByte(codePoint,6)),symbol+=stringFromCharCode(63&codePoint|128)}function utf8encode(string){for(var codePoint,codePoints=ucs2decode(string),length=codePoints.length,index=-1,byteString="";++index<length;)codePoint=codePoints[index],byteString+=encodeCodePoint(codePoint);return byteString}function readContinuationByte(){if(byteIndex>=byteCount)throw Error("Invalid byte index");var continuationByte=255&byteArray[byteIndex];if(byteIndex++,128==(192&continuationByte))return 63&continuationByte;throw Error("Invalid continuation byte")}function decodeSymbol(){var byte1,byte2,byte3,byte4,codePoint;if(byteIndex>byteCount)throw Error("Invalid byte index");if(byteIndex==byteCount)return!1;if(byte1=255&byteArray[byteIndex],byteIndex++,0==(128&byte1))return byte1;if(192==(224&byte1)){if(byte2=readContinuationByte(),codePoint=(31&byte1)<<6|byte2,codePoint>=128)return codePoint;throw Error("Invalid continuation byte")}if(224==(240&byte1)){if(byte2=readContinuationByte(),byte3=readContinuationByte(),codePoint=(15&byte1)<<12|byte2<<6|byte3,codePoint>=2048)return checkScalarValue(codePoint),codePoint;throw Error("Invalid continuation byte")}if(240==(248&byte1)&&(byte2=readContinuationByte(),byte3=readContinuationByte(),byte4=readContinuationByte(),codePoint=(7&byte1)<<18|byte2<<12|byte3<<6|byte4,codePoint>=65536&&1114111>=codePoint))return codePoint;throw Error("Invalid UTF-8 detected")}function utf8decode(byteString){byteArray=ucs2decode(byteString),byteCount=byteArray.length,byteIndex=0;for(var tmp,codePoints=[];(tmp=decodeSymbol())!==!1;)codePoints.push(tmp);return ucs2encode(codePoints)}var freeExports="object"==typeof exports&&exports,freeModule="object"==typeof module&&module&&module.exports==freeExports&&module,freeGlobal="object"==typeof global&&global;freeGlobal.global!==freeGlobal&&freeGlobal.window!==freeGlobal||(root=freeGlobal);var byteArray,byteCount,byteIndex,stringFromCharCode=String.fromCharCode,utf8={version:"2.1.2",encode:utf8encode,decode:utf8decode};if("function"==typeof define&&"object"==typeof define.amd&&define.amd)define(function(){return utf8});else if(freeExports&&!freeExports.nodeType)if(freeModule)freeModule.exports=utf8;else{var object={},hasOwnProperty=object.hasOwnProperty;for(var key in utf8)hasOwnProperty.call(utf8,key)&&(freeExports[key]=utf8[key])}else root.utf8=utf8}(this)},{}],452:[function(require,module,exports){function parse_status_block(block){var match,parsed={"interface":block.match(/^([^\s]+)/)[1]};return(match=block.match(/Link encap:\s*([^\s]+)/))&&(parsed.link=match[1].toLowerCase()),(match=block.match(/HWaddr\s+([^\s]+)/))&&(parsed.address=match[1].toLowerCase()),(match=block.match(/inet6\s+addr:\s*([^\s]+)/))&&(parsed.ipv6_address=match[1]),(match=block.match(/inet\s+addr:\s*([^\s]+)/))&&(parsed.ipv4_address=match[1]),(match=block.match(/Bcast:\s*([^\s]+)/))&&(parsed.ipv4_broadcast=match[1]),(match=block.match(/Mask:\s*([^\s]+)/))&&(parsed.ipv4_subnet_mask=match[1]),(match=block.match(/UP/))&&(parsed.up=!0),(match=block.match(/BROADCAST/))&&(parsed.broadcast=!0),(match=block.match(/RUNNING/))&&(parsed.running=!0),(match=block.match(/MULTICAST/))&&(parsed.multicast=!0),(match=block.match(/LOOPBACK/))&&(parsed.loopback=!0),parsed}function parse_status(callback){return function(error,stdout,stderr){error?callback(error):callback(error,stdout.trim().split("\n\n").map(parse_status_block))}}function parse_status_interface(callback){return function(error,stdout,stderr){error?callback(error):callback(error,parse_status_block(stdout.trim()))}}function status(interface,callback){callback?this.exec("ifconfig "+interface,parse_status_interface(callback)):this.exec("ifconfig -a",parse_status(interface))}function down(interface,callback){return this.exec("ifconfig "+interface+" down",callback)}function up(options,callback){return this.exec("ifconfig "+options["interface"]+" "+options.ipv4_address+" netmask "+options.ipv4_subnet_mask+" broadcast "+options.ipv4_broadcast+" up",callback)}var child_process=require("yap-require-hook").addReference(require("child_process"),"child_process");module.exports={exec:child_process.exec,status:status,down:down,up:up}},{child_process:void 0,"yap-require-hook":455}],453:[function(require,module,exports){function parse_status_block(block){var match;if(block){var parsed={"interface":block.match(/^([^\s]+)/)[1]};return(match=block.match(/Access Point:\s*([A-Fa-f0-9:]{17})/))&&(parsed.access_point=match[1].toLowerCase()),(match=block.match(/Frequency[:|=]\s*([0-9\.]+)/))&&(parsed.frequency=parseFloat(match[1])),(match=block.match(/IEEE\s*([^\s]+)/))&&(parsed.ieee=match[1].toLowerCase()),(match=block.match(/Mode[:|=]\s*([^\s]+)/))&&(parsed.mode=match[1].toLowerCase()),
(match=block.match(/Noise level[:|=]\s*(-?[0-9]+)/))&&(parsed.noise=parseInt(match[1],10)),(match=block.match(/Link Quality[:|=]\s*([0-9]+)/))&&(parsed.quality=parseInt(match[1],10)),(match=block.match(/Sensitivity[:|=]\s*([0-9]+)/))&&(parsed.sensitivity=parseInt(match[1],10)),(match=block.match(/Signal level[:|=]\s*(-?[0-9]+)/))&&(parsed.signal=parseInt(match[1],10)),(match=block.match(/ESSID[:|=]\s*"([^"]+)"/))&&(parsed.ssid=match[1]),(match=block.match(/unassociated/))&&(parsed.unassociated=!0),parsed}}function parse_status(callback){return function(error,stdout,stderr){error?callback(error):callback(error,stdout.trim().split("\n\n").map(parse_status_block).filter(function(i){return!!i}))}}function parse_status_interface(callback){return function(error,stdout,stderr){error?callback(error):callback(error,parse_status_block(stdout.trim()))}}function status(interface,callback){return callback?this.exec("iwconfig "+interface,parse_status_interface(callback)):this.exec("iwconfig",parse_status(interface))}var child_process=require("yap-require-hook").addReference(require("child_process"),"child_process");module.exports={exec:child_process.exec,status:status}},{child_process:void 0,"yap-require-hook":455}],454:[function(require,module,exports){function has_ssid(network){return network.ssid}function has_keys(network){return 0!==Object.keys(network).length}function by_signal(a,b){return b.signal-a.signal}function parse_cell(cell){var match,parsed={};return(match=cell.match(/Address\s*[:|=]\s*([A-Fa-f0-9:]{17})/))&&(parsed.address=match[1].toLowerCase()),(match=cell.match(/Channel\s*([0-9]+)/))&&(parsed.channel=parseInt(match[1],10)),(match=cell.match(/Frequency\s*[:|=]\s*([0-9\.]+)\s*GHz/))&&(parsed.frequency=parseFloat(match[1])),(match=cell.match(/Mode\s*[:|=]\s*([^\s]+)/))&&(parsed.mode=match[1].toLowerCase()),(match=cell.match(/Quality\s*[:|=]\s*([0-9]+)/))&&(parsed.quality=parseInt(match[1],10)),(match=cell.match(/Signal level\s*[:|=]\s*(-?[0-9]+)/))&&(parsed.signal=parseInt(match[1],10)),(match=cell.match(/Noise level\s*[:|=]\s*(-?[0-9]+)/))&&(parsed.noise=parseInt(match[1],10)),(match=cell.match(/ESSID\s*[:|=]\s*"(.*)"\n/))&&(parsed.ssid=match[1]),(match=cell.match(/WPA2\s+Version/))?parsed.security="wpa2":(match=cell.match(/WPA\s+Version/))?parsed.security="wpa":(match=cell.match(/Encryption key\s*[:|=]\s*on/))?parsed.security="wep":(match=cell.match(/Encryption key\s*[:|=]\s*off/))&&(parsed.security="open"),parsed}function parse_scan(show_hidden,callback){return function(error,stdout,stderr){error?callback(error):show_hidden?callback(error,stdout.split(/Cell [0-9]+ -/).map(parse_cell).filter(has_keys).sort(by_signal)):callback(error,stdout.split(/Cell [0-9]+ -/).map(parse_cell).filter(has_ssid).sort(by_signal))}}function scan(options,callback){var interface,show_hidden;if("string"==typeof options)var interface=options,show_hidden=!1;else var interface=options.iface,show_hidden=options.show_hidden||!1;var extra_params="";options.ssid&&(extra_params=" essid "+options.ssid),this.exec("iwlist "+interface+" scan"+extra_params,parse_scan(show_hidden,callback))}var child_process=require("yap-require-hook").addReference(require("child_process"),"child_process");module.exports={exec:child_process.exec,scan:scan}},{child_process:void 0,"yap-require-hook":455}],455:[function(require,module,exports){module.exports=exports=require("./lib/yap-require-hook")},{"./lib/yap-require-hook":456}],456:[function(require,module,exports){(function(){function import$(obj,src){var own={}.hasOwnProperty;for(var key in src)own.call(src,key)&&(obj[key]=src[key]);return obj}var FIND_MODULE,hook,exports;module.initialized=!1,module.loadedModules=[],FIND_MODULE=function(instance){function fn$(i,m){m.module===instance&&(ret=m)}var loadedModules,ret,i$,len$;for(loadedModules=module.loadedModules,ret=null,i$=0,len$=loadedModules.length;len$>i$;++i$)fn$.call(this,i$,loadedModules[i$]);return ret},hook=function(){var system,_load;return system=require("module"),_load=system._load,system._load=function(request,parent,isMain){var pre,post,loadedModules,context,m;return pre=module.pre,post=module.post,loadedModules=module.loadedModules,null!=pre&&(context=pre(request,parent,isMain)),null!=context&&import$(global,context),m=_load(request,parent,isMain),null!=post&&post(request,m),exports.addReference(m,request)}},module.exports=exports={install:function(pre,post){return module.initialized?void 0:(null!=pre&&(module.pre=pre),null!=post&&(module.post=post),module.initialized=!0,hook())},getName:function(m){var path,mx,name,basename;return path=require("path"),mx=FIND_MODULE(m),null==mx?null:(name=mx.name,basename=path.basename(name),{name:name,basename:basename})},addReference:function(m,name){var loadedModules,lm;return loadedModules=module.loadedModules,lm={module:m,name:name},loadedModules.push(lm),m}}}).call(this)},{module:"module",path:void 0}],457:[function(require,module,exports){module.exports=exports=require("yap-require-hook").addReference(require("./lib/yap-simple-logger"),"./lib/yap-simple-logger")},{"./lib/yap-simple-logger":458,"yap-require-hook":455}],458:[function(require,module,exports){(function(){function extend$(sub,sup){function fun(){}return fun.prototype=(sub.superclass=sup).prototype,(sub.prototype=new fun).constructor=sub,"function"==typeof sup.extended&&sup.extended(sub),sub}function import$(obj,src){var own={}.hasOwnProperty;for(var key in src)own.call(src,key)&&(obj[key]=src[key]);return obj}var moment,colors,path,logLevels,parseFilename,Driver,ConsoleDriver,Logger,x,y,exports;moment=require("yap-require-hook").addReference(require("moment"),"moment"),colors=require("yap-require-hook").addReference(require("colors"),"colors"),path=require("path"),logLevels={info:{string:"INFO".green},debug:{string:"DBG ".blue},error:{string:"ERR ".red},warn:{string:"WARN".yellow}},parseFilename=function(filename){var appDirname,appFilename,yModuleDir,extName,baseName,tokens,idx;return appDirname=module.appDirname,appFilename=module.appFilename,yModuleDir=module.yModuleDir,extName=path.extname(filename),baseName=path.basename(filename,extName),filename===appFilename?{name:"__app__",basename:null}:filename.startsWith(appDirname)?(filename=filename.substring(appDirname.length),tokens=filename.split(path.sep),2===tokens.length?{name:"__"+baseName+"__",basename:null}:3===tokens.length?{name:baseName,basename:null}:4===tokens.length?{name:tokens[2],basename:baseName}:{name:"..."+tokens[tokens.length-2],basename:baseName}):null!=yModuleDir&&filename.startsWith(yModuleDir)?(filename=filename.substring(yModuleDir.length),tokens=filename.split(path.sep),tokens[1]===baseName?{name:tokens[1],basename:null}:"index"===baseName?{name:tokens[1],basename:tokens[tokens.length-2]}:{name:tokens[1],basename:baseName}):(idx=filename.indexOf("/yapps-plugins/"),0>idx&&(idx=filename.indexOf("/plugins/")),0>idx?{name:"??",basename:baseName}:(tokens=filename.substring(idx).split(path.sep),{name:tokens[2],basename:baseName}))},Driver=function(){function Driver(moduleName,baseName){this.moduleName=moduleName,this.baseName=baseName}Driver.displayName="Driver";Driver.prototype;return Driver}(),ConsoleDriver=function(superclass){function ConsoleDriver(moduleName,baseName){return this.moduleName=moduleName,this.baseName=baseName,this.precise="true"===process.env.LOGGER_PRECISE_TIMESTAMP,this.timeFormat=this.precise?"MM/DD HH:mm:ss:SSS":"YYYY/MM/DD HH:mm:ss",ConsoleDriver.superclass.call(this,moduleName,baseName)}extend$((import$(ConsoleDriver,superclass).displayName="ConsoleDriver",ConsoleDriver),superclass).prototype;return ConsoleDriver.prototype.formatName=function(){var paddings,moduleName,baseName,name,len,padding;return paddings=module.paddings,moduleName=this.moduleName,baseName=this.baseName,name=null!=baseName&&baseName!==moduleName?moduleName+"::"+baseName:moduleName+"",len=name.length,padding=28>=len?paddings[28-len]:"",name+""+padding},ConsoleDriver.prototype.log=function(lv,err,message){var self,timeFormat,name,msg,level,now,prefix,exx;return timeFormat=(self=this).timeFormat,name=this.formatName(),msg=null!=message?message:err,level=logLevels[lv],now=moment().format(timeFormat),prefix=now.gray+" "+name+" ["+level.string+"]",null!=message?null!=err&&null!=err.stack?(console.error(prefix+" "+err.stack),console.error(prefix+" "+msg)):(exx=err+"",console.error(prefix+" err: "+exx.red+" => "+msg)):console.error(prefix+" "+msg)},ConsoleDriver.prototype.error=function(err,message){return this.log("error",err,message)},ConsoleDriver.prototype.info=function(err,message){return this.log("info",err,message)},ConsoleDriver.prototype.warn=function(err,message){return this.log("warn",err,message)},ConsoleDriver.prototype.debug=function(err,message){return this.log("debug",err,message)},ConsoleDriver}(Driver),Logger=function(){function Logger(moduleName,baseName,driverClass){this.moduleName=moduleName,this.baseName=baseName,this.setDriverClass(driverClass)}Logger.displayName="Logger";Logger.prototype;return Logger.prototype.setDriverClass=function(driverClass){return this.driver=new driverClass(this.moduleName,this.baseName)},Logger.prototype.debug=function(){var ref$;return null==(null!=(ref$=global.argv)?ref$.v:void 0)||global.argv.v?this.driver.debug.apply(this.driver,arguments):void 0},Logger.prototype.info=function(){return this.driver.info.apply(this.driver,arguments)},Logger.prototype.warn=function(){return this.driver.warn.apply(this.driver,arguments)},Logger.prototype.error=function(){return this.driver.error.apply(this.driver,arguments)},Logger}(),module.paddings=[""].concat(function(){function fn$(){var i$,to$,results$=[];for(i$=1,to$=x;to$>=i$;++i$)y=i$,results$.push(" ");return results$}var i$,results$=[];for(i$=1;28>=i$;++i$)x=i$,results$.push(fn$().join(""));return results$}()),module.loggers=[],module.driverClass=ConsoleDriver,module.exports=exports={init:function(appFilename,yapFilename){var tokens;return module.appFilename=appFilename,module.appDirname=path.dirname(appFilename),null!=yapFilename?(tokens=yapFilename.split(path.sep),tokens.pop(),tokens.pop(),tokens.pop(),module.yModuleDir=tokens.join(path.sep),console.error("y-module-dir = "+module.yModuleDir)):void 0},setDriverClass:function(driverClass){var loggers,i$,len$,l;for(console.error("set-driver-class"),loggers=module.loggers,i$=0,len$=loggers.length;len$>i$;++i$)l=loggers[i$],l.setDriverClass(driverClass);return null!=driverClass?module.driverClass=driverClass:void 0},baseDriver:Driver},global.getLogger=function(filename){var driverClass,loggers,ref$,name,basename,logger,get;return driverClass=module.driverClass,loggers=module.loggers,ref$=parseFilename(filename),name=ref$.name,basename=ref$.basename,logger=new Logger(name,basename,driverClass),loggers.push(logger),get=function(logger,level){return function(){return logger[level].apply(logger,arguments)}},{DBG:get(logger,"debug"),ERR:get(logger,"error"),WARN:get(logger,"warn"),INFO:get(logger,"info")}}}).call(this)},{colors:115,moment:442,path:void 0,"yap-require-hook":455}],459:[function(require,module,exports){module.exports=exports=require("yap-require-hook").addReference(require("./lib/yapps"),"./lib/yapps")},{"./lib/yapps":478,"yap-require-hook":455}],460:[function(require,module,exports){(function(__filename){(function(){function curry$(f,bound){var context,_curry=function(args){return f.length>1?function(){var params=args?args.concat():[];return context=bound?context||this:this,params.push.apply(params,arguments)<f.length&&arguments.length?_curry.call(context,params):f.apply(context,params)}:f};return _curry()}var path,async,colors,optimist,eventemitter2,yapRequireHook,handlebars,ref$,DBG,ERR,WARN,INFO,lodash_merge,lodash_find,lodash_findIndex,lodash_sum,ERR_EXIT,PARSE_CMD_CONFIG_VALUE,applyCmdConfig,dumpGeneratedConfig,loadConfig,PLUGIN_INIT_CURRYING,PLUGIN_FINI_CURRYING,HOOK,LOAD_MODULE,AppContext,dataEmitterCurrying,lineEmitterCurrying,BaseApp,exports;path=require("path"),async=require("yap-require-hook").addReference(require("async"),"async"),colors=require("yap-require-hook").addReference(require("colors"),"colors"),optimist=require("yap-require-hook").addReference(require("optimist"),"optimist"),eventemitter2=require("yap-require-hook").addReference(require("eventemitter2"),"eventemitter2"),yapRequireHook=require("yap-require-hook").addReference(require("yap-require-hook"),"yap-require-hook"),handlebars=require("yap-require-hook").addReference(require("handlebars"),"handlebars"),global.addBundledModule({async:async,optimist:optimist,eventemitter2:eventemitter2,handlebars:handlebars}),ref$=global.getLogger(__filename),DBG=ref$.DBG,ERR=ref$.ERR,WARN=ref$.WARN,INFO=ref$.INFO,ref$=getBundledModules(),lodash_merge=ref$.lodash_merge,lodash_find=ref$.lodash_find,lodash_findIndex=ref$.lodash_findIndex,lodash_sum=ref$.lodash_sum,ERR_EXIT=function(err,message,code){return null==code&&(code=2),ERR(err,message),process.exit(code)},PARSE_CMD_CONFIG_VALUE=function(s,type){var ref$,prop,value,version;return ref$=s.split("="),prop=ref$[0],value=ref$[1],"object"!==type?{prop:prop,value:value}:"^"!==prop[0]?{prop:prop,value:value}:(ref$=s.substring(1).split(":"),prop=ref$[0],value=ref$[1],version=parseInt(process.version.substring(1).split(".").shift()),value=version>=5?Buffer.from(value,"base64"):Buffer(value,"base64"),value=value.toString("ascii"),{prop:prop,value:value})},applyCmdConfig=function(settings,type){var i$,len$,s,ref$,prop,value,names,lastName,config,j$,len1$,n,xs,text,results$=[];if(settings){for(settings=settings instanceof Array?settings:[settings],i$=0,len$=settings.length;len$>i$;++i$){for(s=settings[i$],ref$=PARSE_CMD_CONFIG_VALUE(s,type),prop=ref$.prop,value=ref$.value,INFO("applying "+prop+" = "+value),'"'===value.charAt(0)&&'"'===value.charAt(value.length-1)?value=value.substr(1,value.length-2):"'"===value.charAt(0)&&"'"===value.charAt(value.length-1)&&(value=value.substr(1,value.length-2)),names=prop.split("."),lastName=names.pop(),config=global.config,j$=0,len1$=names.length;len1$>j$;++j$)n=names[j$],config=config[n];switch(type){case"object":config[lastName]=JSON.parse(value);break;case"string":config[lastName]=value;break;case"integer":config[lastName]=parseInt(value);break;case"boolean":config[lastName]="true"===value.toLowerCase();break;case"str_array":config[lastName]=value.split(",");break;default:config[lastName]=value}xs=config[lastName],text=xs+"","object"==typeof xs&&(text=JSON.stringify(xs)),results$.push(INFO("applied "+prop+" = "+xs))}return results$}},dumpGeneratedConfig=function(config,text){var prettyjson,xs,i$,len$,x;if(prettyjson=require("yap-require-hook").addReference(require("prettyjson"),"prettyjson"),null==prettyjson)return console.error("generated configuration: \n"+text.gray);for(text=prettyjson.render(config,{keysColor:"gray",dashColor:"green",stringColor:"yellow",numberColor:"cyan",defaultIndentation:4}),xs=text.split("\n"),console.error("generated configration:"),i$=0,len$=xs.length;len$>i$;++i$)x=xs[i$],console.error("	"+x);return console.error("")},loadConfig=function(name,helpers){var resource,deployConfig,opt,argv,ref$,json,text,source,config,BOARD_PROFILE_ENV,YAPPS_ENV,deployEnvironment,context,error,output;return resource=helpers.resource,deployConfig=helpers.deployConfig,opt=optimist.usage("Usage: $0").alias("c","config").describe("c","the configuration set, might be default, bbb0, ...")["default"]("c","default").alias("d","deployment").describe("d","deployment mode or not")["default"]("d",!1).alias("b","config_bool").describe("b",'overwrite a configuration with boolean value, e.g. -b "system.influxServer.secure=false"').alias("s","config_string").describe("s",'overwrite a configuration with boolean value, e.g. -b "system.influxServer.user=smith"').alias("i","config_int").describe("i",'overwrite a configuration with int value, e.g. -b "behavior.notify.influxPeriod=smith"').alias("a","config_str_array").describe("a",'overwrite a configuration with array of strings with delimiter character `COMMA`, e.g. -b "system.influxServer.clusters=aa.test.net,bb.test.net,cc.test.net"').alias("o","config_object").describe("o",'overwrite a configuration with json object string, e.g. -b "system.influxServer.connections.ifdb999={"url":"tcp://192.168.1.110:6020","enabled":false}"').alias("v","verbose").describe("v","verbose message output (level is changed to `debug`)")["default"]("v",!1).alias("q","quiet").describe("q","disable logging outputs to local file, but still outputs to stderr")["default"]("q",!1)["boolean"](["h","v"]),argv=global.argv=opt.argv,argv.h&&(opt.showHelp(),process.exit(0)),ref$=resource.loadConfig(argv.config),json=ref$.json,text=ref$.text,source=ref$.source,null==json?ERR_EXIT("failed to load "+argv.config,null,1):(global.config=json,applyCmdConfig(argv.o,"object"),applyCmdConfig(argv.s,"string"),applyCmdConfig(argv.i,"integer"),applyCmdConfig(argv.b,"boolean"),applyCmdConfig(argv.a,"str_array"),config=global.config,argv.d?config:null==deployConfig?config:(ref$=process.env,BOARD_PROFILE_ENV=ref$.BOARD_PROFILE_ENV,YAPPS_ENV=ref$.YAPPS_ENV,deployEnvironment="development",null==YAPPS_ENV||"production"!==YAPPS_ENV&&"testing"!==YAPPS_ENV&&"development"!==YAPPS_ENV||(deployEnvironment=YAPPS_ENV),null==BOARD_PROFILE_ENV||"production"!==BOARD_PROFILE_ENV&&"testing"!==BOARD_PROFILE_ENV&&"development"!==BOARD_PROFILE_ENV||(deployEnvironment=BOARD_PROFILE_ENV),"development"===deployEnvironment&&(colors.enabled=!0),context={APP_NAME:name,APP_DIR:resource.getAppDir(),WORK_DIR:resource.getWorkDir()},text=JSON.stringify(config,null,"  "),ref$=deployConfig(deployEnvironment,config,text,context),error=ref$.error,output=ref$.output,null==error?output:ERR_EXIT(error,"failed to generate config with deployment option",1)))},PLUGIN_INIT_CURRYING=curry$(function(context,plugin,done){var instance,error;instance=plugin.instance;try{return instance.init.apply(context,[done])}catch(e$){return error=e$,done(error)}}),PLUGIN_FINI_CURRYING=curry$(function(context,plugin,done){var name,instance,prefix,cb,error;if(name=plugin.name,instance=plugin.instance,prefix="plugin["+name.yellow+"]",null==instance.fini)return INFO(prefix+".fini() ... IGNORED."),done();cb=function(err){return null!=err&&WARN(err,prefix+".fini with unexpected error"),done()};try{return INFO(prefix+".fini() ..."),instance.fini.apply(context,[done])}catch(e$){return error=e$,WARN(error,prefix+".fini with unexpected error"),done()}}),HOOK=function(err){var yapBaseappStartHook;return yapBaseappStartHook=global.yapBaseappStartHook,null!=yapBaseappStartHook&&yapBaseappStartHook(err),err},LOAD_MODULE=function(fullpath,done){var m,error;try{return m=require(fullpath),DBG("load "+fullpath+" successfully"),done(null,m)}catch(e$){return error=e$,ERR(error,"load "+fullpath+" but failed."),done(error)}},AppContext=function(){function AppContext(opts,helpers){this.opts=opts,this.systemUptime=new helpers.systemUptime({}),this.server=new eventemitter2.EventEmitter2({wildcard:!0,delimiter:"::",newListener:!1,maxListeners:20})}AppContext.displayName="AppContext";AppContext.prototype;return AppContext.prototype.on=function(){return this.server.on.apply(this.server,arguments)},AppContext.prototype.emit=function(){return this.server.emit.apply(this.server,arguments)},AppContext.prototype.addListener=function(){return this.server.addListener.apply(this.server,arguments)},AppContext.prototype.removeListener=function(){return this.server.removeListener.apply(this.server,arguments)},AppContext}(),dataEmitterCurrying=curry$(function(app,pluginName,resourceName,channelName,context,data){var evts,src;return evts=[pluginName,resourceName,channelName,"data"],src={pluginName:pluginName,resourceName:resourceName,channelName:channelName},app.emit(evts,data,src,context),data}),lineEmitterCurrying=curry$(function(app,pluginName,resourceName,channelName,context,line){var evts,src;return evts=[pluginName,resourceName,channelName,"line"],line+="",line.endsWith("\n")&&(line=line.substring(0,line.length-1)),line.endsWith("\r")&&(line=line.substring(0,line.length-1)),src={pluginName:pluginName,resourceName:resourceName,channelName:channelName},app.emit(evts,line,src,context),line}),BaseApp=function(){function BaseApp(name,opts,helpers){this.name=name,this.opts=opts,this.helpers=helpers,this.context=new AppContext(opts,helpers),this.plugins=[],this.plugin_instances=[],this.addPlugin(require("yap-require-hook").addReference(require("./sock"),"./sock"))}BaseApp.displayName="BaseApp";BaseApp.prototype;return BaseApp.prototype.initExtraPlugins=function(done){var self,YAPPS_EXTRA_PLUGINS,tokens,res$,i$,len$,t,f;if(self=this,YAPPS_EXTRA_PLUGINS=process.env.YAPPS_EXTRA_PLUGINS,null==YAPPS_EXTRA_PLUGINS)return done();if(""===YAPPS_EXTRA_PLUGINS)return done();for(tokens=YAPPS_EXTRA_PLUGINS.split(":"),res$=[],i$=0,len$=tokens.length;len$>i$;++i$)t=tokens[i$],null!=t&&""!==t&&res$.push(t);return tokens=res$,f=function(p,cb){return LOAD_MODULE(p,function(err,plugin){return null!=err?cb(err):(self.addPlugin(plugin),cb())})},async.eachSeries(tokens,f,done)},BaseApp.prototype.init=function(done){var self;return self=this,self.initExtraPlugins(function(ee){return null!=ee?done(HOOK(ee)):self.initInternal(function(ie){return done(HOOK(ie))})})},BaseApp.prototype.initInternal=function(done){function fn$(){var name,app,evts,args;return name=this.name,app=this.app,evts=[name].concat(arguments[0]),args=Array.prototype.slice.call(arguments,1),args=[evts].concat(args),app.emit.apply(app,args)}var self,ref$,context,name,opts,plugin_instances,plugins,helpers,config,sysSock,YAPPS_DUMP_LOADED_CONFIG,appPackageJsonPath,appPackageJson,appName,pluginDefaultSettings,i$,len$,p,basename,pName,px,appPluginEmitter,f,l,d,h,c,error;for(ref$=self=this,context=ref$.context,name=ref$.name,opts=ref$.opts,plugin_instances=ref$.plugin_instances,plugins=ref$.plugins,helpers=ref$.helpers,config=loadConfig(name,helpers),sysSock={uri:"unix:///tmp/yap/"+name+".system.sock",line:!0},null==config.sock&&(config.sock={servers:{system:sysSock}}),null==config.sock.servers.system&&(config.sock.servers.system=sysSock),YAPPS_DUMP_LOADED_CONFIG=process.env.YAPPS_DUMP_LOADED_CONFIG,INFO("app-config:"),"false"!==YAPPS_DUMP_LOADED_CONFIG&&dumpGeneratedConfig(config,JSON.stringify(config,null," ")),appPackageJsonPath=helpers.resource.getAppDir()+"/package.json",appPackageJson=require(appPackageJsonPath),INFO("app-package-json:"),"false"!==YAPPS_DUMP_LOADED_CONFIG&&dumpGeneratedConfig(appPackageJson,JSON.stringify(appPackageJson,null," ")),appName=name,pluginDefaultSettings={appName:appName,appPackageJson:appPackageJson},i$=0,len$=plugin_instances.length;len$>i$;++i$){p=plugin_instances[i$],basename=yapRequireHook.getName(p).basename,pName=basename,px={instance:p,name:pName},plugins.push(px),appPluginEmitter={app:context,name:pName,emit:fn$};try{f=appPluginEmitter.emit.bind(appPluginEmitter),l=lineEmitterCurrying(self,pName),d=dataEmitterCurrying(self,pName),h={lineEmitterCurrying:l,dataEmitterCurrying:d,pluginEmitter:f},h=lodash_merge({},h,helpers),null!=config[pName]&&(c=lodash_merge({},pluginDefaultSettings,config[pName])),DBG("load plugin "+pName.cyan+" with options: "+JSON.stringify(c).green),p.attach.apply(context,[c,h])}catch(e$){return error=e$,ERR_EXIT(error,"failed to load plugin "+pName.cyan)}}return self.initPlugins(done)},BaseApp.prototype.initPlugins=function(done){var context,plugins,name,tasks,res$,i$,len$,p;for(context=this.context,plugins=this.plugins,name=this.name,res$=[],i$=0,len$=plugins.length;len$>i$;++i$)p=plugins[i$],res$.push(PLUGIN_INIT_CURRYING(context,p));return tasks=res$,async.series(tasks,function(err){return null!=done&&"function"==typeof done?null!=err?ERR_EXIT(err,"failed to init all plugins"):(INFO(name.yellow+" initialized."),done()):void 0})},BaseApp.prototype.get=function(name){return this.context[name]},BaseApp.prototype.on=function(){return this.context.on.apply(this.context,arguments)},BaseApp.prototype.emit=function(){return this.context.emit.apply(this.context,arguments)},BaseApp.prototype.addPlugin=function(p){return this.plugin_instances.push(p)},BaseApp.prototype.shutdown=function(evt,done){var context,plugins,name,xs,res$,i$,len$,p,tasks;for(context=this.context,plugins=this.plugins,name=this.name,INFO(name.yellow+" starts finalization with signal "+evt.red+" ..."),res$=[],i$=0,len$=plugins.length;len$>i$;++i$)p=plugins[i$],res$.push(p);for(xs=res$,xs.reverse(),res$=[],i$=0,len$=xs.length;len$>i$;++i$)p=xs[i$],res$.push(PLUGIN_FINI_CURRYING(context,p));return tasks=res$,async.series(tasks,function(err){var code;return code=null!=err?1:0,null!=err&&WARN(err,"failed to finalized all plugins"),INFO(name.yellow+" finalized."),done(null,code)})},BaseApp}(),module.exports=exports=BaseApp}).call(this)}).call(this,"/Users/yagamy/Works/workspaces/t2t/yapps-tt/externals/y_modules/yapps/lib/classes/BaseApp.js")},{"./sock":462,async:33,colors:115,eventemitter2:122,handlebars:236,optimist:443,path:void 0,prettyjson:446,"yap-require-hook":455}],461:[function(require,module,exports){(function(__filename){(function(){function extend$(sub,sup){function fun(){}return fun.prototype=(sub.superclass=sup).prototype,(sub.prototype=new fun).constructor=sub,"function"==typeof sup.extended&&sup.extended(sub),sub}function import$(obj,src){var own={}.hasOwnProperty;for(var key in src)own.call(src,key)&&(obj[key]=src[key]);return obj}var BaseApp,ref$,DBG,ERR,WARN,INFO,HOOK,WebApp,exports;BaseApp=require("yap-require-hook").addReference(require("./BaseApp"),"./BaseApp"),ref$=global.getLogger(__filename),DBG=ref$.DBG,ERR=ref$.ERR,WARN=ref$.WARN,INFO=ref$.INFO,HOOK=function(err){var yapWebappStartHook;return yapWebappStartHook=global.yapWebappStartHook,null!=yapWebappStartHook&&yapWebappStartHook(err),err},WebApp=function(superclass){function WebApp(name,opts,helpers){this.name=name,this.opts=opts,this.helpers=helpers,WebApp.superclass.apply(this,arguments),INFO("web-app initiates"),this.addPlugin(require("yap-require-hook").addReference(require("./web"),"./web"))}extend$((import$(WebApp,superclass).displayName="WebApp",WebApp),superclass).prototype;return WebApp.prototype.init=function(done){var self;return self=this,superclass.prototype.init.call(this,function(err){var web;return null!=err?done(err):(web=self.context.web,web.start(function(err){return done(HOOK(err))}))})},WebApp}(BaseApp),module.exports=exports=WebApp}).call(this)}).call(this,"/Users/yagamy/Works/workspaces/t2t/yapps-tt/externals/y_modules/yapps/lib/classes/WebApp.js")},{"./BaseApp":460,"./web":463,"yap-require-hook":455}],462:[function(require,module,exports){(function(__filename){(function(){var net,mkdirp,async,fs,path,byline,url,through,ref$,DBG,ERR,WARN,INFO,lodash_findIndex,SocketServer,Manager,exports;net=require("net"),mkdirp=require("yap-require-hook").addReference(require("mkdirp"),"mkdirp"),async=require("yap-require-hook").addReference(require("async"),"async"),fs=require("fs"),path=require("path"),byline=require("yap-require-hook").addReference(require("byline"),"byline"),url=require("yap-require-hook").addReference(require("url"),"url"),through=require("yap-require-hook").addReference(require("through"),"through"),ref$=global.getLogger(__filename),DBG=ref$.DBG,ERR=ref$.ERR,WARN=ref$.WARN,INFO=ref$.INFO,lodash_findIndex=global.getBundledModules().lodash_findIndex,SocketServer=function(){function SocketServer(name,config,app,helpers,verbose){var self,server;this.name=name,this.config=config,this.app=app,this.helpers=helpers,this.verbose=verbose,self=this,this.uri=config.uri,this.connections=[],server=this.server=net.createServer(function(c){return self.incomingConnection(c)}),server.on("listen",function(){return DBG(name.cyan+" ("+uri.cyan+") is listening")}),server.on("end",function(){return INFO(name.cyan+" closed")}),server.on("error",function(err){return ERR(err,name.cyan+" unexpected error")})}SocketServer.displayName="SocketServer";SocketServer.prototype;return SocketServer.prototype.start=function(done){var self,ref$,name,uri,server,verbose,protocol,hostname,port,pathname,dir;return ref$=self=this,name=ref$.name,uri=ref$.uri,server=ref$.server,verbose=ref$.verbose,verbose&&INFO("["+name.cyan+"] "+uri.green),ref$=url.parse(uri),protocol=ref$.protocol,hostname=ref$.hostname,port=ref$.port,pathname=ref$.pathname,self.protocol=protocol,"tcp:"===protocol?server.listen(port,hostname,function(err0){return null!=err0?done("["+name.cyan+"] failed to create tcp socket server, err: "+err0):(INFO("["+name.cyan+"] listening "+uri.cyan),done())}):"unix:"===protocol?(dir=path.dirname(pathname),mkdirp(dir,function(err0){return null!=err0?done("["+name.cyan+"] failed to create dir "+dir+", err: "+err0):(verbose&&INFO("["+name.cyan+"] successfully create "+dir),fs.stat(pathname,function(err1,stats){return null!=err1||stats.isSocket()?(null==err1&&fs.unlinkSync(pathname),verbose&&INFO("["+name.cyan+"] successfully cleanup previous domain socket"),server.listen(pathname,function(err2){return null!=err2?done("["+name.cyan+"] failed to create domain socket, err: "+err2):(INFO("listening "+pathname.cyan),done())})):done("["+name.cyan+"] "+pathname+" exists but not a domain socket file")}))})):done("unsupported protocol scheme: "+protocol)},SocketServer.prototype.stop=function(done){function fn$(i,c){var error;try{INFO(prefix+" closing connections["+i+"] from "+c.remoteAddress),c.destroy(),c.end()}catch(e$){error=e$,ERR(error,prefix+": failed to close one connection => "+c.remoteAddress)}}var self,ref$,name,connections,server,uri,prefix,i$,len$;for(ref$=self=this,name=ref$.name,connections=ref$.connections,server=ref$.server,uri=ref$.uri,prefix="["+name.cyan+"]",i$=0,len$=connections.length;len$>i$;++i$)fn$.call(this,i$,connections[i$]);return INFO(prefix+" stop listening "+uri.cyan),server.ref(),server.close(function(err){return null!=err&&WARN(err,prefix+": failed to close server"),done()})},SocketServer.prototype.incomingConnection=function(c){var self,name,helpers,connections,app,lineEmitterCurrying,dataEmitterCurrying,remoteAddress,remoteFamily,remotePort,remote,l,d,write,end,t,r;self=this,name=self.name,helpers=self.helpers,connections=self.connections,app=self.app,lineEmitterCurrying=helpers.lineEmitterCurrying,dataEmitterCurrying=helpers.dataEmitterCurrying,remoteAddress=c.remoteAddress,remoteFamily=c.remoteFamily,remotePort=c.remotePort,remote=remoteAddress+":"+remotePort,null==remoteFamily&&(remoteFamily="unknown"),INFO(name.cyan+" incoming-connection: "+remote.magenta+", "+remoteFamily.yellow),connections.push(c),l=lineEmitterCurrying(name,"from-peer",{connection:c}),d=dataEmitterCurrying(name,"from-peer",{connection:c}),write=function(data){return this.queue(d(data))},end=function(){return this.queue(null)},t=through(write,end),r=byline.createStream(t),r.on("data",l),c.on("error",function(err){var idx;return idx=lodash_findIndex(connections,c),ERR(err,name.cyan+" connections["+idx+"[ throws error, remove it from connnection-list, err: "+err),null!=idx&&connections.splice(idx,1),r.removeAllListeners("data")}),c.on("end",function(){var idx;return idx=lodash_findIndex(connections,c),INFO(name.cyan+" "+idx+"("+remote.magenta+") disconnected"),null!=idx&&connections.splice(idx,1),r.removeAllListeners("data")}),c.pipe(t)},SocketServer.prototype.writeLineTokens=function(tokens,datetime,delimiter){var xs;return null==tokens&&(tokens=[]),null==datetime&&(datetime=!1),null==delimiter&&(delimiter="	"),xs=datetime?[(new Date).toISOString()].concat(tokens):tokens,this.writeLine(xs.join(delimiter))},SocketServer.prototype.writeLine=function(line){var connections,verbose,text,i$,len$,c,results$=[];for(connections=this.connections,verbose=this.verbose,verbose&&INFO("line: "+line),text=line+"\n",i$=0,len$=connections.length;len$>i$;++i$)c=connections[i$],results$.push(c.write(text));return results$},SocketServer.prototype.write=function(data){var connections,i$,len$,c,results$=[];for(connections=this.connections,i$=0,len$=connections.length;len$>i$;++i$)c=connections[i$],
results$.push(c.write(data));return results$},SocketServer.prototype.toJson=function(){var name,uri,protocol,config,line;return name=this.name,uri=this.uri,protocol=this.protocol,config=this.config,line=config.line,{name:name,protocol:protocol,uri:uri,line:line}},SocketServer.prototype.getConnections=function(){return this.connections},SocketServer}(),Manager=function(){function Manager(opts,app,helpers){var verbose;this.opts=opts,this.app=app,this.helpers=helpers,this.sockets=[],this.socketMap={},verbose=opts.verbose,this.verbose=verbose,null!=this.verbose&&this.verbose||(this.verbose=!1)}Manager.displayName="Manager";Manager.prototype;return Manager.prototype.init=function(done){var self,ref$,opts,app,helpers,verbose,res$,name,config,i$,len$,s,startServer;ref$=self=this,opts=ref$.opts,app=ref$.app,helpers=ref$.helpers,verbose=ref$.verbose,res$=[];for(name in ref$=opts.servers)config=ref$[name],res$.push(new SocketServer(name,config,app,helpers,verbose));for(self.sockets=res$,res$={},i$=0,len$=(ref$=self.sockets).length;len$>i$;++i$)s=ref$[i$],res$[s.name]=s;return self.socketMap=res$,startServer=function(s,cb){return s.start(cb)},async.each(self.sockets,startServer,done)},Manager.prototype.fini=function(done){var self,sockets,stopServer;return sockets=(self=this).sockets,stopServer=function(s,cb){return s.stop(cb)},async.each(sockets,stopServer,done)},Manager.prototype.sendLine=function(name,line){var s;return s=this.socketMap[name],null!=s?s.writeLine(line):void 0},Manager.prototype.send=function(name,data){var s;return s=this.socketMap[name],null!=s?s.write(data):void 0},Manager.prototype.getConnections=function(name){var s;return s=this.socketMap[name],null==s?null:s.connections},Manager.prototype.getServer=function(name){return this.socketMap[name]},Manager}(),module.exports=exports={attach:function(opts,helpers){var app;return app=this,module.manager=app.sock=new Manager(opts,app,helpers)},init:function(done){return module.manager.init(function(err){return null!=err&&WARN(err,"unexpected error to initiate socket server!!"),done()})},fini:function(done){return module.manager.fini(done)}}}).call(this)}).call(this,"/Users/yagamy/Works/workspaces/t2t/yapps-tt/externals/y_modules/yapps/lib/classes/sock/index.js")},{async:33,byline:110,fs:void 0,mkdirp:441,net:void 0,path:void 0,through:449,url:void 0,"yap-require-hook":455}],463:[function(require,module,exports){(function(__filename){(function(){function curry$(f,bound){var context,_curry=function(args){return f.length>1?function(){var params=args?args.concat():[];return context=bound?context||this:this,params.push.apply(params,arguments)<f.length&&arguments.length?_curry.call(context,params):f.apply(context,params)}:f};return _curry()}var express,bodyParser,handlebars,fs,http,colors,ERROR_RESPONSES,ref$,INITIATION,DETECT_CLIENT_IP,GRACEFUL_SHUTDOWN,DBG,ERR,WARN,INFO,lodash_merge,lodash_sum,yapps_utils,CORS,PARSE_VERSION_STRING,MORE_THAN_OR_EQUAL_TO,CLOSE_SOCKET_IO,composeError,composeData,trusted_ip,trusted_ip_or_user,sioAuthenticateCurrying,sioPostAuthenticateCurrying,WebServer,exports;express=require("yap-require-hook").addReference(require("express"),"express"),bodyParser=require("yap-require-hook").addReference(require("body-parser"),"body-parser"),handlebars=require("yap-require-hook").addReference(require("handlebars"),"handlebars"),fs=require("fs"),http=require("yap-require-hook").addReference(require("http"),"http"),colors=require("yap-require-hook").addReference(require("colors"),"colors"),ERROR_RESPONSES=require("yap-require-hook").addReference(require("./web-errors"),"./web-errors"),ref$=require("yap-require-hook").addReference(require("./web-middlewares"),"./web-middlewares"),INITIATION=ref$.INITIATION,DETECT_CLIENT_IP=ref$.DETECT_CLIENT_IP,GRACEFUL_SHUTDOWN=ref$.GRACEFUL_SHUTDOWN,ref$=global.getLogger(__filename),DBG=ref$.DBG,ERR=ref$.ERR,WARN=ref$.WARN,INFO=ref$.INFO,ref$=global.getBundledModules(),lodash_merge=ref$.lodash_merge,lodash_sum=ref$.lodash_sum,yapps_utils=ref$.yapps_utils,global.addBundledModule({express:express}),CORS=function(req,res,next){return res.header("Access-Control-Allow-Origin","http://localhost:6040"),res.header("Access-Control-Allow-Methods","GET, POST, OPTIONS, PUT, PATCH, DELETE"),res.header("Access-Control-Allow-Headers","X-Requested-With,content-type"),res.setHeader("Access-Control-Allow-Credentials",!0),next()},PARSE_VERSION_STRING=function(v){function fn$(i,x){return parseInt(x)*Math.pow(10,2*(xs.length-i-1))}var xs,res$,i$,len$;for(xs=v.split("."),1===xs.length&&xs.push(["0","0"]),2===xs.length&&xs.push(["0"]),res$=[],i$=0,len$=xs.length;len$>i$;++i$)res$.push(fn$.call(this,i$,xs[i$]));return xs=res$,lodash_sum(xs)},MORE_THAN_OR_EQUAL_TO=function(v1,v2){var x1,x2;return x1=PARSE_VERSION_STRING(v1),x2=PARSE_VERSION_STRING(v2),x1>=x2},CLOSE_SOCKET_IO=function(io,done){return MORE_THAN_OR_EQUAL_TO(global.getExternalModuleVersion("socket.io"),"1.6")?(INFO("shutting down Socket.IO engine with callback (version 1.6+)"),io.close(done)):(INFO("shutting down Socket.IO engine without callback"),io.close(),done())},composeError=function(req,res,name,err,data){var r,template,ip,originalUrl,msg,result;return null==err&&(err=null),null==data&&(data=null),r=ERROR_RESPONSES[name],null!=r?(template=handlebars.compile(r.message),ip=req.ip,originalUrl=req.originalUrl,msg=template({ip:ip,originalUrl:originalUrl,err:err}),result={code:r.code,error:name,url:originalUrl,message:msg},null!=data&&(result.data=data),INFO("err => "+err),INFO("data => "+JSON.stringify(data)),ERR(req.method+" "+colors.yellow(req.originalUrl)+" "+colors.red(name)+" ==> "+JSON.stringify(result).cyan),res.status(r.status).json(result)):(ERR(colors.yellow(req.url)+" "+colors.green(name)+" json = unknown error"),res.status(500).json({error:"unknown error: "+name}))},composeData=function(req,res,data,code){var result;return null==code&&(code=200),result={code:0,error:null,message:null,url:req.originalUrl,data:data},res.status(code).json(result)},trusted_ip=function(req,res,next){return req.web_context.trusted_ip?next():composeError(req,res,"untrusted_ip")},trusted_ip_or_user=function(req,res,next){return req.user={name:"localhost"},next()},sioAuthenticateCurrying=curry$(function(namespace,users,websocket,data,cb){var username,password;return username=data.username,password=data.password,DBG("try to authenticate "+username+" in namespace "+namespace.green),null==users[username]?cb(new Error("no such user `"+username+"`")):users[username]!==password?cb(new Error("invalid secret")):cb(null,!0)}),sioPostAuthenticateCurrying=curry$(function(handler,websocket,data){return websocket.user=data.username,handler(websocket)}),WebServer=function(){function WebServer(opts,sysHelpers,app){var ref$,resource,util,DEFAULTS;this.opts=opts,this.sysHelpers=sysHelpers,this.app=app,ref$=this.sysHelpers,resource=ref$.resource,util=ref$.util,this.web=null,this.routes={},this.api_routes={},this.wss={},this.helpers={composeError:composeError,composeData:composeData,trusted_ip:trusted_ip,trusted_ip_or_user:trusted_ip_or_user},DEFAULTS={port:6010,host:"0.0.0.0",headless:!0,cors:!1,view_verbose:!1,api:1,upload_path:resource.resolveWorkPath("work","web/upload"),express_partial_response:!0,express_method_overrid:!0,express_multer:!0,ws:{}},this._opts=lodash_merge({},DEFAULTS,this.opts),INFO("user's configs: "+JSON.stringify(opts)),INFO("default configs: "+JSON.stringify(DEFAULTS)),INFO("merged configs: "+JSON.stringify(this._opts)),this._opts.headless||(this._opts.js_dest_path=resource.resolveWorkPath("work","web/dest")),null!=this._opts.express_multer&&this._opts.express_multer&&this.initiateUploader(this._opts.upload_path)}WebServer.displayName="WebServer";WebServer.prototype;return WebServer.prototype.use=function(name,middleware){return null==this.web?this.routes[name]=middleware:void 0},WebServer.prototype.useApi=function(name,middleware){return null==this.web?this.api_routes[name]=middleware:void 0},WebServer.prototype.useWs=function(name,handler){return null==this.web?this.wss[name]=handler:void 0},WebServer.prototype.initiateUploader=function(uploadPath){var multer;return multer=null,null==multer?WARN("multer is empty-ized"):(this.helpers.upload=multer({dest:uploadPath}),INFO("add multer helper"))},WebServer.prototype.initiateLogger=function(){var bunyanLogger,eb,webMiddleware;return bunyanLogger=this.app.bunyanLogger,null==bunyanLogger?DBG("no bunyan logger plugin"):(eb=null,null==eb?WARN("express-bunyan-logger is empty-ized"):(webMiddleware=eb({logger:bunyanLogger,immediate:!1,levelFn:function(status,err){return 200===status?"debug":201===status?"debug":status>=300&&400>status?"debug":status>=400&&500>status?"info":status>=500?"error":"warn"}}),this.web.use(webMiddleware)))},WebServer.prototype.initiatePugEngine=function(pugPath){var pug;return pug=null,null==pug?WARN("pug is empty-ized"):fs.existsSync(pugPath)?(this.web.set("views",pugPath),this.web.set("view engine","pug"),INFO("set view engine: pug ("+pugPath.cyan+")")):WARN("no view engine (the template directory "+pugPath.cyan+" does not exist)")},WebServer.prototype.initiateFavicon=function(faviconPath){var serveFavicon;return serveFavicon=null,null==serveFavicon?WARN("serve-favicon is empty-ized"):fs.existsSync(faviconPath)?(this.web.use(serveFavicon(faviconPath)),INFO("set favicon ("+faviconPath.cyan+")")):WARN("no favicon (the icon directory "+faviconPath.cyan+" does not exist)")},WebServer.prototype.initiateStatic=function(name,dir){return fs.existsSync(dir)?(this.web.use("/"+name,express["static"](dir)),INFO("add /"+name)):WARN("no /"+name+" ("+dir.cyan+" does not exist)")},WebServer.prototype.initiateLivescriptMiddleware=function(dstPath,srcPath){var livescriptMiddleware;return livescriptMiddleware=null,null==livescriptMiddleware?WARN("livescript-middleware is empty-ized"):fs.existsSync(srcPath)?(this.web.use(livescriptMiddleware({src:srcPath,dest:dstPath})),this.web.use("/",express["static"](dstPath)),INFO("add /js (with livescript-middleware: "+srcPath.cyan+" -> "+dstPath.cyan+")")):WARN("no livescript directory ("+srcPath.cyan+" does not exist)")},WebServer.prototype.initiateView=function(){var sysHelpers,_opts,headless,resource,js_dest_path;return sysHelpers=this.sysHelpers,_opts=this._opts,headless=_opts.headless,null!=headless&&headless?void 0:(resource=sysHelpers.resource,js_dest_path=_opts.js_dest_path,this.initiatePugEngine(resource.resolveResourcePath("assets","views")),this.initiateFavicon(resource.resolveResourcePath("assets","img/favicon.ico")),this.initiateStatic("img",resource.resolveResourcePath("assets","img")),this.initiateStatic("css",resource.resolveResourcePath("assets","css")),this.initiateLivescriptMiddleware(_opts.js_dest_path,resource.resolveResourcePath("assets","ls")),this.initiateStatic("js",resource.resolveResourcePath("assets","js")),this.initiateStatic("fonts",resource.resolveResourcePath("assets","fonts")))},WebServer.prototype.initiateMethodOverride=function(){var methodOverride;return methodOverride=null,null==methodOverride?WARN("method-override is empty-ized"):(this.web.use(methodOverride()),INFO("use middleware: method-override"))},WebServer.prototype.initiatePluginViews=function(){function fn$(name,m){return web.use("/"+name,m),INFO("add /"+name),null!=pugPath&&null!=m.set?(m.set("views",pugPath),m.set("view engine","pug")):void 0}var web,routes,pugPath,i$,results$=[];web=this.web,routes=this.routes,pugPath=web.get("views");for(i$ in routes)results$.push(fn$.call(this,i$,routes[i$]));return results$},WebServer.prototype.initiatePluginApiEndpoints=function(){function fn$(name,m){var uri;v.use("/"+name,m),uri=p+"/"+name,INFO("api: add "+uri.yellow)}var web,api_routes,_opts,express_partial_response,api,ep,p,a,v,i$;web=this.web,api_routes=this.api_routes,_opts=this._opts,express_partial_response=_opts.express_partial_response,api=_opts.api,ep=null,null!=express_partial_response&&express_partial_response&&(ep=null),p="/api/v"+api,null!=ep&&INFO("use "+p+" (partial-response)"),a=this.api=new express,v=this.api_v=new express,null!=ep&&v.use(ep());for(i$ in api_routes)fn$.call(this,i$,api_routes[i$]);return a.use("/v"+api,v),web.use("/api",a)},WebServer.prototype.initiatePluginWebsockets=function(){function fn$(name,handler){var uri,s,auth,postAuth,sa_opts;return uri="ws://"+host+":"+port+"/"+name,s=io.of(name),null!=sa&&null!=_opts.ws&&null!=_opts.ws.namespaces&&null!=_opts.ws.namespaces[name]&&null!=_opts.ws.namespaces[name].users?(auth=sioAuthenticateCurrying(name,_opts.ws.namespaces[name].users),postAuth=sioPostAuthenticateCurrying(handler),sa_opts={authenticate:auth,postAuthenticate:postAuth},sa(s,sa_opts),INFO("ws : add "+uri.yellow+" (with authentication)")):(s.on("connection",handler),INFO("ws : add "+uri.yellow))}var server,_opts,port,host,cors,sio,configs,sa,io,i$,ref$,results$=[];if(server=this.server,_opts=this._opts,port=_opts.port,host=_opts.host,cors=_opts.cors,sio=null,sio=require("socket.io"),configs={},null==sio)return WARN("socket.io is empty-ized");sa=null,null==sa&&WARN("socketio-auth is empty-ized"),INFO("_opts[ws] = "+JSON.stringify(_opts)),INFO("configs = "+JSON.stringify(configs)),io=this.io=sio(server,configs);for(i$ in ref$=this.wss)results$.push(fn$.call(this,i$,ref$[i$]));return results$},WebServer.prototype.start=function(done){var resource,ref$,port,host,upload_path,express_multer,express_method_overrid,view_verbose,web;return DBG("preparing middlewares ..."),resource=this.sysHelpers.resource,ref$=this._opts,port=ref$.port,host=ref$.host,upload_path=ref$.upload_path,express_multer=ref$.express_multer,express_method_overrid=ref$.express_method_overrid,view_verbose=ref$.view_verbose,this.web=web=express(),this.server=http.createServer(this.web),web.set("trust proxy",!0),web.locals.shuttingDown=!1,web.use(GRACEFUL_SHUTDOWN),web.use(INITIATION),web.use(DETECT_CLIENT_IP),web.use(bodyParser.json()),web.use(bodyParser.urlencoded({extended:!0})),DBG("use middleware: body-parser"),null!=express_method_overrid&&express_method_overrid&&this.initiateMethodOverride(),null!=view_verbose&&view_verbose?(this.initiateLogger(),this.initiateView()):(this.initiateView(),this.initiateLogger()),this.initiatePluginViews(),this.initiatePluginApiEndpoints(),this.initiatePluginWebsockets(),this.server.on("listening",function(){var p;return p=port+"",INFO("listening "+host.yellow+":"+p.cyan),done()}),DBG("starting web server ..."),this.server.listen(port,host)},WebServer.prototype.stopSocketIo=function(done){var self,io,sockets;return io=(self=this).io,null==io?done():(sockets=io.sockets.sockets,INFO("shutting down Socket.IO engine and Http Server"),CLOSE_SOCKET_IO(io,function(err){function fn$(i,c){var t;t=i+"",INFO("socket.io["+t.cyan+"] disconnecting ..."),c.disconnect()}function fn1$(i,c){var t;t=i+"",INFO("socket.io["+t.cyan+"] disconnecting ..."),c.disconnect()}var connections,name,ref$,c,i$,len$;if(null!=err)return done(err);if(connections=null,null==sockets||"object"!=typeof sockets||Array.isArray(sockets))if(null!=sockets&&null!=sockets.length)for(INFO("socket.io 1.0 ~ 1.3, sockets are array"),i$=0,len$=(ref$=sockets).length;len$>i$;++i$)fn$.call(this,i$,ref$[i$]);else for(INFO("socket.io 0.X, using clients()"),i$=0,len$=(ref$=sockets.clients()).length;len$>i$;++i$)fn1$.call(this,i$,ref$[i$]);else{INFO("socket.io 1.4+, sockets are key-value pairs");for(name in ref$=sockets)c=ref$[name],INFO("socket.io["+name.cyan+"] disconnecting ..."),c.disconnect()}return done()}))},WebServer.prototype.stop=function(done){var self,ref$,web,server,_opts,host,port;return ref$=self=this,web=ref$.web,server=ref$.server,_opts=ref$._opts,host=_opts.host,port=_opts.port,port+="",null==web?(WARN("shutting down Express engine but missing"),done()):(INFO("shutting down Express engine"),web.locals.shuttingDown=!0,self.stopSocketIo(function(ioCloseErr){return null!=ioCloseErr&&WARN(ioCloseErr,"failed to shutdown Socket.IO engine"),null==server?WARN("shutting down Http Server listening "+host.yellow+":"+port.cyan+" but missing"):(INFO("shutting down Http Server listening "+host.yellow+":"+port.cyan),server.close(function(err){return null!=err&&"Not running"!==err.message&&WARN(err,"failed to shutdown http server"),done()}))}))},WebServer}(),module.exports=exports={attach:function(opts,helpers){var web;return module.opts=opts,module.helpers=helpers,web=module.web=this.web=new WebServer(opts,helpers,this)},init:function(done){var helpers,web,_opts,dirs;return helpers=module.helpers,web=this.web,_opts=web._opts,dirs=[_opts.upload_path],_opts.headless||dirs.push(_opts.js_dest_path),yapps_utils.CREATE_DIRECTORIES(dirs,done)},fini:function(done){return module.web.stop(done)}}}).call(this)}).call(this,"/Users/yagamy/Works/workspaces/t2t/yapps-tt/externals/y_modules/yapps/lib/classes/web/index.js")},{"./web-errors":464,"./web-middlewares":465,"body-parser":34,colors:115,express:123,fs:void 0,handlebars:236,http:void 0,"socket.io":"socket.io","yap-require-hook":455}],464:[function(require,module,exports){(function(){var exports;module.exports=exports={untrusted_ip:{status:403,code:-1001,message:"untrusted ip {{ip}} to access sensitive resource {{originalUrl}}"},missing_developer:{status:401,code:-1002,message:"require developer and api token to access sensitive resource {{originalUrl}}"},untrusted_developer:{status:403,code:-1003,message:"client with untrusted developer api token to access sensitive resource {{originalUrl}}"},invalid_argument:{status:400,code:-2001,message:"Invalid Argument: {{err}}"},missing_archive_at_creation:{status:400,code:-2001,message:"missing `archive` field in multipart/form-data for adding an archive"},resource_unavailable:{status:404,code:-2001,message:"Resource Unavailable: {{err}}"},archive_unavailable:{status:404,code:-2002,message:"{{err}}"},metapass_unavailable:{status:404,code:-2003,message:"{{err}}"},missing_metapass:{status:404,code:-2004,message:"missing `metapass` with uuid: {{err}}"},invalid_pbws_token:{status:401,code:-3001,message:"unauthorized token {{err}} to access passbook web services"},invalid_pbws_developer_uid:{status:401,code:-3002,message:"unknown developer uid {{err}}"},invalid_pbws_serial_number:{status:400,code:-3002,message:"unknown serial number {{err}}"},missing_field:{status:400,code:-3004,message:"missing field {{field}}"},general_server_error:{status:500,code:-1,message:"{{err}}"},not_implemented:{status:404,code:-1,message:"service {{originalUrl}} is not implemented yet"},resource_not_implemented:{status:501,code:-5001,message:"Resource Unimplemented: {{err}}"},remote_agent_error:{status:600,code:-6001,message:"{{err}}"}}}).call(this)},{}],465:[function(require,module,exports){(function(__filename){(function(){var ref$,DBG,ERR,WARN,INFO,lodash_merge,INITIATION,DETECT_CLIENT_IP,GRACEFUL_SHUTDOWN,exports;ref$=global.getLogger(__filename),DBG=ref$.DBG,ERR=ref$.ERR,WARN=ref$.WARN,INFO=ref$.INFO,lodash_merge=global.getBundledModules().lodash_merge,INITIATION=function(req,res,next){return req.web_context={},next()},DETECT_CLIENT_IP=function(req,res,next){var ip,web_context;return ip=req.ip,web_context=req.web_context,web_context.trusted_ip=!1,"127.0.0.1"===ip&&(web_context.trusted_ip=!0),next()},GRACEFUL_SHUTDOWN=function(req,res,next){var locals,shuttingDown;return locals=req.app.locals,shuttingDown=locals.shuttingDown,null!=shuttingDown&&shuttingDown?(INFO("close http connection immediately!!"),res.set("Connection","close"),res.status(503).send("Server is in the process of restarting."),void req.connection.setTimeout(1)):next()},module.exports=exports={INITIATION:INITIATION,DETECT_CLIENT_IP:DETECT_CLIENT_IP,GRACEFUL_SHUTDOWN:GRACEFUL_SHUTDOWN}}).call(this)}).call(this,"/Users/yagamy/Works/workspaces/t2t/yapps-tt/externals/y_modules/yapps/lib/classes/web/web-middlewares.js")},{}],466:[function(require,module,exports){(function(){var EVENT_READY,EVENT_CONFIGURED,EVENT_DATA,REQ_CONFIGURE,exports;EVENT_READY="ready",EVENT_CONFIGURED="configured",EVENT_DATA="data",REQ_CONFIGURE="configure",module.exports=exports={EVENT_READY:EVENT_READY,EVENT_CONFIGURED:EVENT_CONFIGURED,EVENT_DATA:EVENT_DATA,REQ_CONFIGURE:REQ_CONFIGURE}}).call(this)},{}],467:[function(require,module,exports){(function(__filename){(function(){var ref$,DBG,ERR,WARN,INFO,INDEX_SEPARATOR,TASK_EXPIRATION_PERIOD,RaR_Impl,RaR,REQUEST_CHANNEL,RESPONSE_CHANNEL,createRrCommander,exports;ref$=global.getLogger(__filename),DBG=ref$.DBG,ERR=ref$.ERR,WARN=ref$.WARN,INFO=ref$.INFO,INDEX_SEPARATOR="_",TASK_EXPIRATION_PERIOD=30,RaR_Impl=function(){function RaR_Impl(name,opts,context){var self,f;this.name=name,this.opts=opts,this.context=context,self=this,self.outgoingTasks={},self.outgoingCounter=0,self.incomingTasks={},self.incomingCounter=0,f=function(){return self.atTimeout()},self.timer=setInterval(f,1e3)}RaR_Impl.displayName="RaR_Impl";RaR_Impl.prototype;return RaR_Impl.prototype.clear=function(){var self,timer;return timer=(self=this).timer,clearInterval(timer)},RaR_Impl.prototype.setOutgoingReq=function(sendReq){this.sendReq=sendReq},RaR_Impl.prototype.setOutgoingRsp=function(sendRsp){this.sendRsp=sendRsp},RaR_Impl.prototype.processIncomingReq=function(packet){var self,ref$,name,context,incomingTasks,index,action,response,args,text,now,func,dummy,ds,done,task;return ref$=self=this,name=ref$.name,context=ref$.context,incomingTasks=ref$.incomingTasks,index=packet.index,action=packet.action,response=packet.response,args=packet.args,null==response&&(response=!1),null==args&&(args=[]),text=JSON.stringify(packet).gray,null==index?WARN("["+name+"] process-request-packet(): missing index => "+text):null==action?self.responseError(index,"missing action => "+text):Array.isArray(args)?(now=new Date,func=context[action],null==func?self.responseError(index,"missing handler for action["+action+"]"):(dummy=function(error,result){},ds=[dummy].concat(args),response?(done=function(error,result){return self.postprocessRequest(index,action,args,error,result)},ds=[done].concat(args),task={packet:packet,start:now,expire:TASK_EXPIRATION_PERIOD,inOrOut:"incoming"},incomingTasks[index]=task,func.apply(context,ds)):func.apply(context,ds))):self.responseError(index,"invalid args for "+action+" => "+text)},RaR_Impl.prototype.processIncomingRsp=function(packet){var self,ref$,name,outgoingTasks,index,error,result,text,t,done;return ref$=self=this,name=ref$.name,outgoingTasks=ref$.outgoingTasks,index=packet.index,error=packet.error,result=packet.result,text=JSON.stringify(packet).gray,null==index?WARN("["+name+"] process-response-packet(): missing index => "+text):(t=outgoingTasks[index],null==t?WARN("["+name+"] tasks["+index+"] => too late since task is deleted"):(delete outgoingTasks[index],(done=t.done)(error,result)))},RaR_Impl.prototype.responseError=function(index,error){var self,sendRsp,packet;return sendRsp=(self=this).sendRsp,packet={index:index,result:null,error:error},sendRsp(packet)},RaR_Impl.prototype.responseOkay=function(index,result){var self,sendRsp,packet;return sendRsp=(self=this).sendRsp,packet={index:index,result:result,error:null},sendRsp(packet)},RaR_Impl.prototype.postprocessRequest=function(index,action,args,error,result){var self,ref$,name,incomingTasks,t;return ref$=self=this,name=ref$.name,incomingTasks=ref$.incomingTasks,t=incomingTasks[index],null==t?WARN("["+name+"] "+action+"::"+index+" => too late since task is deleted"):(delete incomingTasks[index],null!=error?self.responseError(index,error):self.responseOkay(index,result))},RaR_Impl.prototype.getNextOutgoingCounter=function(){return this.outgoingCounter=this.outgoingCounter+1,this.outgoingCounter},RaR_Impl.prototype.getNextIncomingCounter=function(){return this.incomingCounter=this.incomingCounter+1,this.incomingCounter},RaR_Impl.prototype.performRequest=function(done,action,response){var args,res$,i$,to$,self,ref$,sendReq,outgoingTasks,counter,now,index,packet,task;for(res$=[],i$=3,to$=arguments.length;to$>i$;++i$)res$.push(arguments[i$]);return args=res$,ref$=self=this,sendReq=ref$.sendReq,outgoingTasks=ref$.outgoingTasks,counter=self.getNextOutgoingCounter(),now=new Date,index=now-0,index=index+""+INDEX_SEPARATOR+counter,packet={index:index,action:action,response:response,args:args},task={packet:packet,start:now,done:done,expire:TASK_EXPIRATION_PERIOD,inOrOut:"outgoing"},response?(outgoingTasks[index]=task,sendReq(packet)):sendReq(packet)},RaR_Impl.prototype.handleExpiredOutgoingTask=function(index,task){var done,packet,action,args;return done=task.done,packet=task.packet,action=packet.action,args=packet.args,done(action+"["+index+"] with args ("+JSON.stringify(args)+") is expired",null)},RaR_Impl.prototype.handleExpiredIncomingTask=function(index,task){return this.responseError(index,"expired")},RaR_Impl.prototype.reviewTasks=function(tasks,func){var self,expiredTasks,index,task,start,inOrOut,packet,action,args,ref$,results$=[];self=this,expiredTasks=self.decreaseTaskTimerCounter(tasks);for(index in expiredTasks)task=expiredTasks[index],start=task.start,inOrOut=task.inOrOut,packet=task.packet,action=packet.action,args=packet.args,WARN(inOrOut+":"+action+"["+index+"] with args ("+JSON.stringify(args)+") is expired"),func.apply(self,[index,task]),results$.push((ref$=tasks[index],delete tasks[index],ref$));return results$},RaR_Impl.prototype.atTimeout=function(){var self,ref$,incomingTasks,outgoingTasks;return ref$=self=this,incomingTasks=ref$.incomingTasks,outgoingTasks=ref$.outgoingTasks,self.reviewTasks(incomingTasks,self.handleExpiredIncomingTask),self.reviewTasks(outgoingTasks,self.handleExpiredOutgoingTask)},RaR_Impl.prototype.decreaseTaskTimerCounter=function(tasks){var index,t;for(index in tasks)t=tasks[index],t.expire=t.expire-1;return function(){var ref$,resultObj$={};for(index in ref$=tasks)t=ref$[index],t.expire<=0&&(resultObj$[index]=t);return resultObj$}()},RaR_Impl}(),RaR=function(){function RaR(name,opts,context){this.name=name,this.opts=opts,this.context=context,this.implementation=new RaR_Impl(name,opts,context)}RaR.displayName="RaR";RaR.prototype;return RaR.prototype.clear=function(){return this.implementation.clear()},RaR.prototype.setOutgoingReq=function(sendReq){return this.implementation.setOutgoingReq(sendReq)},RaR.prototype.setOutgoingRsp=function(sendRsp){return this.implementation.setOutgoingRsp(sendRsp)},RaR.prototype.processIncomingReq=function(packet){return this.implementation.processIncomingReq(packet)},RaR.prototype.processIncomingRsp=function(packet){return this.implementation.processIncomingRsp(packet)},RaR.prototype.performRequest=function(done,action,response){var args,res$,i$,to$;for(res$=[],i$=3,to$=arguments.length;to$>i$;++i$)res$.push(arguments[i$]);return args=res$,this.implementation.performRequest.apply(this.implementation,arguments)},RaR}(),REQUEST_CHANNEL="request",RESPONSE_CHANNEL="response",createRrCommander=function(name,opts,context){return new RaR(name,opts,context)},module.exports=exports={createRrCommander:createRrCommander,REQUEST_CHANNEL:REQUEST_CHANNEL,RESPONSE_CHANNEL:RESPONSE_CHANNEL}}).call(this)}).call(this,"/Users/yagamy/Works/workspaces/t2t/yapps-tt/externals/y_modules/yapps/lib/classes/web/wss-helpers.js")},{}],468:[function(require,module,exports){(function(__filename){(function(){function extend$(sub,sup){function fun(){}return fun.prototype=(sub.superclass=sup).prototype,(sub.prototype=new fun).constructor=sub,"function"==typeof sup.extended&&sup.extended(sub),sub}function import$(obj,src){var own={}.hasOwnProperty;for(var key in src)own.call(src,key)&&(obj[key]=src[key]);return obj}var ref$,DBG,ERR,WARN,INFO,EVENT_READY,EVENT_CONFIGURED,EVENT_DATA,REQ_CONFIGURE,REQUEST_CHANNEL,RESPONSE_CHANNEL,createRrCommander,TOKEN_DEFAULT_EXPIRES,WsHandler,WsManager,Authenticator,DefaultAuthenticator,Wss,exports;ref$=global.getLogger(__filename),DBG=ref$.DBG,ERR=ref$.ERR,WARN=ref$.WARN,INFO=ref$.INFO,ref$=require("yap-require-hook").addReference(require("./wss-constants"),"./wss-constants"),EVENT_READY=ref$.EVENT_READY,EVENT_CONFIGURED=ref$.EVENT_CONFIGURED,EVENT_DATA=ref$.EVENT_DATA,REQ_CONFIGURE=ref$.REQ_CONFIGURE,ref$=require("yap-require-hook").addReference(require("./wss-helpers"),"./wss-helpers"),REQUEST_CHANNEL=ref$.REQUEST_CHANNEL,RESPONSE_CHANNEL=ref$.RESPONSE_CHANNEL,createRrCommander=ref$.createRrCommander,TOKEN_DEFAULT_EXPIRES=60,WsHandler=function(){function WsHandler(app,manager,index,ws,config,ctx,verbose){var self;this.app=app,this.manager=manager,this.index=index,this.ws=ws,this.config=config,this.ctx=ctx,this.verbose=verbose,self=this,self.name="unknown",self.id=ws.id,self.ip=ws.conn.remoteAddress,self.configured=!1,self.rrctx=null,self.rr=null,ws.on(REQ_CONFIGURE,function(p){return self.atWsConfigure(p)}),ws.on(EVENT_DATA,function(p){return self.atWsData(p)})}WsHandler.displayName="WsHandler";WsHandler.prototype;return WsHandler.prototype.initiateRrCommander=function(rrctx){var self,ref$,ws,manager,name,rr;return this.rrctx=rrctx,ref$=self=this,ws=ref$.ws,manager=ref$.manager,name=manager.name,rr=self.rr=createRrCommander(name,{},rrctx),rr.setOutgoingReq(function(p){return self.DEBUG("me>>peer[req]: "+JSON.stringify(p)),ws.emit(REQUEST_CHANNEL,p)}),rr.setOutgoingRsp(function(p){return self.DEBUG("me<<peer[rsp]: "+JSON.stringify(p)),ws.emit(RESPONSE_CHANNEL,p)}),ws.on(REQUEST_CHANNEL,function(p){return self.DEBUG("me<<peer[req]: "+JSON.stringify(p)),rr.processIncomingReq(p)}),ws.on(RESPONSE_CHANNEL,function(p){return self.DEBUG("me>>peer[rsp]: "+JSON.stringify(p)),rr.processIncomingRsp(p)})},WsHandler.prototype.performReqWithRsp=function(action,args){var self,ref$,rr,verbose,done,fs,res$,i$,len$,a,xs;if(null==args&&(args=[]),ref$=self=this,rr=ref$.rr,verbose=ref$.verbose,null==rr)return self.ERR("perform-req-with-rsp(): missing request-and-response commander");if(!(args.length>0))return self.ERR("perform-req-with-rsp(): missing callback");if(done=args.pop(),"function"!=typeof done)return self.ERR("perform-req-with-rsp(): last argument is not callback function");if(verbose){for(res$=[],i$=0,len$=args.length;len$>i$;++i$)a=args[i$],res$.push(JSON.stringify(a));fs=res$,fs=fs.join(", "),self.DEBUG("perform-req-with-rsp(): "+action+"("+fs.gray+")")}return xs=[done,action,!0].concat(args),rr.performRequest.apply(rr,xs)},WsHandler.prototype.performReqWithoutRsp=function(action,args){var self,ref$,rr,verbose,fs,res$,i$,len$,a,xs;if(null==args&&(args=[]),ref$=self=this,rr=ref$.rr,verbose=ref$.verbose,null==rr)return self.ERR("perform-req-without-rsp(): missing request-and-response commander");if(verbose){for(res$=[],i$=0,len$=args.length;len$>i$;++i$)a=args[i$],res$.push(JSON.stringify(a));fs=res$,fs=fs.join(", "),self.DEBUG("perform-req-with-rsp(): "+action+"("+fs.gray+")")}return xs=[null,action,!1].concat(args),rr.performRequest.apply(rr,xs)},WsHandler.prototype.getTimestamp=function(){return new Date-0},WsHandler.prototype.atWsDisconnect=function(){var self,ref$,ws,rr;ref$=self=this,ws=ref$.ws,rr=ref$.rr,self.DEBUG("at-ws-disconnect, clean up listeners"),ws.removeAllListeners(REQ_CONFIGURE),ws.removeAllListeners(EVENT_DATA),null!=rr&&ws.removeAllListeners(REQUEST_CHANNEL),null!=rr&&ws.removeAllListeners(RESPONSE_CHANNEL)},WsHandler.prototype.authenticate=function(name,token,done){var self,ref$,id,ip,manager;return ref$=self=this,id=ref$.id,ip=ref$.ip,manager=ref$.manager,null==name?done(-10,"missing name"):(self.name=name,self.token=token,manager.authenticate(name,token,ip,function(err,user){var ref$,token,name;return null!=err?done(err[0],err[1]):(ref$=self.user=user,token=ref$.token,name=ref$.name,null==token&&(token="null"),self.DEBUG("accept client["+id+"]: username:"+name.cyan+" token:"+token.yellow+" ip:"+ip.magenta),done())}))},WsHandler.prototype.rspConfigure=function(index,code,err){var self,ws,f;return null==code&&(code=0),null==err&&(err=null),ws=(self=this).ws,0===code?ws.emit(EVENT_CONFIGURED,{index:index,code:code}):(ws.emit(EVENT_CONFIGURED,{index:index,code:code,err:err}),f=function(){return ws.disconnect()},setTimeout(f,1e3))},WsHandler.prototype.atWsConfigure=function(p){
var self,ref$,verbose,ws,index,args,name,token,opts;return ref$=self=this,verbose=ref$.verbose,ws=ref$.ws,index=p.index,args=p.args,name=args[0],token=args[1],opts=args[2],self.DEBUG("at-ws-configure(): name:"+name+" token:"+token+" opts=>"+JSON.stringify(opts)),null==index&&(index=-1),self.authenticate(name,token,function(code,message){return null!=code?self.rspConfigure(index,code,message):self.process_configure(opts,function(err,rrctx){return null!=err?self.rspConfigure(index,-2,err):(self.configured=!0,null!=rrctx&&self.initiateRrCommander(rrctx),self.rspConfigure(index))})})},WsHandler.prototype.atWsData=function(p){var self,ref$,verbose,ws,index,category,items,args,name,f;return ref$=self=this,verbose=ref$.verbose,ws=ref$.ws,index=p.index,category=p.category,items=p.items,args=p.args,null==index?self.DEBUG("missing `index` in data event"):null==category?self.DEBUG("missing `category` in data event"):null==items?self.DEBUG("missing `items` in data event"):(name="process_data_"+category,verbose&&self.DEBUG("data["+category+"]: "+JSON.stringify(items)+" ("+JSON.stringify(args)+")"),null==args&&(args=[]),Array.isArray(args)||(args=[args]),Array.isArray(items)||(items=[items]),args=[items].concat(args),f=self[name],null==f?self.DEBUG("missing handler function "+name+" in subclass"):f.apply(self,args))},WsHandler.prototype.emitData=function(category,items){var self,args;return self=this,args=Array.from(arguments),args.shift(),args.shift(),self.ws.emit(EVENT_DATA,{index:self.getTimestamp(),category:category,items:Array.isArray(items)?items:[items],args:args})},WsHandler.prototype.LOG=function(logger,args){var self,ref$,verbose,name,index,ip,manager,a0,a1,message,xs;return ref$=self=this,verbose=ref$.verbose,name=ref$.name,index=ref$.index,ip=ref$.ip,manager=ref$.manager,a0=args[0],a1=args[1],message="object"==typeof a0?a1:a0,message=manager.name.green+": ["+index.gray+"/"+name.green+"/"+ip.magenta+"] "+message,xs="object"==typeof a0?[a0,message]:[message],logger.apply(null,xs)},WsHandler.prototype.ERR=function(){return this.LOG(ERR,Array.from(arguments))},WsHandler.prototype.INFO=function(){return this.LOG(INFO,Array.from(arguments))},WsHandler.prototype.DEBUG=function(){return this.LOG(this.verbose?INFO:DBG,Array.from(arguments))},WsHandler.prototype.process_configure=function(opts,done){return done()},WsHandler}(),WsManager=function(){function WsManager(wss,app,name,opts,handlerClazz,ctx){var self;this.wss=wss,this.app=app,this.name=name,this.opts=opts,this.handlerClazz=handlerClazz,this.ctx=ctx,self=this,self.handlers={},self.verbose=opts.verbose,null==self.verbose&&(self.verbose=!1),self.index=0}WsManager.displayName="WsManager";WsManager.prototype;return WsManager.prototype.init=function(done){var self,ref$,app,name,web;return ref$=self=this,app=ref$.app,name=ref$.name,web=app.web,null==web?done(new Error("WSS depends on plugin "+"web".yellow+" but missing")):(web.useWs(name,function(ws){return self.add(ws)}),done())},WsManager.prototype.forceDisconnectWithErr=function(ws,handler,err,message){return ws.removeAllListeners("disconnect"),ws.disconnect(),null!=handler&&handler.atWsDisconnect(),ERR(err,message)},WsManager.prototype.add=function(ws){var self,ref$,handlers,app,name,opts,handlerClazz,ctx,verbose,index,id,handlerConfig,handler;return ref$=self=this,handlers=ref$.handlers,app=ref$.app,name=ref$.name,opts=ref$.opts,handlerClazz=ref$.handlerClazz,ctx=ref$.ctx,verbose=ref$.verbose,index=self.index=self.index+1,index=index.toString(),id=ws.id,handlerConfig=opts.handler,null==handlerConfig&&(handlerConfig={}),handler=handlers[id],null!=handler?self.forceDisconnectWithErr(ws,null,name.green+": duplicate identity to add: "+id):(handler=handlers[id]=new handlerClazz(app,self,index,ws,handlerConfig,ctx,verbose),ws.on("disconnect",function(){return self.atWsDisconnect(id,ws,handler)}),ws.emit(EVENT_READY,{}),verbose?INFO(name.green+": add "+index.gray+"/"+id.gray+" from "+ws.conn.remoteAddress.magenta):void 0)},WsManager.prototype.remove=function(id){var self,ref$,handlers,name,index,verbose,handler,ws;return ref$=self=this,handlers=ref$.handlers,name=ref$.name,index=ref$.index,verbose=ref$.verbose,index=index.toString(),null==handlers[id]?WARN(name.green+": missing identity to remove: "+id):(ws=(handler=handlers[id]).ws,delete handlers[id],verbose?INFO(name.green+": remove "+index.gray+"/"+id.gray+" from "+ws.conn.remoteAddress.magenta):void 0)},WsManager.prototype.atWsDisconnect=function(id,ws,handler){var self,ref$,name,verbose,error;ref$=self=this,name=ref$.name,verbose=ref$.verbose,verbose&&INFO(name.green+": disconnect for "+id.gray+" from "+ws.conn.remoteAddress.magenta),ws.removeAllListeners("disconnect");try{handler.atWsDisconnect()}catch(e$){error=e$,ERR(error,name.green+"["+id+"]: unexpected error when disconnect => "+error)}return self.remove(id)},WsManager.prototype.authenticate=function(username,token,ip,done){return this.wss.authenticate(this,username,token,ip,done)},WsManager}(),Authenticator=function(){function Authenticator(dummy){this.dummy=dummy}Authenticator.displayName="Authenticator";Authenticator.prototype;return Authenticator.prototype.authenticate=function(manager,username,token,ip,done){var name,user;return name=username,user={name:name,token:token,ip:ip},null==token?done([-11,"missing token from client "+ip]):done(null,user)},Authenticator}(),DefaultAuthenticator=function(superclass){function DefaultAuthenticator(dummy){this.dummy=dummy,DefaultAuthenticator.superclass.apply(this,arguments),this.token="ABCD"}extend$((import$(DefaultAuthenticator,superclass).displayName="DefaultAuthenticator",DefaultAuthenticator),superclass).prototype;return DefaultAuthenticator.prototype.authenticate=function(manager,username,token,ip,done){var self,name,user;return self=this,name=username,user={name:name,token:token,ip:ip},"127.0.0.1"===ip?done(null,user):superclass.prototype.authenticate.call(this,manager,username,token,ip,function(err){return null!=err?done(err):null==self.token?done([-12,"no valid token at server"]):token!==self.token?done([-13,"invalid token"]):done(null,user)})},DefaultAuthenticator}(Authenticator),Wss=function(){function Wss(opts){var self;this.opts=opts,self=this,self.serviceName="wss",self.managers={},self.authenticator=new DefaultAuthenticator({})}Wss.displayName="Wss";Wss.prototype;return Wss.prototype.authenticate=function(manager,username,token,ip,done){return this.authenticator.authenticate(manager,username,token,ip,done)},Wss.prototype.createManager=function(app,name,opts,handlerClazz,ctx){var self,ref$,managers,serviceName;return null==ctx&&(ctx={}),ref$=self=this,managers=ref$.managers,serviceName=ref$.serviceName,null==managers[name]?new WsManager(self,app,name,opts,handlerClazz,ctx):(ERR(serviceName+": the websocket channel "+name+" is already created!!"),null)},Wss}(),module.wss=new Wss({}),module.exports=exports={createInstance:function(app,name,opts,handlerClazz,ctx){return null==ctx&&(ctx={}),module.wss.createManager(app,name,opts,handlerClazz,ctx)},generateServiceToken:function(expire,token){return null==expire&&(expire=null),null==token&&(token=null),module.wss.generateServiceToken(expire,token)},setAuthenticator:function(a){return module.wss.authenticator=a},HandlerClazz:WsHandler,Authenticator:Authenticator}}).call(this)}).call(this,"/Users/yagamy/Works/workspaces/t2t/yapps-tt/externals/y_modules/yapps/lib/classes/web/wss.js")},{"./wss-constants":466,"./wss-helpers":467,"yap-require-hook":455}],469:[function(require,module,exports){(function(__filename){(function(){function curry$(f,bound){var context,_curry=function(args){return f.length>1?function(){var params=args?args.concat():[];return context=bound?context||this:this,params.push.apply(params,arguments)<f.length&&arguments.length?_curry.call(context,params):f.apply(context,params)}:f};return _curry()}var async,colors,uid,DBG,loggerCurrying,runTaskCurrying,seriesEndCurrying,exports,AsyncExecuter;async=require("yap-require-hook").addReference(require("async"),"async"),colors=require("yap-require-hook").addReference(require("colors"),"colors"),uid=require("yap-require-hook").addReference(require("uid"),"uid"),DBG=global.getLogger(__filename).DBG,loggerCurrying=curry$(function(executor,task_name,logger,message){var num,id,prefix,text;return num=executor.num+"",id=executor.id+":"+num.blue,prefix=executor.type+"["+id.gray+"]."+task_name.gray,text=prefix+" "+message,null!=logger?logger(text):console.log(text)}),runTaskCurrying=curry$(function(executor,context,logger,task_name,func,cb){var DBG,error;DBG=loggerCurrying(executor,task_name,logger);try{return func(executor,context,DBG,function(err,result){return cb(err,result)})}catch(e$){return error=e$,DBG(error.stack.red+""),cb(error,null)}}),seriesEndCurrying=curry$(function(executor,cb,err,results){return cb(executor,executor.context,err,results)}),module.exports=exports=AsyncExecuter=function(){function AsyncExecuter(options){var type,logger,context,id;this.options=options,null!=options&&(type=options.type,logger=options.logger,context=options.context,id=options.id),this.context=null!=context?context:{},this.type=null!=type?type:"unknown",this.logger=null!=logger?logger:console.log,this.id=null!=id?id:uid(),this.num=0}AsyncExecuter.displayName="AsyncExecuter";AsyncExecuter.prototype;return AsyncExecuter.prototype.series=function(tasks,callback){function fn$(i,t){return runTaskCurrying(self,context,logger,t.name,t.func)}var self,ref$,context,logger,num,new_funcs,res$,i$,len$,end;for(ref$=self=this,context=ref$.context,logger=ref$.logger,num=ref$.num,self.num=num+1,res$=[],i$=0,len$=tasks.length;len$>i$;++i$)res$.push(fn$.call(this,i$,tasks[i$]));return new_funcs=res$,end=seriesEndCurrying(self,callback),async.series(new_funcs,end)},AsyncExecuter}()}).call(this)}).call(this,"/Users/yagamy/Works/workspaces/t2t/yapps-tt/externals/y_modules/yapps/lib/helpers/async-executer.js")},{async:33,colors:115,uid:450,"yap-require-hook":455}],470:[function(require,module,exports){(function(){function curry$(f,bound){var context,_curry=function(args){return f.length>1?function(){var params=args?args.concat():[];return context=bound?context||this:this,params.push.apply(params,arguments)<f.length&&arguments.length?_curry.call(context,params):f.apply(context,params)}:f};return _curry()}var handlebars,livescript,lodash_merge,USE_CURRYING,TRANSFORM_INTEGER,TRANSFORM_BOOLEAN,TRANSFORM,exports;handlebars=require("yap-require-hook").addReference(require("handlebars"),"handlebars"),livescript=require("livescript"),lodash_merge=getBundledModules().lodash_merge,USE_CURRYING=curry$(function(environment,variable){var ref$;return"string"==(ref$=typeof variable)||"number"===ref$||"boolean"===ref$?variable:"object"!=typeof variable?null:variable[environment]}),TRANSFORM_INTEGER=function(object,dir){var tokens,k,x,i$,len$,y;if(tokens=dir.split("."),tokens.shift(),0!==tokens.length){if(1===tokens.length)k=tokens[0],x=object[k];else{for(k=tokens.pop(),i$=0,len$=tokens.length;len$>i$;++i$)y=tokens[i$],object=object[y];x=object[k]}return object[k]=parseInt(x)}},TRANSFORM_BOOLEAN=function(object,dir){var tokens,k,x,i$,len$,y;if(tokens=dir.split("."),tokens.shift(),0!==tokens.length){if(1===tokens.length)k=tokens[0],x=object[k];else{for(k=tokens.pop(),i$=0,len$=tokens.length;len$>i$;++i$)y=tokens[i$],object=object[y];x=object[k]}if("boolean"!=typeof object[k])return object[k]="true"===x}},TRANSFORM=function(env,json,text,context){var use,_metadata,_definitions,ctx,template,result,data,output,transforms,i$,ref$,len$,x,error;use=USE_CURRYING(env),handlebars.registerHelper("use",use);try{if(_metadata=json._metadata,_definitions=json._definitions,ctx=lodash_merge({},_definitions,context),template=handlebars.compile(text),result=template(ctx),data=livescript.compile(result,{json:!0}),output=JSON.parse(data),null!=_metadata&&(transforms=_metadata.transforms),delete output._metadata,delete output._definitions,null!=transforms&&null!=transforms.integers)for(i$=0,len$=(ref$=transforms.integers).length;len$>i$;++i$)x=ref$[i$],TRANSFORM_INTEGER(output,x);if(null!=transforms&&null!=transforms.booleans)for(i$=0,len$=(ref$=transforms.booleans).length;len$>i$;++i$)x=ref$[i$],TRANSFORM_BOOLEAN(output,x);return{output:output,error:null}}catch(e$){return error=e$,{error:error}}},module.exports=exports=TRANSFORM}).call(this)},{handlebars:236,livescript:"livescript","yap-require-hook":455}],471:[function(require,module,exports){(function(){var colors,GlobalModule,exports,lodash_merge,lodash_find,lodash_findIndex,lodash_sum,lodash_sortBy,lodash_padStart,lodash_padEnd,lodash_camelCase;colors=require("yap-require-hook").addReference(require("colors"),"colors"),GlobalModule=function(){function GlobalModule(opts){this.opts=opts,this.modules={colors:colors}}GlobalModule.displayName="GlobalModule";GlobalModule.prototype;return GlobalModule.prototype.addModule=function(xs){var self,k,v;self=this;for(k in xs)v=xs[k],self.modules[k]=v;return xs},GlobalModule}(),global.gm=module.exports=exports=new GlobalModule({}),global.getBundledModules=function(){return global.gm.modules},global.addBundledModule=function(xs){return global.gm.addModule(xs)},global.getExternalModuleVersion=function(name){return require(name+"/package.json").version},lodash_merge=require("yap-require-hook").addReference(require("lodash/merge"),"lodash/merge"),lodash_find=require("yap-require-hook").addReference(require("lodash/find"),"lodash/find"),lodash_findIndex=require("yap-require-hook").addReference(require("lodash/findIndex"),"lodash/findIndex"),lodash_sum=require("yap-require-hook").addReference(require("lodash/sum"),"lodash/sum"),lodash_sortBy=require("yap-require-hook").addReference(require("lodash/sortBy"),"lodash/sortBy"),lodash_padStart=require("yap-require-hook").addReference(require("lodash/padStart"),"lodash/padStart"),lodash_padEnd=require("yap-require-hook").addReference(require("lodash/padEnd"),"lodash/padEnd"),lodash_camelCase=require("yap-require-hook").addReference(require("lodash/camelCase"),"lodash/camelCase"),global.addBundledModule({lodash_merge:lodash_merge,lodash_find:lodash_find,lodash_findIndex:lodash_findIndex,lodash_sum:lodash_sum,lodash_sortBy:lodash_sortBy,lodash_padStart:lodash_padStart,lodash_padEnd:lodash_padEnd,lodash_camelCase:lodash_camelCase})}).call(this)},{colors:115,"lodash/camelCase":401,"lodash/find":406,"lodash/findIndex":407,"lodash/merge":426,"lodash/padEnd":427,"lodash/padStart":428,"lodash/sortBy":430,"lodash/sum":433,"yap-require-hook":455}],472:[function(require,module,exports){(function(__filename,__dirname){(function(){var fs,path,colors,DBG,settings,CHECK,LOAD_CONFIG,resource,exports;fs=require("fs"),path=require("path"),colors=require("yap-require-hook").addReference(require("colors"),"colors"),DBG=global.getLogger(__filename).DBG,settings={program_name:null,app_dir:null,work_dir:null,config_dir:null},CHECK=function(p){var config_dir,log_dir,dirs,error;config_dir=path.resolve(p+""+path.sep+"config"),log_dir=path.resolve(p+""+path.sep+"logs"),DBG("checking "+path.resolve(p));try{return dirs=fs.readdirSync(config_dir),fs.existsSync(log_dir)||fs.mkdirSync(log_dir),settings.work_dir=p,settings.config_dir=config_dir,DBG("use "+path.resolve(p).cyan+" as work_dir"),DBG("use "+settings.app_dir.cyan+" as app_dir")}catch(e$){return error=e$,DBG("checking "+path.resolve(p)+" but failed")}},null!=process.argv[1]?settings.program_name=path.basename(process.argv[1]):settings.program_name="unknown",null!=process.argv[1]?settings.app_dir=path.dirname(process.argv[1]):settings.app_dir=process.cwd(),null!=process.env.WORK_DIR&&CHECK(process.env.WORK_DIR),settings.work_dir||CHECK(path.resolve(".")),settings.work_dir||null==process.argv[1]||CHECK(path.dirname(process.argv[1])),settings.work_dir||(ERR("failed to find any work directory."),null==process.env.VERBOSE&&ERR("please re-run the program with environment variable VERBOSE=true to get further verbose messages..."),process.exit(1)),LOAD_CONFIG=function(p,callback){var found,config,error;found=!1;try{config=p.json?JSON.parse(fs.readFileSync(p.path)):require(p.path),found=!0,callback(null,config)}catch(e$){error=e$,DBG("failed to load "+p.path+" due to error: "+error)}return found},resource={dumpEnvs:function(){function fn$(i,v){DBG("argv["+i+"] = "+v)}var i$,ref$,len$;for(i$=0,len$=(ref$=process.argv).length;len$>i$;++i$)fn$.call(this,i$,ref$[i$]);return DBG("process.execPath = "+process.execPath),DBG("process.arch = "+process.arch),DBG("process.platform = "+process.platform),DBG("process.cwd() = "+process.cwd()),DBG("path.normalize('.') = "+path.normalize(".")),DBG("path.normalize(__dirname) = "+path.normalize(__dirname)),DBG("path.resolve('.') = "+path.resolve(".")),DBG("path.resolve(__dirname) = "+path.resolve(__dirname))},loadConfig:function(name,callback){var configLs,configJson,text,json,error;configLs=settings.config_dir+""+path.sep+name+".ls",configJson=settings.config_dir+""+path.sep+name+".json";try{return text=fs.readFileSync(configLs)+"",text=require("livescript").compile(text,{json:!0}),json=JSON.parse(text),{json:json,text:text,source:!0}}catch(e$){error=e$,DBG("failed to load "+configLs+", err: "+error)}try{return text=fs.readFileSync(configJson)+"",json=JSON.parse(text),{json:json,text:text,source:!1}}catch(e$){return error=e$,DBG("failed to load "+configJson+", err: "+error),null}},resolveWorkPath:function(type,filename){return path.resolve(settings.work_dir+""+path.sep+type+path.sep+filename)},resolveResourcePath:function(type,filename){var ret;return ret=path.resolve(settings.app_dir+""+path.sep+type+path.sep+filename)},loadScript:function(name){return require(settings.app_dir+""+path.sep+"lib"+path.sep+name)},loadPlugin:function(name){function fn$(i,p){var error,exx;if(!found)try{m=require(p),found=!0}catch(e$){error=e$,exx={err:error,path:p},errors.push(exx)}}function fn1$(i,exx){DBG("loading "+exx.path+" but err: "+exx.err)}var lib,plugins,errors,pathes,found,m,i$,len$,exx;for(lib="lib",plugins="plugins",errors=[],pathes=[settings.app_dir+""+path.sep+lib+path.sep+plugins+path.sep+name,settings.app_dir+""+path.sep+lib+path.sep+plugins+path.sep+name+path.sep+"index",__dirname+""+path.sep+plugins+path.sep+name,__dirname+""+path.sep+plugins+path.sep+name+path.sep+"index"],found=!1,m=null,i$=0,len$=pathes.length;len$>i$;++i$)fn$.call(this,i$,pathes[i$]);if(found)return m;for(i$=0,len$=errors.length;len$>i$;++i$)fn1$.call(this,i$,errors[i$]);throw exx=errors.pop(),exx.err},getProgramName:function(){return settings.program_name},getAppDir:function(){return settings.app_dir},getWorkDir:function(){return settings.work_dir}},module.exports=exports=resource}).call(this)}).call(this,"/Users/yagamy/Works/workspaces/t2t/yapps-tt/externals/y_modules/yapps/lib/helpers/resource.js","/Users/yagamy/Works/workspaces/t2t/yapps-tt/externals/y_modules/yapps/lib/helpers")},{colors:115,fs:void 0,livescript:"livescript",path:void 0,"yap-require-hook":455}],473:[function(require,module,exports){(function(__filename){(function(){function curry$(f,bound){var context,_curry=function(args){return f.length>1?function(){var params=args?args.concat():[];return context=bound?context||this:this,params.push.apply(params,arguments)<f.length&&arguments.length?_curry.call(context,params):f.apply(context,params)}:f};return _curry()}var SIGNALS,SUICIDE_TIMEOUT,ref$,DBG,INFO,WARN,ERR,SuicideTimer,SIGNAL_HANDLER_CURRYING,exports;SIGNALS=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"],SUICIDE_TIMEOUT=10,ref$=global.getLogger(__filename),DBG=ref$.DBG,INFO=ref$.INFO,WARN=ref$.WARN,ERR=ref$.ERR,SuicideTimer=function(){function SuicideTimer(evt,seconds){var self,f;this.evt=evt,this.seconds=seconds,self=this,f=function(){return self.atCheck()},self.interval=setInterval(f,1e3)}SuicideTimer.displayName="SuicideTimer";SuicideTimer.prototype;return SuicideTimer.prototype.atCheck=function(){var self,ref$,evt,seconds,interval,text;return ref$=self=this,evt=ref$.evt,seconds=ref$.seconds,interval=ref$.interval,self.seconds=seconds-1,text=self.seconds+"",self.seconds>0?INFO(evt.red+": peaceful shutdown remains "+text.cyan+" seconds ..."):(ERR(evt.red+": peaceful shutdown but timeout"),clearInterval(interval),process.exit(2))},SuicideTimer}(),SIGNAL_HANDLER_CURRYING=curry$(function(evt,dummy){var app,shutdowning,suicide_timeout,error;if(app=module.app,shutdowning=module.shutdowning,suicide_timeout=module.suicide_timeout,shutdowning)return WARN("receive "+evt.red+" event but already shutdowning ...");module.shutdowning=!0,module.timer=new SuicideTimer(evt,suicide_timeout),WARN("receive "+evt.red+" event, peacefully shutdown ...");try{return app.shutdown(evt,function(err,code){return null!=err&&ERR(err,"peaceful shutdown for signal "+evt.red+" event but known error"),"SIGTERM"===evt&&0===code?process.exit(230):(null==code&&(code=0),"number"!=typeof code&&(code=0),process.exit(code))})}catch(e$){return error=e$,ERR(error,"peaceful shutdown for signal "+evt.red+" event but uncaught error"),process.exit(1)}}),module.exports=exports=function(app){var i$,ref$,len$,s,listener;for(module.app=app,module.shutdowning=!1,module.suicide_timeout=SUICIDE_TIMEOUT,i$=0,len$=(ref$=SIGNALS).length;len$>i$;++i$)s=ref$[i$],listener=SIGNAL_HANDLER_CURRYING(s),process.on(s,listener),DBG("register signal event: "+s.red);return app}}).call(this)}).call(this,"/Users/yagamy/Works/workspaces/t2t/yapps-tt/externals/y_modules/yapps/lib/helpers/signal.js")},{}],474:[function(require,module,exports){(function(__filename){(function(){var fs,ref$,DBG,ERR,WARN,INFO,RET_VALUE,GET_PROCESS_UPTIME,GET_SYSTEM_UPTIME,SystemUptime,exports;fs=require("fs"),ref$=global.getLogger(__filename),DBG=ref$.DBG,ERR=ref$.ERR,WARN=ref$.WARN,INFO=ref$.INFO,RET_VALUE=function(value,message){return WARN(message),value},GET_PROCESS_UPTIME=function(){return Math.floor(1e3*process.uptime())},GET_SYSTEM_UPTIME=function(){var uptime,SYSFILE,buffer,text,xs,seconds,error;if(uptime=GET_PROCESS_UPTIME(),"darwin"===process.platform)return RET_VALUE(uptime,"using process uptime ("+uptime+"ms) as system uptime for mac osx");SYSFILE="/proc/uptime";try{return buffer=fs.readFileSync(SYSFILE),null==buffer?RET_VALUE(uptime,"failed to read uptime from "+SYSFILE+", using process uptime ("+uptime+"ms) as alternative"):(text=buffer.toString(),xs=text.split(" "),seconds=parseFloat(xs[0]),NaN===seconds?RET_VALUE(uptime,"failed to parse system uptime: "+xs[0]+" from "+SYSFILE+", using process uptime ("+uptime+"ms) as alternative"):(uptime=Math.floor(1e3*seconds),INFO("retrieve "+uptime+"ms from "+SYSFILE),uptime))}catch(e$){return error=e$,RET_VALUE(uptime,"failed to read system uptime from "+SYSFILE+", using process uptime ("+uptime+"ms) as alternative. err: "+error)}},module.system=GET_SYSTEM_UPTIME(),SystemUptime=function(){function SystemUptime(opts){var system,self;this.opts=opts,system=module.system,self=this,self.app=GET_PROCESS_UPTIME(),self.system=system,self.diff=self.system-self.app,self.boots=0,INFO("boots: "+self.boots+"ms"),INFO("system: "+self.system+"ms"),INFO("app: "+self.app+"ms")}SystemUptime.displayName="SystemUptime";SystemUptime.prototype;return SystemUptime.prototype.now=function(){var self,ref$,boots,diff,uptime,epoch;return ref$=self=this,boots=ref$.boots,diff=ref$.diff,uptime=GET_PROCESS_UPTIME()+diff,epoch=new Date-0,{boots:boots,uptime:uptime,epoch:epoch}},SystemUptime}(),module.exports=exports=SystemUptime}).call(this)}).call(this,"/Users/yagamy/Works/workspaces/t2t/yapps-tt/externals/y_modules/yapps/lib/helpers/system-uptime.js")},{fs:void 0}],475:[function(require,module,exports){(function(__filename){(function(){var DBG,exports,Timer;DBG=global.getLogger(__filename).DBG,module.exports=exports=Timer=function(){function Timer(period,x,y,z){var self,type;if(this.period=period,DBG("initiate timer w/ period = "+period),self=this,this.args=[],this.obj=null,this.interval_obj=null,type=typeof x,"function"===type)this.type="contextless",this.func=x,null!=y&&"array"==typeof y&&(this.args=y);else{if("object"!=typeof x||"string"!=typeof y)throw new Error("invalid arguments for timer creation");if(this.type="context",this.obj=x,this.func=x[y],null!=z&&"array"==typeof z&&(this.args=z),null==this.func)throw new Error("function "+y+" not found")}this.running=!1,this.counter=0,this.callback=function(){return self.check()},this.interval_obj=setInterval(this.callback,1e3)}Timer.displayName="Timer";Timer.prototype;return Timer.prototype.start=function(){return this.running=!0,this.counter=this.period},Timer.prototype.stop=function(){return this.counter=0,this.running=!1},Timer.prototype.cleanup=function(){return this.counter=0,this.running=!1,clearInterval(this.interval_obj)},Timer.prototype.configure=function(period){this.period=period,this.counter=period},Timer.prototype.getPeriod=function(){return this.period},Timer.prototype.check=function(){var self,ref$,running,counter,period,func,obj,args;return ref$=self=this,running=ref$.running,counter=ref$.counter,period=ref$.period,running&&(self.counter=self.counter-1,self.counter<=0)?(self.counter=period,func=self.func,obj=self.obj,args=self.args,func.apply(obj,args)):void 0},Timer}()}).call(this)}).call(this,"/Users/yagamy/Works/workspaces/t2t/yapps-tt/externals/y_modules/yapps/lib/helpers/timer.js")},{}],476:[function(require,module,exports){(function(__filename){(function(){var mkdirp,async,ref$,DBG,WARN,CREATE_DIR_ASYNC,CREATE_DIRECTORIES,copyObject,CREATE_BUFFER_WITH_INTS,CREATE_BUFFER_WITH_STRING,IS_BUFFER,CREATE_BUFFER_WITH_HEX_CHARS,CREATE_BUFFER_WITH_HEXES_SMARTLY,buffer_utils,exports;mkdirp=require("yap-require-hook").addReference(require("mkdirp"),"mkdirp"),async=require("yap-require-hook").addReference(require("async"),"async"),ref$=global.getLogger(__filename),DBG=ref$.DBG,WARN=ref$.WARN,CREATE_DIR_ASYNC=function(dir,done){return DBG("creating "+dir+" ..."),mkdirp(dir,done)},CREATE_DIRECTORIES=function(dirs,done){return async.eachSeries(dirs,CREATE_DIR_ASYNC,done)},copyObject=function(dst,src,fields){function fn$(i,f){null!=src[f]&&(dst[f]=src[f])}var i$,len$;for(i$=0,len$=fields.length;len$>i$;++i$)fn$.call(this,i$,fields[i$]);return dst},CREATE_BUFFER_WITH_INTS=function(ints){return module.nodeVersion>=4.5?Buffer.from(ints):new Buffer(ints)},CREATE_BUFFER_WITH_STRING=function(str,encoding){return null==encoding&&(encoding="utf8"),module.nodeVersion>=4.5?Buffer.from(str,encoding):new Buffer(str,encoding)},IS_BUFFER=function(b){return Buffer.isBuffer(b)},CREATE_BUFFER_WITH_HEX_CHARS=function(str){var hexes;return hexes=str.substring(2)},CREATE_BUFFER_WITH_HEXES_SMARTLY=function(input){return input instanceof Uint8Array?CREATE_BUFFER_WITH_INTS(input):input instanceof Uint16Array?CREATE_BUFFER_WITH_INTS(input):Array.isArray(input)?0===input.length?CREATE_BUFFER_WITH_INTS([]):"number"==typeof input[0]?CREATE_BUFFER_WITH_INTS(input):(WARN("CREATE_BUFFER_WITH_HEXES(): input isn't array of octets => "+JSON.stringify(input)),null):"string"==typeof input?/\+\+[0-9,A-Z]*$/.test(input)?CREATE_BUFFER_WITH_STRING(input.substring(2),"hex"):CREATE_BUFFER_WITH_STRING(input):(WARN("CREATE_BUFFER_WITH_HEXES(): unexpected input("+typeof input+") => "+JSON.stringify(input)),null)},buffer_utils={CREATE_BUFFER_WITH_INTS:CREATE_BUFFER_WITH_INTS,CREATE_BUFFER_WITH_STRING:CREATE_BUFFER_WITH_STRING,CREATE_BUFFER_WITH_HEXES_SMARTLY:CREATE_BUFFER_WITH_HEXES_SMARTLY,IS_BUFFER:IS_BUFFER},module.nodeVersion=parseFloat(process.version.substring(1)),module.exports=exports={CREATE_DIRECTORIES:CREATE_DIRECTORIES,buffer_utils:buffer_utils}}).call(this)}).call(this,"/Users/yagamy/Works/workspaces/t2t/yapps-tt/externals/y_modules/yapps/lib/helpers/utils.js")},{async:33,mkdirp:441,"yap-require-hook":455}],477:[function(require,module,exports){(function(__filename){(function(){var path,colors,ref$,DBG,ERR,WARN,INFO,asyncExecuter,deployConfig,resource,systemUptime,timer,HELPERS,ERR_EXIT,FIND_NAME,CREATE_APPLICATION,exports;path=require("path"),colors=require("yap-require-hook").addReference(require("colors"),"colors"),ref$=global.getLogger(__filename),DBG=ref$.DBG,ERR=ref$.ERR,WARN=ref$.WARN,INFO=ref$.INFO,asyncExecuter=require("yap-require-hook").addReference(require("./helpers/async-executer"),"./helpers/async-executer"),deployConfig=require("yap-require-hook").addReference(require("./helpers/deploy-config"),"./helpers/deploy-config"),resource=require("yap-require-hook").addReference(require("./helpers/resource"),"./helpers/resource"),systemUptime=require("yap-require-hook").addReference(require("./helpers/system-uptime"),"./helpers/system-uptime"),timer=require("yap-require-hook").addReference(require("./helpers/timer"),"./helpers/timer"),HELPERS={asyncExecuter:asyncExecuter,deployConfig:deployConfig,resource:resource,systemUptime:systemUptime,timer:timer},global.addBundledModule({yapps_utils:require("yap-require-hook").addReference(require("./helpers/utils"),"./helpers/utils")}),ERR_EXIT=function(err,message){return ERR(err,message),process.exit(1)},FIND_NAME=function(filename){var tokens;return tokens=filename.split(path.sep),tokens[tokens.length-2]},CREATE_APPLICATION=function(type,opts){var name,CLAZZ,error;if(name=module.name,CLAZZ="base"===type?require("yap-require-hook").addReference(require("./classes/BaseApp"),"./classes/BaseApp"):require("yap-require-hook").addReference(require("./classes/WebApp"),"./classes/WebApp"),null==CLAZZ)return ERR_EXIT("the class["+type+"] of application is empty-ized");try{return DBG("create "+type+" with options: "+JSON.stringify(opts).green),new CLAZZ(name,opts,HELPERS)}catch(e$){return error=e$,ERR_EXIT(error,"failed to create application "+type.yellow)}},module.exports=exports={init:function(app_filename){var name;return name=module.name=FIND_NAME(app_filename),INFO("application name: "+name.yellow)},createApp:function(type,opts){var app_type,app_opts;return app_type="base",app_opts={},null!=type&&("string"==typeof type?(app_type=type,app_opts=opts):"object"==typeof type&&(app_opts=type)),CREATE_APPLICATION(app_type,app_opts)}}}).call(this)}).call(this,"/Users/yagamy/Works/workspaces/t2t/yapps-tt/externals/y_modules/yapps/lib/inner.js")},{"./classes/BaseApp":460,"./classes/WebApp":461,"./helpers/async-executer":469,"./helpers/deploy-config":470,"./helpers/resource":472,"./helpers/system-uptime":474,"./helpers/timer":475,"./helpers/utils":476,colors:115,path:void 0,"yap-require-hook":455}],478:[function(require,module,exports){(function(__filename){(function(){var STR_STARTS_WITH,STR_ENDS_WITH,exports;require("source-map-support").install(),require("yap-require-hook").addReference(require("yap-require-hook"),"yap-require-hook").install(),require("yap-require-hook").addReference(require("./helpers/gm"),"./helpers/gm"),STR_STARTS_WITH=function(str){return 0===this.indexOf(str)},STR_ENDS_WITH=function(str){return str===this.substring(this.length-str.length,this.length)},null==String.prototype.startsWith&&(String.prototype.startsWith=STR_STARTS_WITH),null==String.prototype.endsWith&&(String.prototype.endsWith=STR_ENDS_WITH),module.exports=exports={init:function(app_filename){return require("yap-require-hook").addReference(require("yap-simple-logger"),"yap-simple-logger").init(app_filename,__filename),require("yap-require-hook").addReference(require("./inner"),"./inner").init(app_filename)},createApp:function(type,opts){var app,signal;return app=require("yap-require-hook").addReference(require("./inner"),"./inner").createApp(type,opts),(signal=require("yap-require-hook").addReference(require("./helpers/signal"),"./helpers/signal"))(app)}}}).call(this)}).call(this,"/Users/yagamy/Works/workspaces/t2t/yapps-tt/externals/y_modules/yapps/lib/yapps.js")},{"./helpers/gm":471,"./helpers/signal":473,"./inner":477,"source-map-support":"source-map-support","yap-require-hook":455,"yap-simple-logger":457}],479:[function(require,module,exports){module.exports=exports=require("yap-require-hook").addReference(require("./lib/communicator"),"./lib/communicator")},{"./lib/communicator":480,"yap-require-hook":455
}],480:[function(require,module,exports){(function(__filename){(function(){var path,colors,url,ref$,DBG,INFO,WARN,ERR,async,NAME,ConnectionWrapper,Manager,exports;path=require("path"),colors=require("yap-require-hook").addReference(require("colors"),"colors"),url=require("yap-require-hook").addReference(require("url"),"url"),ref$=global.getLogger(__filename),DBG=ref$.DBG,INFO=ref$.INFO,WARN=ref$.WARN,ERR=ref$.ERR,async=getBundledModules().async,NAME="communicator",ConnectionWrapper=function(){function ConnectionWrapper(name,settings,helpers,manager,app,verbose){var broadcast;this.name=name,this.settings=settings,this.helpers=helpers,this.manager=manager,this.app=app,this.verbose=verbose,broadcast=settings.broadcast,this.broadcast=broadcast,null==this.broadcast&&(this.broadcast=!0),this.c=null,this.prefix="connection["+name.cyan+"]",this.dataListener=null,this.lineListener=null,this.connListener=null,this.broadcastData=null,this.broadcastLine=null,this.stopping=!1,this.connected=!1}ConnectionWrapper.displayName="ConnectionWrapper";ConnectionWrapper.prototype;return ConnectionWrapper.prototype.setDataListener=function(l){return this.dataListener=l},ConnectionWrapper.prototype.setLineListener=function(l){return this.lineListener=l},ConnectionWrapper.prototype.setConnectionListener=function(l){var self,ref$,connected,name;return ref$=self=this,connected=ref$.connected,name=ref$.name,this.connListener=l,connected?(INFO("connections["+name.cyan+"]: set-connection-listener(), after connected."),l(!0)):void 0},ConnectionWrapper.prototype.atConnected=function(connected){var self,ref$,name,connListener;return this.connected=connected,ref$=self=this,name=ref$.name,connListener=ref$.connListener,INFO("connections["+name.cyan+"] connected: "+connected),null!=connListener?connListener(connected):void 0},ConnectionWrapper.prototype.atData=function(buffer){return this.stopping?WARN("connections["+this.name.cyan+"]: shutting down and ignore incoming "+buffer.length+" bytes of data"):this.broadcast?this.broadcastData(buffer):this.emit(buffer,this.dataListener)},ConnectionWrapper.prototype.atLine=function(buffer){var x;if(!this.stopping)return this.broadcast?this.broadcastLine(buffer):(x=buffer.toString(),x.endsWith("\n")&&(x=x.substring(0,x.length-1)),x.endsWith("\r")&&(x=x.substring(0,x.length-1)),this.emit(x,this.lineListener))},ConnectionWrapper.prototype.init=function(done){var self,ref$,settings,verbose,prefix,name,tokens,protocol,implementationClass,error;ref$=self=this,settings=ref$.settings,verbose=ref$.verbose,prefix=ref$.prefix,name=ref$.name,tokens=self.urlTokens=url.parse(settings.url),protocol=tokens.protocol.split(":"),protocol=protocol[0],INFO(prefix+": initiate connection with "+protocol.yellow+" protocol => "+settings.url.green);try{return implementationClass=function(){switch(protocol){case"tcp":return require("yap-require-hook").addReference(require("./tcp"),"./tcp");case"unixsock":return require("yap-require-hook").addReference(require("./unixsock"),"./unixsock");case"exec":return require("yap-require-hook").addReference(require("./exec"),"./exec");default:return require("yap-require-hook").addReference(require("./tcp"),"./tcp")}}(),self.c=new implementationClass(name,tokens,settings,verbose),self.c.setConnectionListener(function(connected){return self.atConnected(connected)}),done()}catch(e$){return error=e$,ERR(error,prefix+": failed to load implementation, with settings => "+JSON.stringify(settings)),done()}},ConnectionWrapper.prototype.start=function(done){var self,ref$,name,broadcast,helpers,urlTokens,c,lineEmitterCurrying,dataEmitterCurrying;return ref$=self=this,name=ref$.name,broadcast=ref$.broadcast,helpers=ref$.helpers,urlTokens=ref$.urlTokens,c=ref$.c,lineEmitterCurrying=helpers.lineEmitterCurrying,dataEmitterCurrying=helpers.dataEmitterCurrying,self.broadcastLine=lineEmitterCurrying(name,"from-peer",{urlTokens:urlTokens}),self.broadcastData=dataEmitterCurrying(name,"from-peer",{urlTokens:urlTokens}),c.setLineListener(function(line){return self.atLine(line)}),c.setDataListener(function(data){return self.atData(data)}),c.start(),done()},ConnectionWrapper.prototype.stop=function(done){return this.stopping=!0,this.c.stop(done)},ConnectionWrapper.prototype.emit=function(x,listener){var name,urlTokens,pluginName,resourceName,channelName;if(null!=listener)return name=this.name,urlTokens=this.urlTokens,pluginName="communicator",resourceName=name,channelName="from-peer",listener(x,{pluginName:pluginName,resourceName:resourceName,channelName:channelName},{urlTokens:urlTokens})},ConnectionWrapper.prototype.send=function(line,done){return this.sendLine(line,done)},ConnectionWrapper.prototype.sendLine=function(line,done){var self,ref$,c,prefix,stopping;return null==done&&(done=null),ref$=self=this,c=ref$.c,prefix=ref$.prefix,stopping=ref$.stopping,stopping&&null!=done?done():stopping?void 0:null!=done?c.send(line,done):c.send(line,function(err){return null!=err?ERR(err,prefix+": failed to send line => "+line.magenta):void 0})},ConnectionWrapper.prototype.sendData=function(data,done){var self,ref$,c,prefix,stopping,buffer;return null==done&&(done=null),ref$=self=this,c=ref$.c,prefix=ref$.prefix,stopping=ref$.stopping,stopping&&null!=done?done():stopping?void 0:(buffer=new Buffer(data),null!=done?c.sendData(data,done):c.sendData(data,function(err){return null!=err?ERR(err,prefix+": failed to send data => "+buffer.toString("hex").magenta):void 0}))},ConnectionWrapper.prototype.toJson=function(){var name,settings,broadcast,url;return name=this.name,settings=this.settings,broadcast=this.broadcast,url=settings.url,{name:name,url:url,broadcast:broadcast}},ConnectionWrapper}(),Manager=function(){function Manager(app,opts,helpers){var verbose;this.app=app,this.opts=opts,this.helpers=helpers,this.connections=[],this.connectionMap={},verbose=opts.verbose,this.verbose=verbose,null!=this.verbose&&this.verbose||(this.verbose=!1)}Manager.displayName="Manager";Manager.prototype;return Manager.prototype.getResource=function(name){return this.connectionMap[name]},Manager.prototype.get=function(name){return this.connectionMap[name]},Manager.prototype.createConnection=function(name,settings){var self,ref$,app,helpers,verbose,enabled;return ref$=self=this,app=ref$.app,helpers=ref$.helpers,verbose=ref$.verbose,enabled=settings.enabled,null!=enabled&&"boolean"==typeof enabled&&enabled||(enabled=!1),INFO("connections["+name.cyan+"]: settings => "+JSON.stringify(settings)),enabled?new ConnectionWrapper(name,settings,helpers,self,app,verbose):(INFO("connections["+name.cyan+"]: DISABLED!!"),null)},Manager.prototype.init=function(done){var self,ref$,app,opts,xs,res$,name,settings,connections,c,i$,len$,cw,INIT,START;ref$=self=this,app=ref$.app,opts=ref$.opts,res$=[];for(name in ref$=opts.connections)settings=ref$[name],res$.push(self.createConnection(name,settings));for(xs=res$,self.connections=connections=function(){var i$,ref$,len$,results$=[];for(i$=0,len$=(ref$=xs).length;len$>i$;++i$)c=ref$[i$],null!=c&&results$.push(c);return results$}(),res$={},i$=0,len$=connections.length;len$>i$;++i$)cw=connections[i$],res$[cw.name]=cw;return self.connectionMap=res$,INIT=function(cw,cb){return cw.init(cb)},START=function(cw,cb){return cw.start(cb)},async.eachSeries(connections,INIT,function(initErr){return null!=initErr?done(initErr):async.eachSeries(connections,START,function(startErr){return null!=startErr?done(startErr):(app.on(NAME+"::*::to-peer",function(name,line){return self.toPeer(name,line)}),done())})})},Manager.prototype.fini=function(done){var self,connections,STOP;return connections=(self=this).connections,STOP=function(cw,cb){var name;return name=cw.name,INFO("connections["+name.cyan+"]: stopping ..."),cw.stop(function(err){return null!=err&&WARN(err,"connections["+name.cyan+"]: failed to stop"),cb()})},async.eachSeries(connections,STOP,function(err){return null!=err&&WARN(err,"connections stop failure"),done()})},Manager.prototype.toPeer=function(name,line,done){var connectionMap,cw;return null==done&&(done=null),connectionMap=this.connectionMap,cw=connectionMap[name],null==cw?done("no such communicator::"+name):cw.sendLine(line,done)},Manager.prototype.toPeerData=function(name,data,done){var connectionMap,cw;return null==done&&(done=null),connectionMap=this.connectionMap,cw=connectionMap[name],null==cw?done("no such communicator::"+name):cw.sendData(data,done)},Manager}(),module.exports=exports={attach:function(opts,helpers){var app;return app=this,module.manager=app.communicator=new Manager(app,opts,helpers)},init:function(done){return module.manager.init(done)},fini:function(done){return module.manager.fini(done)}}}).call(this)}).call(this,"/Users/yagamy/Works/workspaces/t2t/yapps-tt/plugins/communicator/lib/communicator.js")},{"./exec":481,"./tcp":482,"./unixsock":483,colors:115,path:void 0,url:void 0,"yap-require-hook":455}],481:[function(require,module,exports){(function(__filename){(function(){var net,byline,spawn,ref$,DBG,INFO,WARN,ERR,lodash_merge,CHECK_INTERVAL,STDOUT,STDERR,exports,Communicator;net=require("net"),byline=require("yap-require-hook").addReference(require("byline"),"byline"),spawn=require("yap-require-hook").addReference(require("child_process"),"child_process").spawn,ref$=global.getLogger(__filename),DBG=ref$.DBG,INFO=ref$.INFO,WARN=ref$.WARN,ERR=ref$.ERR,lodash_merge=getBundledModules().lodash_merge,CHECK_INTERVAL=2e3,STDOUT="stdout",STDERR="stderr",module.exports=exports=Communicator=function(){function Communicator(name,urlTokens,opts,verbose){var ref$;this.name=name,this.urlTokens=urlTokens,this.opts=opts,this.verbose=null!=verbose?verbose:!1,DBG("exec["+name.cyan+"] initiated"),this.client=null,this.connected=!1,this.peer=opts.peer,null==this.peer&&(this.peer=STDERR),(ref$=this.peer)!==STDERR&&ref$!==STDOUT&&(this.peer=STDERR),this.stdoutReader=null,this.stderrReader=null}Communicator.displayName="Communicator";Communicator.prototype;return Communicator.prototype.setVerbose=function(v){return this.verbose=v},Communicator.prototype.setLineListener=function(lineCb){return this.lineCb=lineCb},Communicator.prototype.setDataListener=function(dataCb){return this.dataCb=dataCb},Communicator.prototype.setConnectionListener=function(connCb){return this.connCb=connCb},Communicator.prototype.startConnection=function(){var self,logger,name,verbose,opts,urlTokens,args,cwd,env,peer,command,ne,spawnOpts,xs,res$,k,v,client,check;if(self=this,logger=self.logger,name=self.name,verbose=self.verbose,opts=self.opts,urlTokens=self.urlTokens,args=opts.args,cwd=opts.cwd,env=opts.env,peer=opts.peer,command=urlTokens.pathname,null==args&&(args=[]),null==peer&&(peer="stderr"),"stdout"!==peer&&"stderr"!==peer&&(peer="stderr"),null==cwd&&(cwd=process.cwd()),ne=lodash_merge({},process.env,env),spawnOpts={cwd:cwd,env:ne,stdio:["pipe","pipe"]},INFO(name+": command = "+command),INFO(name+": args = "+JSON.stringify(args)),verbose){res$=[];for(k in ne)v=ne[k],"PROMPT"!==k&&res$.push("	"+k+": "+v.green);xs=res$,xs.sort(),xs=xs.join("\n"),INFO(name+": env =>\n"+xs)}return client=this.client=spawn(command,args,spawnOpts),client.on("error",function(err){return self.onError.apply(self,[err])}),client.on("exit",function(code){return self.onClose.apply(self,[code])}),check=function(){return self.onCheck.apply(self,[])},setInterval(check,CHECK_INTERVAL),this.connected=!0,this.stdoutReader=byline(client.stdout),this.stderrReader=byline(client.stderr),this.stdoutReader.on("data",function(line){return self.onLine.apply(self,[STDOUT,line])}),this.stderrReader.on("data",function(line){return self.onLine.apply(self,[STDERR,line])}),null!=this.connCb?this.connCb(!0):void 0},Communicator.prototype.start=function(){return this.startConnection()},Communicator.prototype.stop=function(done){var self,ref$,client,name,evt;return ref$=self=this,client=ref$.client,name=ref$.name,evt="SIGINT",INFO("connections["+name.cyan+"]: sending "+evt.red+" to child process ("+client.pid+")"),client.kill(evt),this.stoppingCb=done},Communicator.prototype.send=function(line,done){return done()},Communicator.prototype.sendData=function(data,done){var name,connected,client,flush;return name=this.name,connected=this.connected,client=this.client,connected?(flush=client.stdin.write(data),done()):(WARN("exec["+name.cyan+"] cannot send data due to disconnected"),done())},Communicator.prototype.onCheck=function(){return null!==this.client||this.connected?void 0:this.startConnection()},Communicator.prototype.emitLine=function(line){var dataCb,buffer;return dataCb=this.dataCb,null!=dataCb?(buffer=new Buffer(line+"\n"),dataCb(buffer)):void 0},Communicator.prototype.onLine=function(stream,line){var peer,name,lineCb;return peer=this.peer,name=this.name,lineCb=this.lineCb,stream!==peer?INFO("exec["+name.cyan+"]["+stream.green+"] "+line):(this.emitLine(line),null!=lineCb?lineCb(line):WARN("exec["+name.cyan+"]["+stream.green+"] "+line))},Communicator.prototype.onError=function(error){var name,urlTokens,pathname;return name=this.name,urlTokens=this.urlTokens,pathname=urlTokens.pathname,ERR(error,"exec["+name.cyan+"] "+pathname+" met unexpected error"),this.cleanup()},Communicator.prototype.onClose=function(code){var name,urlTokens,pathname;return name=this.name,urlTokens=this.urlTokens,pathname=urlTokens.pathname,ERR("exec["+name.cyan+"] "+pathname+" exit: "+code),this.cleanup(),null!=this.connCb&&this.connCb(!1),null!=this.stoppingCb?this.stoppingCb():void 0},Communicator.prototype.cleanup=function(){return null!=this.stdoutReader&&(this.stdoutReader.removeAllListeners("data"),this.stdoutReader=null),null!=this.stderrReader&&(this.stderrReader.removeAllListeners("data"),this.stderrReader=null),null!=this.client&&(this.client.removeAllListeners("error"),this.client.removeAllListeners("close"),this.client=null),this.connected=!1},Communicator}()}).call(this)}).call(this,"/Users/yagamy/Works/workspaces/t2t/yapps-tt/plugins/communicator/lib/exec.js")},{byline:110,child_process:void 0,net:void 0,"yap-require-hook":455}],482:[function(require,module,exports){(function(__filename){(function(){var net,byline,through,ref$,DBG,INFO,WARN,ERR,CHECK_INTERVAL,exports,Communicator;net=require("net"),byline=require("yap-require-hook").addReference(require("byline"),"byline"),through=require("yap-require-hook").addReference(require("through"),"through"),ref$=global.getLogger(__filename),DBG=ref$.DBG,INFO=ref$.INFO,WARN=ref$.WARN,ERR=ref$.ERR,CHECK_INTERVAL=2e3,module.exports=exports=Communicator=function(){function Communicator(name,urlTokens,opts,verbose){this.name=name,this.urlTokens=urlTokens,this.opts=opts,this.verbose=null!=verbose?verbose:!1,DBG("tcp["+name.cyan+"] initiated"),this.client=null,this.reader=null,this.connected=!1,this.stopping=!1}Communicator.displayName="Communicator";Communicator.prototype;return Communicator.prototype.setVerbose=function(v){return this.verbose=v},Communicator.prototype.setLineListener=function(lineCb){return this.lineCb=lineCb},Communicator.prototype.setDataListener=function(dataCb){return this.dataCb=dataCb},Communicator.prototype.setConnectionListener=function(connCb){return this.connCb=connCb},Communicator.prototype.startConnection=function(){var self,logger,name,verbose,cb,ref$,host,hostname,port,check;return self=this,logger=self.logger,name=self.name,verbose=self.verbose,cb=self.cb,ref$=this.urlTokens,host=ref$.host,hostname=ref$.hostname,port=ref$.port,this.client=new net.Socket,this.client.on("error",function(err){return self.onError.apply(self,[err])}),this.client.on("close",function(){return self.onClose.apply(self,[])}),this.client.connect(port,hostname,function(){return self.onConnected.apply(self,[])}),check=function(){return self.onCheck.apply(self,[])},setInterval(check,CHECK_INTERVAL)},Communicator.prototype.start=function(){return this.startConnection()},Communicator.prototype.stop=function(done){var self,client;return client=(self=this).client,self.stopping=!0,null==client?done():(client.end(),client.destroy(),client.unref(),done())},Communicator.prototype.send=function(line,done){var name,connected,client,flush;return name=this.name,connected=this.connected,client=this.client,connected?(flush=client.write(line+"\n"),done()):(WARN("tcp["+name.cyan+"] cannot send ["+line.gray+"] due to disconnected"),done())},Communicator.prototype.sendData=function(data,done){var name,connected,client,flush;return name=this.name,connected=this.connected,client=this.client,connected?(flush=client.write(data),done()):(WARN("tcp["+name.cyan+"] cannot send data due to disconnected"),done())},Communicator.prototype.onCheck=function(){return this.connected||null!=this.client||this.stopping?void 0:this.startConnection()},Communicator.prototype.onError=function(error){var ref$,host,hostname,port;return ref$=this.urlTokens,host=ref$.host,hostname=ref$.hostname,port=ref$.port,ERR(error,"failed to connect "+host.yellow),this.cleanup()},Communicator.prototype.onConnected=function(){var self,ref$,name,lineCb,dataCb,logger,verbose,urlTokens,client,host,hostname,port,write,end,ts;return ref$=self=this,name=ref$.name,lineCb=ref$.lineCb,dataCb=ref$.dataCb,logger=ref$.logger,verbose=ref$.verbose,urlTokens=ref$.urlTokens,client=ref$.client,ref$=this.urlTokens,host=ref$.host,hostname=ref$.hostname,port=ref$.port,INFO("connected to "+host.yellow),this.connected=!0,write=function(data){return null!=dataCb&&dataCb(data),this.queue(data)},end=function(){return this.queue(null)},ts=through(write,end),this.reader=byline.createStream(ts),this.reader.on("data",function(line){return null!=self.lineCb?lineCb(line):void 0}),client.pipe(ts),null!=this.connCb?this.connCb(!0):void 0},Communicator.prototype.onClose=function(){var ref$,host,hostname,port;return ref$=this.urlTokens,host=ref$.host,hostname=ref$.hostname,port=ref$.port,INFO("disconnected to "+host.yellow),this.cleanup(),null!=this.connCb?this.connCb(!1):void 0},Communicator.prototype.cleanup=function(){return null!=this.reader&&(this.reader.removeAllListeners("data"),this.reader=null),null!=this.client&&(this.client.removeAllListeners("error"),this.client.removeAllListeners("close"),this.client=null),this.connected=!1},Communicator}()}).call(this)}).call(this,"/Users/yagamy/Works/workspaces/t2t/yapps-tt/plugins/communicator/lib/tcp.js")},{byline:110,net:void 0,through:449,"yap-require-hook":455}],483:[function(require,module,exports){(function(__filename){(function(){var net,byline,through,ref$,DBG,INFO,WARN,ERR,CHECK_INTERVAL,exports,Communicator;net=require("net"),byline=require("yap-require-hook").addReference(require("byline"),"byline"),through=require("yap-require-hook").addReference(require("through"),"through"),ref$=global.getLogger(__filename),DBG=ref$.DBG,INFO=ref$.INFO,WARN=ref$.WARN,ERR=ref$.ERR,CHECK_INTERVAL=2e3,module.exports=exports=Communicator=function(){function Communicator(name,urlTokens,opts,verbose){this.name=name,this.urlTokens=urlTokens,this.opts=opts,this.verbose=null!=verbose?verbose:!1,DBG("unixsock["+name.cyan+"] initiated"),this.client=null,this.reader=null,this.connected=!1}Communicator.displayName="Communicator";Communicator.prototype;return Communicator.prototype.setVerbose=function(v){return this.verbose=v},Communicator.prototype.setLineListener=function(lineCb){return this.lineCb=lineCb},Communicator.prototype.setDataListener=function(dataCb){return this.dataCb=dataCb},Communicator.prototype.setConnectionListener=function(connCb){return this.connCb=connCb},Communicator.prototype.startConnection=function(){var self,logger,name,verbose,cb,ref$,host,hostname,port,pathname,check;return self=this,logger=self.logger,name=self.name,verbose=self.verbose,cb=self.cb,ref$=this.urlTokens,host=ref$.host,hostname=ref$.hostname,port=ref$.port,pathname=ref$.pathname,this.client=net.createConnection(pathname),this.client.on("error",function(err){return self.onError.apply(self,[err])}),this.client.on("close",function(){return self.onClose.apply(self,[])}),this.client.on("connect",function(){return self.onConnected.apply(self,[])}),check=function(){return self.onCheck.apply(self,[])},setInterval(check,CHECK_INTERVAL)},Communicator.prototype.start=function(){return this.startConnection()},Communicator.prototype.stop=function(done){var self,client;return client=(self=this).client,client.end(),client.destroy(),client.unref(),done()},Communicator.prototype.send=function(line,done){var name,connected,client,flush;return name=this.name,connected=this.connected,client=this.client,connected?(flush=client.write(line+"\n"),done()):(WARN("unixsock["+name.cyan+"] cannot send ["+line.gray+"] due to disconnected"),done())},Communicator.prototype.sendData=function(data,done){var name,connected,client,flush;return name=this.name,connected=this.connected,client=this.client,connected?(flush=client.write(data),done()):(WARN("tcp["+name.cyan+"] cannot send ["+line.gray+"] due to disconnected"),done())},Communicator.prototype.onCheck=function(){return this.connected||null!=this.client||this.stopping?void 0:this.startConnection()},Communicator.prototype.onError=function(error){var ref$,host,hostname,port;return ref$=this.urlTokens,host=ref$.host,hostname=ref$.hostname,port=ref$.port,ERR(error,"failed to connect "+host.yellow),this.cleanup()},Communicator.prototype.onConnected=function(){var name,lineCb,dataCb,logger,verbose,urlTokens,client,ref$,host,hostname,port,write,end,ts;return name=this.name,lineCb=this.lineCb,dataCb=this.dataCb,logger=this.logger,verbose=this.verbose,urlTokens=this.urlTokens,client=this.client,ref$=this.urlTokens,host=ref$.host,hostname=ref$.hostname,port=ref$.port,INFO("connected to "+host.yellow),this.connected=!0,write=function(data){return null!=dataCb&&dataCb(data),this.queue(data)},end=function(){return this.queue(null)},ts=through(write,end),this.reader=byline.createStream(ts),this.reader.on("data",function(line){return null!=lineCb?lineCb(line):void 0}),client.pipe(ts),null!=this.connCb?this.connCb(!0):void 0},Communicator.prototype.onClose=function(){var ref$,host,hostname,port;return ref$=this.urlTokens,host=ref$.host,hostname=ref$.hostname,port=ref$.port,INFO("disconnected to "+host.yellow),this.cleanup(),null!=this.connCb?this.connCb(!1):void 0},Communicator.prototype.cleanup=function(){return null!=this.reader&&(this.reader.removeAllListeners("data"),this.reader=null),null!=this.client&&(this.client.removeAllListeners("error"),this.client.removeAllListeners("close"),this.client=null),this.connected=!1},Communicator}()}).call(this)}).call(this,"/Users/yagamy/Works/workspaces/t2t/yapps-tt/plugins/communicator/lib/unixsock.js")},{byline:110,net:void 0,through:449,"yap-require-hook":455}],484:[function(require,module,exports){module.exports=exports=require("yap-require-hook").addReference(require("./lib/system-helpers"),"./lib/system-helpers")},{"./lib/system-helpers":487,"yap-require-hook":455}],485:[function(require,module,exports){(function(__filename){(function(){var moment,ref$,DBG,INFO,WARN,ERR,Helper,exports;moment=require("yap-require-hook").addReference(require("moment"),"moment"),ref$=global.getLogger(__filename),DBG=ref$.DBG,INFO=ref$.INFO,WARN=ref$.WARN,ERR=ref$.ERR,Helper=function(){function Helper(name,opts,app){var date,time;this.name=name,this.opts=opts,this.app=app,date=opts.date,time=opts.time,this.dateFormat=date,this.dateFormat||(this.dateFormat="MMM/DD"),this.timeFormat=time,null==this.timeFormat&&(this.timeFormat="HH:mm:ss:SSS")}Helper.displayName="Helper";Helper.prototype;return Helper.prototype.init=function(done){var self,app;return app=(self=this).app,app.on("dump-info-service",function(){return self.atDumpInfo.apply(self,arguments)}),done()},Helper.prototype.atDumpInfo=function(name,tokens){var self,ref$,app,dateFormat,timeFormat,sock,now,date,time,xs;return ref$=self=this,app=ref$.app,dateFormat=ref$.dateFormat,timeFormat=ref$.timeFormat,sock=app.sock,now=moment(),date=now.format(dateFormat),time=now.format(timeFormat),xs=[date.gray,time].concat(tokens),sock.sendLine(name,xs.join("	"))},Helper}(),module.exports=exports=Helper}).call(this)}).call(this,"/Users/yagamy/Works/workspaces/t2t/yapps-tt/plugins/system-helpers/lib/helpers/dump-info-service.js")},{moment:442,"yap-require-hook":455}],486:[function(require,module,exports){(function(__filename){(function(){var path,ref$,DBG,INFO,WARN,ERR,Helper,exports;path=require("path"),ref$=global.getLogger(__filename),DBG=ref$.DBG,INFO=ref$.INFO,WARN=ref$.WARN,ERR=ref$.ERR,Helper=function(){function Helper(name,opts,app){this.name=name,this.opts=opts,this.app=app,this.period=opts.period,null==this.period&&(this.period=60),this.counter=0}Helper.displayName="Helper";Helper.prototype;return Helper.prototype.init=function(done){var self,period,f;return period=(self=this).period,INFO("period = "+period),f=function(){return self.timeout.apply(self,[])},setInterval(f,1e3),done()},Helper.prototype.run=function(){return null==global.gc?WARN("missing global.gc() function"):(global.gc(),INFO("run global.gc()"))},Helper.prototype.timeout=function(){0===this.counter&&this.run(),this.counter=this.counter+1,this.counter>=this.period&&(this.counter=0)},Helper}(),module.exports=exports=Helper}).call(this)}).call(this,"/Users/yagamy/Works/workspaces/t2t/yapps-tt/plugins/system-helpers/lib/helpers/regular-gc.js")},{path:void 0}],487:[function(require,module,exports){(function(__filename){(function(){var path,colors,async,ref$,DBG,INFO,WARN,ERR,Manager,exports;path=require("path"),colors=require("yap-require-hook").addReference(require("colors"),"colors"),async=require("yap-require-hook").addReference(require("async"),"async"),ref$=global.getLogger(__filename),DBG=ref$.DBG,INFO=ref$.INFO,WARN=ref$.WARN,ERR=ref$.ERR,Manager=function(){function Manager(app,opts,appHelpers){this.app=app,this.opts=opts,this.appHelpers=appHelpers,this.helpers={}}Manager.displayName="Manager";Manager.prototype;return Manager.prototype.init=function(done){function fn$(){switch(name){case"regular-gc":return require("yap-require-hook").addReference(require("./helpers/regular-gc"),"./helpers/regular-gc");case"dump-info-service":return require("yap-require-hook").addReference(require("./helpers/dump-info-service"),"./helpers/dump-info-service");default:return null}}var self,ref$,app,opts,helpers,name,o,helper,helperClass,error,f;ref$=self=this,app=ref$.app,opts=ref$.opts,helpers=ref$.helpers;for(name in ref$=opts.helpers){o=ref$[name],helper=null;try{helperClass=fn$(),null!=helperClass&&(helper=new helperClass(name,o,app)),null!=helper&&(helpers[name]=helper),null!=helper&&INFO("successfully initiate an instance of "+name.green)}catch(e$){error=e$,ERR(error,"failed to load helper "+name.yellow);continue}}return f=function(helper,name,cb){var callbacked,error;callbacked=!1;try{return helper.init(function(err){var callbacked;return callbacked=!0,cb(err)})}catch(e$){if(error=e$,ERR(error,"failed to initiate helper "+name.yellow),!callbacked)return cb(error)}},async.forEachOfSeries(helpers,f,done)},Manager.prototype.get=function(name){return this.helpers[name]},Manager}(),module.exports=exports={attach:function(opts,helpers){var app;return app=this,app.systemHelpers=module.systemHelpers=new Manager(app,opts,helpers)},init:function(done){var app,systemHelpers;return systemHelpers=(app=this).systemHelpers,systemHelpers.init(done)}}}).call(this)}).call(this,"/Users/yagamy/Works/workspaces/t2t/yapps-tt/plugins/system-helpers/lib/system-helpers.js")},{"./helpers/dump-info-service":485,"./helpers/regular-gc":486,async:33,colors:115,path:void 0,"yap-require-hook":455}],488:[function(require,module,exports){module.exports=exports=require("yap-require-hook").addReference(require("./lib/system-info"),"./lib/system-info")},{"./lib/system-info":489,"yap-require-hook":455}],489:[function(require,module,exports){(function(__filename){(function(){function import$(obj,src){var own={}.hasOwnProperty;for(var key in src)own.call(src,key)&&(obj[key]=src[key]);return obj}var colors,fs,os,http,ifconfig,ref$,DBG,ERR,WARN,INFO,lodash_merge,lodash_find,TTT_SYSTEM_FILEPATH,DUMMY_INTERFACE,LOCALHOST,GET_IPV4_INFO,HTTP_REQUEST,TTT_DEFAULTS,SystemInfo,exports;colors=require("yap-require-hook").addReference(require("colors"),"colors"),fs=require("fs"),os=require("os"),http=require("yap-require-hook").addReference(require("http"),"http"),ifconfig=require("yap-require-hook").addReference(require("wireless-tools/ifconfig"),"wireless-tools/ifconfig"),ref$=global.getLogger(__filename),DBG=ref$.DBG,ERR=ref$.ERR,WARN=ref$.WARN,INFO=ref$.INFO,ref$=global.getBundledModules(),lodash_merge=ref$.lodash_merge,lodash_find=ref$.lodash_find,TTT_SYSTEM_FILEPATH="/tmp/ttt_system",DUMMY_INTERFACE={mac:"ff:ff:ff:ff:ff:ff",ipv4:"0.0.0.0"},LOCALHOST="127.0.0.1",GET_IPV4_INFO=function(name,faces){var xs,res$,i$,len$,f,ys;for(INFO("GET_IPV4_INFO() => name: "+name+", faces: "+JSON.stringify(faces)),res$=[],i$=0,len$=faces.length;len$>i$;++i$)f=faces[i$],"IPv4"===f.family&&null!=f.address&&res$.push(f);return xs=res$,0===xs.length?null:ys=[name,xs[0]]},HTTP_REQUEST=function(host,port,path,done){var opts,callback,req;return opts={host:host,port:port,path:path},callback=function(rsp){var str;return str="",rsp.on("data",function(chunk){return str+=chunk}),rsp.on("end",function(){return done(null,str)})},req=http.request(opts,callback),req.on("error",function(err){return done(err)}),req.end()},TTT_DEFAULTS={profile:"misc",profile_version:"19700101z"},SystemInfo=function(){function SystemInfo(opts,helpers){var self,remote,ttt_defaults,ttt;this.opts=opts,this.helpers=helpers,self=this,remote=opts.remote,ttt_defaults=opts.ttt_defaults,ttt=lodash_merge({},TTT_DEFAULTS,ttt_defaults),self.context={ttt:ttt},self.remote=remote,null==self.remote&&(self.remote=LOCALHOST)}SystemInfo.displayName="SystemInfo";SystemInfo.prototype;return SystemInfo.prototype.init=function(done){var self,remote;return remote=(self=this).remote,self.refresh(function(err){var context,mac_address,ttt,os,id,hostname,env,pid,SYSTEM_INFO_ID,uptime;return null!=err&&remote!==LOCALHOST?done(err):(null!=err&&WARN(err,"failed to update system-info, but ignore it."),context=self.context,mac_address=context.mac_address,ttt=context.ttt,os=context.os,id=ttt.id,hostname=os.hostname,env=process.env,pid=process.pid,SYSTEM_INFO_ID=env.SYSTEM_INFO_ID,context.id=hostname.toUpperCase()+"_"+mac_address.toUpperCase(),null!=SYSTEM_INFO_ID&&(context.id=SYSTEM_INFO_ID),null!=id&&""!==id&&(context.id=id),id=context.id,uptime=new Date-Math.floor(1e3*process.uptime()),uptime=uptime.toString(16).toUpperCase(),pid=process.pid,context.instance_id=id+"_"+pid+"_"+uptime,INFO("context: "+JSON.stringify(context).green),done())})},SystemInfo.prototype.updateInterface=function(name,iface,done,darwin){var context,mac,address,addr;return null==darwin&&(darwin=!1),context=this.context,INFO("update-interface: "+name+" => "+JSON.stringify(iface)),darwin?(mac=iface.mac,address=iface.address,addr=mac,iface.ipv4_address=address,iface.address=mac):addr=iface.address,context.iface={name:name,iface:iface},context.mac_address=addr.split(":").join(""),done()},SystemInfo.prototype.updateTttSystem=function(done){var context,start;return context=this.context,start=new Date,fs.readFile(TTT_SYSTEM_FILEPATH,function(err,buffer){var duration,text,xs,res$,i$,len$,x,error;if(null!=err)return WARN(err,"failed to read "+TTT_SYSTEM_FILEPATH),done();duration=new Date-start;try{for(text=buffer+"",xs=text.split("\n"),res$=[],i$=0,len$=xs.length;len$>i$;++i$)x=xs[i$],""!==x&&res$.push(x.split("	"));for(xs=res$,res$={},i$=0,len$=xs.length;len$>i$;++i$)x=xs[i$],res$[x[0]]=null!=x[1]?x[1].trim():x[1];xs=res$,import$(context.ttt,xs)}catch(e$){error=e$,WARN(error,"unexpected error when reading/parsing "+TTT_SYSTEM_FILEPATH)}return done()})},SystemInfo.prototype.refreshWithRemoteData=function(host,done){var self;return self=this,HTTP_REQUEST(host,6020,"/api/v3/system/metadata",function(err,text){var data,error;if(null!=err)return done(err);try{return data=JSON.parse(text).data,self.context=data,done()}catch(e$){return error=e$,
done(error)}})},SystemInfo.prototype.refresh=function(done){var self,ref$,helpers,context,remote,hostname,node_version,node_arch,node_platform;return ref$=self=this,helpers=ref$.helpers,context=ref$.context,remote=ref$.remote,remote!==LOCALHOST?self.refreshWithRemoteData(remote,done):(hostname=os.hostname(),hostname.endsWith(".local")&&(hostname=hostname.substring(0,hostname.length-6)),hostname.endsWith(".lan")&&(hostname=hostname.substring(0,hostname.length-4)),node_version=process.version,node_arch=process.arch,node_platform=process.platform,context.os={hostname:hostname},context.runtime={node_version:node_version,node_arch:node_arch,node_platform:node_platform},context.cwd=process.cwd(),self.updateTttSystem(function(tttErr){return null!=tttErr?done(tttErr):ifconfig.status(function(ifcErr,status){var xs1,res$,i$,len$,s,xs2,xs3,xs4,interfaces,ifs,xs,k,v,x,error;if(INFO("status => "+JSON.stringify(status,null," ")),null!=ifcErr)return done(ifcErr);context.interfaces=status;try{for(res$=[],i$=0,len$=status.length;len$>i$;++i$)s=status[i$],/^en[0-9][0-9]*$/.test(s["interface"])&&res$.push(s);for(xs1=res$,res$=[],i$=0,len$=status.length;len$>i$;++i$)s=status[i$],/^eth[0-9][0-9]*$/.test(s["interface"])&&res$.push(s);for(xs2=res$,res$=[],i$=0,len$=status.length;len$>i$;++i$)s=status[i$],/^wlan[0-9][0-9]*$/.test(s["interface"])&&res$.push(s);for(xs3=res$,res$=[],i$=0,len$=status.length;len$>i$;++i$)s=status[i$],/^ppp[0-9][0-9]*$/.test(s["interface"])&&res$.push(s);if(xs4=res$,xs1.length>0)return self.updateInterface(xs1[0]["interface"],xs1[0],done);if(xs2.length>0)return self.updateInterface(xs2[0]["interface"],xs2[0],done);if(xs3.length>0)return self.updateInterface(xs3[0]["interface"],xs3[0],done);if(xs4.length>0)return self.updateInterface(xs4[0]["interface"],xs4[0],done);for(res$=[],i$=0,len$=status.length;len$>i$;++i$)s=status[i$],res$.push(s["interface"]);if(interfaces=res$,WARN("No available network adapter interfaces with pattern en/eth/wlan/ppp: "+interfaces.join(", ")),"darwin"!==node_platform)return done();ifs=os.networkInterfaces(),res$=[];for(k in ifs)v=ifs[k],res$.push(k);for(xs=res$,res$=[],i$=0,len$=xs.length;len$>i$;++i$)x=xs[i$],/^en[0-9][0-9]*$/.test(x)&&res$.push(x);for(xs1=res$,res$=[],i$=0,len$=xs.length;len$>i$;++i$)x=xs[i$],/^wlan[0-9][0-9]*$/.test(x)&&res$.push(x);for(xs2=res$,res$=[],i$=0,len$=xs1.length;len$>i$;++i$)x=xs1[i$],res$.push(GET_IPV4_INFO(x,ifs[x]));for(xs1=res$,res$=[],i$=0,len$=xs1.length;len$>i$;++i$)x=xs1[i$],null!=x&&res$.push(x);for(xs1=res$,res$=[],i$=0,len$=xs2.length;len$>i$;++i$)x=xs2[i$],res$.push(GET_IPV4_INFO(x,ifs[x]));for(xs2=res$,res$=[],i$=0,len$=xs2.length;len$>i$;++i$)x=xs2[i$],null!=x&&res$.push(x);return xs2=res$,xs1.length>0?self.updateInterface(xs1[0][0],xs1[0][1],done,!0):xs2.length>0?self.updateInterface(xs2[0][0],xs2[0][1],done,!0):done()}catch(e$){return error=e$,done(error)}})}))},SystemInfo.prototype.toJson=function(){return this.context},SystemInfo}(),module.exports=exports={attach:function(opts,helpers){module.opts=opts,module.helpers=helpers,module.sys=this.systemInfo=new SystemInfo(opts,helpers)},init:function(done){var sys;return sys=module.sys,sys.init(done)}}}).call(this)}).call(this,"/Users/yagamy/Works/workspaces/t2t/yapps-tt/plugins/system-info/lib/system-info.js")},{colors:115,fs:void 0,http:void 0,os:void 0,"wireless-tools/ifconfig":452,"yap-require-hook":455}]},{},[1]);
//# sourceMappingURL=/Users/yagamy/Works/workspaces/t2t/yapps-tt/apps/sensor-web3/work/dists/minized/sensor-web3/app/bundle.js.map